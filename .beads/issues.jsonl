{"id":"docs-7b4","title":"Epic 7: Fix Broken Links and Content Issues","description":"## Summary\nResolve all broken links and content issues identified during the documentation audit. This includes GitBook orphan page references, absolute GitBook editor URLs, and anchor ID mismatches.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. The content was migrated from GitBook. By the time this epic runs, Epic 3 (Content Migration) has moved all files into `documentation/pages/` and done initial cleanup. However, some broken links may remain that require human judgment to resolve.\n\nAll content files are now in `documentation/pages/` (not the old root-level locations). Internal links should use paths without `.md` extensions.\n\n## Broken Links Inventory\n\n### Category 1: GitBook Orphan Page References (3 instances)\nWhen GitBook exports to Git, internal cross-references that fail to resolve become `/broken/pages/XXXXX` links. These need to be resolved or removed.\n\n| File (post-migration path) | Broken Link | Context |\n|---|---|---|\n| `pages/index.md` | `/broken/pages/gNQzZ9R1b3NKrJoQ0Iqa` | Read the surrounding text to determine what this was supposed to link to. It's on the landing/welcome page. |\n| `pages/lexicons/introduction-to-lexicons.md` | `/broken/pages/3UwgsMpD20ErXurhzmTh` | Read the surrounding text -- likely links to one of the lexicon pages |\n| `pages/lexicons/introduction-to-lexicons.md` | `/broken/pages/FdVczwFhTBj7n5nszh0P` | Read the surrounding text -- likely links to one of the lexicon pages |\n\n**Resolution approach:**\n1. Open each file and read the surrounding text around the broken link\n2. Infer what page the link was supposed to point to based on the link text and context\n3. If the target can be determined (e.g., \"General Lexicons\" probably links to `/lexicons/general-lexicons`), replace with the correct path\n4. If the target cannot be determined, remove the `[text](/broken/pages/...)` link syntax but keep the text as plain text. Add a `\u003c!-- TODO: broken link from GitBook migration --\u003e` HTML comment\n\n### Category 2: Absolute GitBook Editor URL (1 instance)\n| File | Broken Link |\n|---|---|\n| `pages/lexicons/hypercerts-lexicons/activity-claim.md` | `https://app.gitbook.com/o/uxU8o4s6mrp88yBisLn5/s/8dkOAon1uQbyqL8RomaJ/hypercert-claim-lexicons/the-impact-and-work-space` |\n\n**Resolution:** The URL path ends with `the-impact-and-work-space`. Replace with the relative internal link `/getting-started/the-impact-and-work-space`.\n\n### Category 3: Anchor ID Mismatches (2 instances)\n| File | Link | Problem | Fix |\n|---|---|---|---|\n| `pages/getting-started/the-impact-and-work-space.md` | Self-referencing `#the-impact-space` | No heading with this anchor exists in the file | Read the file to find the closest matching heading and fix the anchor. If no heading matches, remove the link. |\n| `pages/lexicons/general-lexicons/location.md` | Self-referencing `#locationtype` | The heading is \"### Location Type\" which generates anchor `#location-type` (hyphenated) | Change `#locationtype` to `#location-type` |\n\n## Verification Steps\nAfter fixing all links, run these checks:\n```bash\n# Check for any remaining GitBook artifacts\ngrep -r '/broken/pages/' documentation/pages/\ngrep -r 'app.gitbook.com' documentation/pages/\n\n# Should all return zero results\n```\n\nAlso manually verify:\n- Open each fixed link in the dev server to confirm it navigates correctly\n- For anchor links, click them and verify they scroll to the correct heading\n\n## Acceptance Criteria\n- All 3 `/broken/pages/...` links are either resolved to correct internal paths or removed (text preserved)\n- The absolute GitBook editor URL in activity-claim.md is replaced with `/getting-started/the-impact-and-work-space`\n- Both anchor mismatches are fixed to point to valid heading IDs\n- `grep -r '/broken/' documentation/pages/` returns zero results\n- `grep -r 'app.gitbook.com' documentation/pages/` returns zero results\n- All fixed links work when tested in the browser via `npm run dev`\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:45:06.195729+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:18:28.396574+13:00","closed_at":"2026-02-14T13:18:28.396576+13:00","dependencies":[{"issue_id":"docs-7b4","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:45:06.198001+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-7dv","title":"Epic 4: Navigation and Layout System","description":"## Summary\nBuild a three-column page layout and programmatic navigation system to replace GitBook's `SUMMARY.md`-based navigation. The layout should follow the design language used by Stripe's documentation (docs.stripe.com): a left sidebar for navigation, a centered content column, and a right-side table of contents with scroll spy.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. GitBook uses a file called `SUMMARY.md` with nested Markdown lists to define navigation. We need to replace this with React components.\n\nBy the time this epic runs:\n- Epic 1 has scaffolded the Next.js project\n- `pages/_app.js` exists and wraps all pages\n- Content `.md` files are in `pages/` (from Epic 3)\n\n### Current SUMMARY.md navigation structure:\n```markdown\n# Table of contents\n* [Welcome to the Hypercerts Protocol](README.md)\n## Getting Started\n* [Why we're building Hypercerts](getting-started/why-were-building-hypercerts.md)\n* [Introduction to Impact Claims](getting-started/introduction-to-impact-claims.md)\n* [The Impact and Work Space](getting-started/the-impact-and-work-space.md)\n* [The Hypercerts Infrastructure](getting-started/the-hypercerts-infrastructure.md)\n* [Installing the SDK](getting-started/installing-the-sdk.md)\n## Lexicons\n* [Introduction to Lexicons](lexicons/introduction-to-lexicons.md)\n* [General Lexicons](lexicons/general-lexicons/README.md)\n  * [Shared Defs](lexicons/general-lexicons/shared-defs.md)\n  * [Location](lexicons/general-lexicons/location.md)\n* [Hypercerts Lexicons](lexicons/hypercerts-lexicons/README.md)\n  * [Activity Claim](lexicons/hypercerts-lexicons/activity-claim.md)\n  * [Contribution](lexicons/hypercerts-lexicons/contribution.md)\n  * [Evaluation](lexicons/hypercerts-lexicons/evaluation.md)\n  * [Measurement](lexicons/hypercerts-lexicons/measurement.md)\n  * [Attachment](lexicons/hypercerts-lexicons/attachment.md)\n  * [Rights](lexicons/hypercerts-lexicons/rights.md)\n  * [Collection](lexicons/hypercerts-lexicons/collection.md)\n---\n* [Deep Dive: The Work Scope](deep-dive-the-work-scope.md)\n```\n\n## Design Language (Stripe-Inspired)\n\nThe layout should follow these Stripe documentation patterns:\n\n### Three-column layout:\n```\n┌──────────────────────────────────────────────────────────┐\n│  Header: Site title + optional search                     │\n├────────────┬──────────────────────────────┬───────────────┤\n│            │                              │               │\n│  Left      │  Main Content                │  Right TOC    │\n│  Sidebar   │  (max-width ~720px)          │  (~200px)     │\n│  (~240px)  │                              │               │\n│            │                              │  - Section 1  │\n│  Section   │  # Page Title                │  - Section 2  │\n│  Header    │                              │  - Section 3  │\n│  ├─ Link   │  Body text...                │               │\n│  ├─ Link   │                              │               │\n│  └─ Link   │  ## Section 1                │               │\n│            │  More text...                 │               │\n│  Section   │                              │               │\n│  Header    │  ## Section 2                │               │\n│  ├─ Link   │  Even more text...           │               │\n│  └─ Link   │                              │               │\n│            │  ┌─────────┬──────────┐      │               │\n│            │  │ ← Prev  │ Next →   │      │               │\n│            │  └─────────┴──────────┘      │               │\n├────────────┴──────────────────────────────┴───────────────┤\n```\n\n### Visual characteristics:\n- **Background**: Pure white (#ffffff) everywhere\n- **Sidebar**: 240px wide, sticky/fixed position, scrolls independently. Right border: 1px solid #ebeef1 (very subtle gray)\n- **Content area**: Max-width ~720px, centered in the remaining space with padding 32px on each side\n- **Right TOC**: ~200px wide, sticky, shows H2-level headings from current page, highlights current section as user scrolls (scroll spy)\n- **Section headers in sidebar**: Small text, semibold (font-weight 600), uppercase or regular case, color #687385 (secondary gray). NOT clickable -- they are category labels\n- **Nav items in sidebar**: Regular weight (400), color #414552 (dark gray). On hover: slight background tint. Active item: bold text (600) + light blue-gray background tint\n- **Nesting**: One level of indent for child pages (e.g., \"Shared Defs\" indented under \"General Lexicons\")\n- **Pagination**: Previous/Next links at the bottom of content area, styled as a flex row with left/right alignment\n\n## What You Need to Create\n\n### 1. Navigation config -- `lib/navigation.js`\n```js\nexport const navigation = [\n  { title: 'Welcome', path: '/' },\n  {\n    section: 'Getting Started',\n    children: [\n      { title: \"Why We're Building Hypercerts\", path: '/getting-started/why-were-building-hypercerts' },\n      { title: 'Introduction to Impact Claims', path: '/getting-started/introduction-to-impact-claims' },\n      { title: 'The Impact and Work Space', path: '/getting-started/the-impact-and-work-space' },\n      { title: 'The Hypercerts Infrastructure', path: '/getting-started/the-hypercerts-infrastructure' },\n      { title: 'Installing the SDK', path: '/getting-started/installing-the-sdk' },\n    ]\n  },\n  {\n    section: 'Lexicons',\n    children: [\n      { title: 'Introduction to Lexicons', path: '/lexicons/introduction-to-lexicons' },\n      {\n        title: 'General Lexicons',\n        path: '/lexicons/general-lexicons',\n        children: [\n          { title: 'Shared Defs', path: '/lexicons/general-lexicons/shared-defs' },\n          { title: 'Location', path: '/lexicons/general-lexicons/location' },\n        ]\n      },\n      {\n        title: 'Hypercerts Lexicons',\n        path: '/lexicons/hypercerts-lexicons',\n        children: [\n          { title: 'Activity Claim', path: '/lexicons/hypercerts-lexicons/activity-claim' },\n          { title: 'Contribution', path: '/lexicons/hypercerts-lexicons/contribution' },\n          { title: 'Evaluation', path: '/lexicons/hypercerts-lexicons/evaluation' },\n          { title: 'Measurement', path: '/lexicons/hypercerts-lexicons/measurement' },\n          { title: 'Evidence', path: '/lexicons/hypercerts-lexicons/attachment' },\n          { title: 'Rights', path: '/lexicons/hypercerts-lexicons/rights' },\n          { title: 'Collection', path: '/lexicons/hypercerts-lexicons/collection' },\n        ]\n      }\n    ]\n  },\n  { title: 'Deep Dive: The Work Scope', path: '/deep-dive-the-work-scope' },\n];\n```\n\nItems with `section` are non-clickable category headers. Items with `path` are clickable nav links. Items with `children` can be expanded/collapsed.\n\n### 2. Sidebar component -- `components/Sidebar.js`\n- Renders the navigation tree recursively\n- Uses `next/router` to detect the current path and highlight the active item\n- Section headers rendered as non-clickable labels (semibold, secondary gray, small text)\n- Active item gets bold weight + subtle background highlight\n- Child items are indented ~16px from their parent\n- Collapsible groups: items with children auto-expand when any child is active\n- On mobile (\u003c 768px): sidebar is hidden, revealed via a hamburger toggle button\n\n### 3. Table of Contents component -- `components/TableOfContents.js`\n- Extracts H2 (and optionally H3) headings from the page content\n- Renders a list of anchor links on the right side\n- Implements scroll spy: highlights the heading currently in view as the user scrolls\n- Sticky positioning: stays in view as user scrolls the content\n- Heading text in small font (13px), secondary gray color, active heading in dark color\n\nTo extract headings, you can parse `pageProps.markdoc.content` (the Markdoc AST) or use a client-side approach that queries the DOM for `h2` elements after render.\n\n### 4. Layout component -- `components/Layout.js`\n- Wraps all pages with the three-column layout\n- Accepts `frontmatter` (from `pageProps.markdoc.frontmatter`) and `children`\n- Renders: Header, Sidebar, Main Content, TableOfContents\n- Header: simple bar with site title \"Hypercerts Protocol\" on the left, minimal height (~56px), bottom border 1px #ebeef1\n- Main content area: the `children` prop, wrapped in an `\u003carticle\u003e` tag\n- Pagination: prev/next links at the bottom, derived from the flat list of navigation items\n\n### 5. Update `pages/_app.js`\n```jsx\nimport '../styles/globals.css';\nimport Layout from '../components/Layout';\n// ... component imports for Markdoc tags\n\nexport default function App({ Component, pageProps }) {\n  return (\n    \u003cLayout frontmatter={pageProps.markdoc?.frontmatter}\u003e\n      \u003cComponent {...pageProps} /\u003e\n    \u003c/Layout\u003e\n  );\n}\n```\n\n### 6. Helper: Flatten navigation for prev/next\nCreate a utility function that flattens the navigation tree into an ordered array of `{ title, path }` objects. This is used to compute previous/next page links based on the current path.\n\n## Acceptance Criteria\n- `lib/navigation.js` exports the full navigation tree matching the SUMMARY.md structure\n- `components/Sidebar.js` renders the tree with section headers, active highlighting, and nesting\n- `components/TableOfContents.js` renders right-side H2 anchors with scroll spy\n- `components/Layout.js` implements the three-column layout with header, sidebar, content, and TOC\n- `pages/_app.js` wraps all pages in the Layout component\n- Current page is highlighted in the sidebar\n- Prev/next pagination works at the bottom of each page\n- Layout is responsive: sidebar and TOC collapse/hide on mobile (\u003c 768px), hamburger menu reveals sidebar\n- Page title from frontmatter is displayed in the header or as the page `\u003ctitle\u003e`\n- `SUMMARY.md` is no longer needed for navigation (can be deleted in the cleanup epic)\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:43:02.062194+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:16:23.775047+13:00","closed_at":"2026-02-14T13:16:23.775053+13:00","dependencies":[{"issue_id":"docs-7dv","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:43:02.063743+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-brh","title":"Epic: API/SDK Reference \u0026 Code Examples","status":"open","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:50.566515+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:50.566515+13:00"}
{"id":"docs-brh.1","title":"Add code examples to all 7 existing Hypercerts Lexicon pages","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`.\n\nThe 7 existing Hypercerts Lexicon pages document schemas (field names, types, required/optional) but do NOT include code examples showing how to create records. Stripe's API docs always show a code example alongside every schema. This task adds a \"Code Example\" section to each page.\n\n## Files (all modify)\n- documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md\n- documentation/pages/lexicons/hypercerts-lexicons/contribution.md\n- documentation/pages/lexicons/hypercerts-lexicons/evaluation.md\n- documentation/pages/lexicons/hypercerts-lexicons/measurement.md\n- documentation/pages/lexicons/hypercerts-lexicons/attachment.md\n- documentation/pages/lexicons/hypercerts-lexicons/rights.md\n- documentation/pages/lexicons/hypercerts-lexicons/collection.md\n\n## What to do\n\nFor EACH of the 7 files listed above, append a new section at the end of the file (before any existing closing content, but after the existing \"Examples\" or \"Notes\" section). The new section should be:\n\n```markdown\n## Code Example\n\nCreate a [record type name] record:\n\n\\`\\`\\`typescript\nimport { BskyAgent } from '@atproto/api'\n\nconst agent = new BskyAgent({ service: 'https://pds.example.com' })\nawait agent.login({ identifier: 'your-handle', password: 'your-app-password' })\n\nconst response = await agent.api.com.atproto.repo.createRecord({\n  repo: agent.session.did,\n  collection: '[lexicon-id]',\n  record: {\n    // ... fields specific to this lexicon\n  },\n})\n\nconsole.log('Created:', response.data.uri)\n\\`\\`\\`\n```\n\nSpecific field values for each lexicon (use ONLY fields documented on that page):\n\n1. **activity-claim.md** (`org.hypercerts.claim.activity`):\n   - title: \"Open Source Library Maintenance\"\n   - shortDescription: \"Maintained and improved the core library throughout 2025\"\n   - workScope: { allOf: [\"library-maintenance\"], anyOf: [], noneOf: [] }\n   - startDate: \"2025-01-01T00:00:00Z\"\n   - endDate: \"2025-12-31T23:59:59Z\"\n   - createdAt: new Date().toISOString()\n\n2. **contribution.md** (`org.hypercerts.claim.contribution`):\n   - contributors: [\"did:plc:abc123\"]\n   - role: \"lead-developer\"\n   - description: \"Led the development of core features\"\n   - createdAt: new Date().toISOString()\n\n3. **evaluation.md** (`org.hypercerts.claim.evaluation`):\n   - subject: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid123\", cid: \"bafyrei...\" }\n   - evaluators: [\"did:plc:evaluator1\"]\n   - summary: \"High-quality maintenance work with consistent release cadence\"\n   - createdAt: new Date().toISOString()\n\n4. **measurement.md** (`org.hypercerts.claim.measurement`):\n   - measurers: [\"did:plc:measurer1\"]\n   - metric: \"issues-resolved\"\n   - value: \"142\"\n   - measurementMethodType: \"automated-count\"\n   - createdAt: new Date().toISOString()\n\n5. **attachment.md** (`org.hypercerts.claim.evidence`):\n   - title: \"GitHub Repository\"\n   - shortDescription: \"Source code repository for the maintained library\"\n   - content: { $type: \"org.hypercerts.defs#uri\", uri: \"https://github.com/example/library\" }\n   - createdAt: new Date().toISOString()\n\n6. **rights.md** (`org.hypercerts.claim.rights`):\n   - rightsName: \"Public Display\"\n   - rightsType: \"display\"\n   - rightsDescription: \"Right to publicly display this hypercert as proof of contribution\"\n   - createdAt: new Date().toISOString()\n\n7. **collection.md** (`org.hypercerts.claim.collection`):\n   - title: \"Q1 2025 Open Source Contributions\"\n   - shortDescription: \"All open source maintenance work in Q1 2025\"\n   - claims: [{ claim: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid1\", cid: \"bafyrei...\" }, weight: \"50\" }, { claim: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid2\", cid: \"bafyrei...\" }, weight: \"50\" }]\n   - createdAt: new Date().toISOString()\n\n## Writing style\n- Keep the code examples clean and minimal\n- Add a brief comment above each field explaining what it is\n- Use placeholder values that are realistic but clearly fake (did:plc:abc123, etc.)\n- Add a `{% callout %}` note above the code example: \"The SDK is in active development. Package names and API methods may change.\"\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing content on these pages — only APPEND the new section.\n- Do NOT change the page titles, frontmatter, or existing sections.\n- Do NOT modify navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent fields not documented on the page.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:49.509773+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:51:49.509773+13:00","dependencies":[{"issue_id":"docs-brh.1","depends_on_id":"docs-brh","type":"parent-child","created_at":"2026-02-14T20:51:49.51116+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-brh.2","title":"Write 'Error Handling \u0026 Constraints' reference page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Error codes\" and \"Error handling\" pages — comprehensive reference for what can go wrong and how to handle it. The hypercerts docs currently have no error handling documentation.\n\n## Files\n- documentation/pages/reference/error-handling.md (create)\n- documentation/lib/navigation.js (modify — add new \"Reference\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/error-handling.md` (100–150 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Error Handling \u0026 Constraints\ndescription: Common errors, validation rules, and how to handle them.\n---\n```\n\n**Sections:**\n\n1. **Overview** — When creating or updating records on a PDS, various errors can occur. This page documents common error scenarios and how to handle them.\n\n2. **Record Validation Errors** — Errors that occur when a record does not match its lexicon schema:\n   - Missing required fields (e.g., creating an activity claim without `title` or `startDate`)\n   - Invalid field types (e.g., passing a number where a string is expected)\n   - String length violations (`maxLength` in bytes, `maxGraphemes` in Unicode grapheme clusters)\n   - Array length violations (`maxLength` on array fields)\n   - Invalid datetime format (must be ISO 8601)\n   - Invalid strong reference format (must include both `uri` and `cid`)\n   - For each, show the error scenario and the correct fix\n\n3. **Blob Constraints** — Size limits for uploaded blobs:\n   - `smallBlob`: up to 10MB (from `org.hypercerts.defs`)\n   - `largeBlob`: up to 100MB\n   - `smallImage`: up to 5MB\n   - `largeImage`: up to 10MB\n   - What happens when you exceed these limits\n\n4. **Authentication Errors** — Common auth issues:\n   - Invalid credentials\n   - Expired session\n   - Insufficient permissions\n   - How to refresh sessions\n\n5. **Reference Errors** — Issues with strong references:\n   - Referenced record does not exist\n   - CID mismatch (record was updated since reference was created)\n   - Cross-PDS reference resolution failures\n\n6. **Rate Limits \u0026 PDS Constraints** — Operational limits:\n   - PDS may impose rate limits on record creation\n   - Repository size limits\n   - How to handle rate limit responses (retry with backoff)\n   - Add a `{% callout %}` noting that specific limits depend on the PDS implementation\n\n7. **Best Practices** — General error handling advice:\n   - Always validate records client-side before sending to PDS\n   - Use try/catch around all API calls\n   - Log errors with context (which record, which field)\n   - Show a TypeScript error handling pattern\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section called \"Reference\" AFTER the \"Architecture\" section:\n\n```javascript\n{\n  section: 'Reference',\n  children: [\n    { title: 'Error Handling \u0026 Constraints', path: '/reference/error-handling' },\n  ],\n},\n```\n\n## Writing style\n- Reference style: concise, scannable, table-heavy\n- Use tables for error codes/scenarios where appropriate\n- Use fenced code blocks for error examples and fixes\n- Use `{% callout %}` for important warnings\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent specific HTTP status codes for ATProto errors — describe error scenarios generically.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:52:12.431581+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:52:12.431581+13:00","dependencies":[{"issue_id":"docs-brh.2","depends_on_id":"docs-brh","type":"parent-child","created_at":"2026-02-14T20:52:12.433007+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-c34","title":"Epic 1: Scaffold Next.js + Markdoc Project","description":"## Summary\nSet up a Next.js project with Markdoc integration inside the existing `documentation/` directory. This is the foundation that all other migration work depends on. The final documentation site should follow a Stripe-docs-inspired design language (clean, white, professional, content-focused).\n\n## Current State of the Repository\nThe repository root is at `/Users/sharfy/Code/hypercerts-atproto-documentation`. Inside it:\n- `documentation/` -- contains the current documentation (a GitBook-managed site with NO build toolchain, NO package.json)\n- `.beads/` -- beads issue tracker database (do not modify)\n- `AGENTS.md` -- agent instructions (do not modify)\n\nThe `documentation/` directory currently contains:\n```\ndocumentation/\n├── .gitbook/\n│   └── assets/\n│       ├── hypercert erd.png\n│       └── hypercerts_for_projects.png\n├── README.md                    (landing page)\n├── SUMMARY.md                   (GitBook navigation config)\n├── deep-dive-the-work-scope.md\n├── getting-started/\n│   ├── why-were-building-hypercerts.md\n│   ├── introduction-to-impact-claims.md\n│   ├── the-impact-and-work-space.md\n│   ├── the-hypercerts-infrastructure.md\n│   └── installing-the-sdk.md\n└── lexicons/\n    ├── introduction-to-lexicons.md\n    ├── general-lexicons/\n    │   ├── README.md\n    │   ├── shared-defs.md\n    │   └── location.md\n    └── hypercerts-lexicons/\n        ├── README.md\n        ├── activity-claim.md\n        ├── contribution.md\n        ├── evaluation.md\n        ├── measurement.md\n        ├── attachment.md\n        ├── rights.md\n        └── collection.md\n```\n\nThat's 17 Markdown content files, 1 navigation file (SUMMARY.md), and 2 PNG images. There is no package.json, no JavaScript, no build toolchain.\n\n## What You Need to Do\n\n### 1. Initialize the Next.js project inside `documentation/`\nRun these commands from inside the `documentation/` directory:\n```bash\nnpm init -y\nnpm install next@latest react@latest react-dom@latest @markdoc/markdoc @markdoc/next.js\n```\n\n### 2. Create `next.config.js`\n```js\nconst withMarkdoc = require('@markdoc/next.js');\n\nmodule.exports = withMarkdoc({ mode: 'static' })({\n  pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']\n});\n```\n\n### 3. Add scripts to `package.json`\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  }\n}\n```\n\n### 4. Create the directory structure\nCreate these empty directories (content will be added in later epics):\n```\ndocumentation/\n├── components/          # React components (Layout, Sidebar, etc.)\n├── markdoc/\n│   ├── tags/            # Custom Markdoc tag definitions\n│   └── nodes/           # Custom Markdoc node overrides\n├── pages/               # Next.js pages (content .md files go here)\n│   └── _app.js          # App wrapper\n├── public/\n│   └── images/          # Static assets (images)\n├── styles/\n│   └── globals.css      # Global stylesheet\n├── next.config.js\n├── package.json\n└── .gitignore\n```\n\n### 5. Create `pages/_app.js`\nA minimal app wrapper that imports global styles:\n```jsx\nimport '../styles/globals.css';\n\nexport default function App({ Component, pageProps }) {\n  return \u003cComponent {...pageProps} /\u003e;\n}\n```\nNote: The Layout component wrapping will be added in Epic 4 (Navigation \u0026 Layout). For now, just the bare wrapper is needed.\n\n### 6. Create a minimal `styles/globals.css`\nJust enough to verify the site loads:\n```css\n* { box-sizing: border-box; margin: 0; padding: 0; }\nbody { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }\n```\n\n### 7. Create a test page at `pages/index.md`\n```markdown\n---\ntitle: Test Page\n---\n\n# Hello Markdoc\n\nThis is a test page to verify the setup works.\n```\n\n### 8. Create `.gitignore`\n```\nnode_modules/\n.next/\nout/\n```\n\n### 9. Verify\n```bash\nnpm run dev    # Should start at http://localhost:3000\nnpm run build  # Should complete without errors\n```\n\nAfter verifying, you can delete the test `pages/index.md` -- it will be replaced by actual content in Epic 3.\n\n## Acceptance Criteria\n- `documentation/package.json` exists with next, react, react-dom, @markdoc/markdoc, @markdoc/next.js as dependencies\n- `documentation/next.config.js` exists with `withMarkdoc({ mode: 'static' })` and `pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']`\n- Directory structure has: `pages/`, `components/`, `markdoc/`, `markdoc/tags/`, `markdoc/nodes/`, `public/`, `public/images/`, `styles/` directories\n- `pages/_app.js` exists with a basic wrapper that imports globals.css\n- `styles/globals.css` exists with minimal reset\n- `npm run dev` starts the dev server successfully and shows the test page\n- `npm run build` completes without errors\n- `.gitignore` includes node_modules/, .next/, out/\n- The existing GitBook files (README.md, SUMMARY.md, getting-started/, lexicons/, .gitbook/, deep-dive-the-work-scope.md) are NOT deleted or moved yet -- that happens in later epics\n","status":"closed","priority":0,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:41:49.036228+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:03:51.028646+13:00","closed_at":"2026-02-14T13:03:51.028656+13:00"}
{"id":"docs-cfx","title":"Epic: Getting Started \u0026 Onboarding — Fill stubs and add missing onboarding pages","status":"open","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:41.382394+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:41.382394+13:00"}
{"id":"docs-cfx.1","title":"Write 'The Hypercerts Infrastructure' page (fill stub)","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThe existing page at `documentation/pages/getting-started/the-hypercerts-infrastructure.md` is a stub — it contains only the heading \"Why ATProto?\" with body \"_TBD_\". It is already wired into navigation (position 4 in Getting Started section).\n\n## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n\n## What to do\n\nReplace the stub content with a full page (150–250 lines of Markdoc) covering:\n\n1. **Why ATProto?** — Explain why the Hypercerts Protocol chose AT Protocol as its data layer. Cover these three properties (already described in `documentation/pages/getting-started/why-were-building-hypercerts.md` under \"The Data Layer: AT Protocol\" section starting at line 177):\n   - Portable, user-controlled data (PDS/SDS, self-hosting, no lock-in)\n   - Shared schemas across applications (lexicons, interoperability)\n   - Decentralized trust-graph for impact (DIDs, reputation, endorsements)\n   Expand on each with 2-3 paragraphs. Do NOT just copy from the \"Why\" page — this page should go deeper into the technical details.\n\n2. **The Two-Layer Architecture** — Explain how ATProto (data layer) and blockchain (ownership/funding layer) complement each other. Cover:\n   - What lives on ATProto: claims, evidence, evaluations, measurements, trust signals\n   - What lives on-chain: ownership, tokenization, funding flows, immutability guarantees\n   - How they connect: anchoring, references between layers\n\n3. **Key Concepts for Developers** — Brief explanations of:\n   - DID (Decentralized Identifier) — what it is, how users get one\n   - PDS (Personal Data Server) — where data lives\n   - Lexicon — link to the lexicons section for details\n   - XRPC — the API protocol ATProto uses\n   - Repository — a user's collection of records\n\n4. **How Hypercerts Data Flows** — A narrative walkthrough: a contributor creates a hypercert → it's stored on their PDS → an evaluator on a different PDS references it → a funder sees both via an indexer → ownership is anchored on-chain.\n\n## Writing style\n- Match the tone of `documentation/pages/getting-started/why-were-building-hypercerts.md`: clear, accessible, avoids jargon where possible, explains technical terms when first used.\n- Use `##` for main sections, `####` for subsections (this is the pattern used in existing pages).\n- Keep the existing frontmatter format: `---\\ntitle: The Hypercerts Infrastructure\\n---`\n- Use `{% callout %}` tags for important notes or warnings.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds). The page must render without errors.\n\n## Dont\n- Do NOT modify navigation.js — the page is already wired in.\n- Do NOT add images or new components.\n- Do NOT copy text verbatim from why-were-building-hypercerts.md — rephrase and expand.\n- Do NOT invent specific technical details about the Hypercerts SDK that do not exist yet.\n- Do NOT use HTML tags — use Markdoc syntax only.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:48:23.218964+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:48:23.218964+13:00","dependencies":[{"issue_id":"docs-cfx.1","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:48:23.220708+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.2","title":"Write 'Installing the SDK \u0026 Dev Environment Setup' page (fill stub)","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThe existing page at `documentation/pages/getting-started/installing-the-sdk.md` is a stub — it contains only the title heading with no body content. It is already wired into navigation (position 5 in Getting Started section).\n\nStripe's equivalent: \"Set up your development environment\" — covers CLI installation, SDK setup, API keys, and first API call.\n\n## Files\n- documentation/pages/getting-started/installing-the-sdk.md (modify)\n\n## What to do\n\nReplace the stub with a full page (100–180 lines of Markdoc) covering:\n\n1. **Prerequisites** — What you need before starting:\n   - Node.js (specify v18+ or v20+)\n   - An AT Protocol account (DID) — link to atproto.com for account creation\n   - A PDS (Personal Data Server) — explain that the Hypercerts Foundation runs one, or you can self-host\n\n2. **Install the SDK** — Show installation commands:\n   ```bash\n   npm install @hypercerts/sdk\n   ```\n   (Use this as a placeholder package name. Add a callout noting the SDK is in active development and the package name may change.)\n\n3. **Authentication** — Explain how to authenticate:\n   - App passwords for development\n   - OAuth for production applications\n   - Show a code snippet of creating an authenticated client (use TypeScript)\n\n4. **Your First Hypercert** — A minimal code example that:\n   - Creates an authenticated session\n   - Creates a simple activity claim record with title, shortDescription, startDate, endDate, createdAt\n   - Show the expected response structure\n   Use the lexicon schema from `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md` for field names and types.\n\n5. **Development Tools** — Brief mention of:\n   - ATProto tooling (e.g., `@atproto/api` package)\n   - How to inspect your PDS data\n   - Where to get help (link to GitHub, community)\n\n## Writing style\n- Match the tone of existing pages: clear, accessible, explains terms when first used.\n- Use `##` for main sections, `####` for subsections.\n- Use fenced code blocks with language tags (```bash, ```typescript).\n- Use `{% callout %}` for warnings about SDK being in development.\n- Keep the existing frontmatter format: `---\\ntitle: Installing the SDK\\n---`\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify navigation.js — the page is already wired in.\n- Do NOT add images or new components.\n- Do NOT invent real API endpoints or real package names that do not exist — clearly mark placeholders with callouts.\n- Do NOT use HTML tags — use Markdoc syntax only.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:48:40.431426+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:48:40.431426+13:00","dependencies":[{"issue_id":"docs-cfx.2","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:48:40.433594+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.3","title":"Write 'Quickstart Guide' page — zero to first hypercert in 5 minutes","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThis is a NEW page. Stripe's equivalent is their \"Checkout quickstart\" — a fast, copy-paste-and-run tutorial that gets developers to a working result in under 5 minutes.\n\nCurrently the docs have no quickstart. Developers land on conceptual pages and have no clear path to \"make something work.\"\n\n## Files\n- documentation/pages/getting-started/quickstart.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the quickstart page\n\nCreate `documentation/pages/getting-started/quickstart.md` (80–130 lines of Markdoc) with this structure:\n\n**Frontmatter:**\n```\n---\ntitle: Quickstart\ndescription: Create your first hypercert in under 5 minutes.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (2-3 sentences) — \"This guide walks you through creating your first hypercert. By the end, you'll have a published activity claim on your Personal Data Server.\"\n\n2. **Step 1: Get an AT Protocol Account** — Brief instructions to create a DID. Link to atproto.com. Mention the Hypercerts Foundation PDS as an option.\n\n3. **Step 2: Install the SDK** — `npm install @hypercerts/sdk` (placeholder, with callout). Link to the full \"Installing the SDK\" page for details.\n\n4. **Step 3: Authenticate** — Minimal TypeScript code to create an authenticated session using an app password.\n\n5. **Step 4: Create an Activity Claim** — TypeScript code example creating a minimal hypercert with these fields (from the activity claim lexicon at `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md`):\n   - title: \"My First Hypercert\"\n   - shortDescription: \"A test contribution to learn the protocol\"\n   - startDate: \"2025-01-01T00:00:00Z\"\n   - endDate: \"2025-12-31T23:59:59Z\"\n   - createdAt: current timestamp\n\n6. **Step 5: Verify Your Hypercert** — Show how to read back the record you just created. Show expected response shape.\n\n7. **Next Steps** — Card links to:\n   - \"Introduction to Impact Claims\" (`/getting-started/introduction-to-impact-claims`)\n   - \"The Impact and Work Space\" (`/getting-started/the-impact-and-work-space`)\n   - \"Activity Claim Lexicon\" (`/lexicons/hypercerts-lexicons/activity-claim`)\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add the quickstart as the FIRST item in the Getting Started section:\n\n```javascript\n{\n  section: 'Getting Started',\n  children: [\n    { title: 'Quickstart', path: '/getting-started/quickstart' },  // ADD THIS LINE\n    { title: \"Why We're Building Hypercerts\", path: ... },\n    // ... rest unchanged\n  ],\n},\n```\n\n## Writing style\n- Action-oriented, imperative voice: \"Install the SDK\", \"Create an activity claim\"\n- Numbered steps with clear code blocks\n- Use `{% callout %}` for prerequisites and warnings about placeholder package names\n- Use `{% card-link %}` for the Next Steps section\n- Fenced code blocks with ```typescript and ```bash language tags\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT exceed 130 lines — this must feel fast and lightweight.\n- Do NOT explain concepts in depth — link to other pages for that.\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT modify any other existing pages.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:01.554509+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:49:01.554509+13:00","dependencies":[{"issue_id":"docs-cfx.3","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:49:01.556173+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-cfx.3","depends_on_id":"docs-cfx.2","type":"blocks","created_at":"2026-02-14T20:54:30.488814+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.4","title":"Write 'Account \u0026 Identity Setup' page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThis is a NEW page. Stripe's equivalent: \"Activate your account\" and \"Create and manage multiple accounts.\" In the ATProto world, the equivalent is setting up your DID, choosing a PDS, and understanding your identity.\n\nCurrently the docs mention DIDs and PDS in passing but never explain how to actually set one up.\n\n## Files\n- documentation/pages/getting-started/account-and-identity.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/getting-started/account-and-identity.md` (100–160 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Account \u0026 Identity Setup\ndescription: Set up your AT Protocol identity for use with Hypercerts.\n---\n```\n\n**Sections:**\n\n1. **What is an AT Protocol Identity?** (3-4 paragraphs)\n   - Every participant in the Hypercerts ecosystem has a DID (Decentralized Identifier)\n   - Your DID is your permanent identity — it stays the same even if you change servers\n   - DIDs can represent individuals OR organizations\n   - Explain the difference between `did:plc` and `did:web` briefly\n\n2. **Creating Your Account**\n   - Option A: Use the Hypercerts Foundation PDS (recommended for getting started)\n   - Option B: Use an existing ATProto account (e.g., Bluesky)\n   - Option C: Self-host a PDS\n   - For each option, provide 2-3 sentences explaining when to choose it\n\n3. **Your Personal Data Server (PDS)**\n   - What a PDS stores (your records, blobs, identity)\n   - How data portability works (you can move between PDS providers)\n   - The relationship between your DID and your PDS\n\n4. **Handles and Domain Verification**\n   - How ATProto handles work (e.g., @username.bsky.social)\n   - Custom domain handles for organizations\n   - Why this matters for trust (a handle like @numpy.org proves organizational identity)\n\n5. **Organization Accounts**\n   - Shared Data Servers (SDS) for teams\n   - How multiple contributors can write to the same repository\n   - Use case: an open-source project with multiple maintainers\n\n6. **Security Best Practices**\n   - App passwords vs. main password\n   - Rotation keys and account recovery\n   - Use `{% callout %}` for security warnings\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry in the Getting Started section AFTER \"Quickstart\" (if it exists) or as the SECOND item:\n\n```javascript\n{ title: 'Account \u0026 Identity Setup', path: '/getting-started/account-and-identity' },\n```\n\n## Writing style\n- Match existing page tone: clear, accessible, explains terms when first used\n- Use `##` for main sections, `####` for subsections\n- Use `{% callout %}` for security warnings and important notes\n- Keep the existing frontmatter format\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent specific URLs for the Hypercerts Foundation PDS — use placeholder text with a callout.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:19.581296+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:49:19.581296+13:00","dependencies":[{"issue_id":"docs-cfx.4","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:49:19.582568+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cij","title":"Epic 6: Images and Asset Migration","description":"## Summary\nMove all image assets from the GitBook-specific `.gitbook/assets/` directory to the standard Next.js `public/images/` directory, rename files to remove spaces, update all references in content files, and delete the old `.gitbook/` directory.\n\n## Context\nThis project is a Next.js + Markdoc documentation site. The project root is `documentation/` inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`.\n\nThe current documentation was migrated from GitBook, which stores images in a `.gitbook/assets/` directory. In Next.js, static assets live in the `public/` directory and are served from the root URL path. For example, `public/images/foo.png` is accessible at `/images/foo.png`.\n\nBy the time this epic runs:\n- Epic 1 has created the `public/images/` directory\n- Epic 3 may have already updated image references in content files to use `/images/...` paths and converted `\u003cfigure\u003e` HTML to `{% figure %}` Markdoc tags. Check the current state of the files before making changes.\n\n## Current Image Assets\nThe `documentation/.gitbook/assets/` directory contains 2 PNG files:\n- `hypercerts_for_projects.png` -- referenced in the landing page\n- `hypercert erd.png` -- referenced in the landing page and the impact claims page (note: filename has a SPACE)\n\n## Files That Reference Images\nThese files contain image references (paths may already be updated by Epic 3):\n\n1. **pages/index.md** (was README.md) -- 2 image references:\n   - `.gitbook/assets/hypercerts_for_projects.png`\n   - `.gitbook/assets/hypercert erd.png`\n\n2. **pages/getting-started/introduction-to-impact-claims.md** -- 1 image reference:\n   - `../.gitbook/assets/hypercert erd.png`\n\n## Tasks\n\n### 1. Copy and rename image files\n```bash\ncp 'documentation/.gitbook/assets/hypercerts_for_projects.png' documentation/public/images/hypercerts_for_projects.png\ncp 'documentation/.gitbook/assets/hypercert erd.png' documentation/public/images/hypercert-erd.png\n```\nNote: `hypercert erd.png` is renamed to `hypercert-erd.png` (space replaced with hyphen).\n\n### 2. Update image references in content files\nIf not already done by Epic 3, update all image paths:\n- `.gitbook/assets/hypercerts_for_projects.png` -\u003e `/images/hypercerts_for_projects.png`\n- `.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n- `../.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n\nThese may appear as `{% figure src=\"...\" %}` Markdoc tags or as standard `![](...)` Markdown images or as `\u003cfigure\u003e\u003cimg src=\"...\"\u003e` HTML, depending on what Epic 3 did.\n\n### 3. Delete the .gitbook/ directory\n```bash\nrm -rf documentation/.gitbook\n```\n\n### 4. Verify\n- Confirm `documentation/public/images/` contains both PNGs\n- Run `grep -r '.gitbook/' documentation/pages/` -- should return zero results\n- Run `grep -r '.gitbook/' documentation/components/` -- should return zero results\n- Start dev server (`npm run dev`) and verify images render on the relevant pages\n\n## Acceptance Criteria\n- `documentation/public/images/hypercerts_for_projects.png` exists\n- `documentation/public/images/hypercert-erd.png` exists (no space in filename)\n- All image references in content files point to `/images/...` paths\n- `documentation/.gitbook/` directory is deleted\n- `grep -r '.gitbook/' documentation/pages/` returns zero results\n- Images render correctly when viewing pages in the browser via `npm run dev`\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:44:34.862052+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:05:11.939424+13:00","closed_at":"2026-02-14T13:05:11.939425+13:00","dependencies":[{"issue_id":"docs-cij","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:44:34.864383+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-d4r","title":"Epic 8: Build Configuration and Vercel Deployment","description":"## Summary\nVerify the Next.js build pipeline works end-to-end, fix any build errors, and configure Vercel deployment for the documentation site.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`. All commands should be run from the `documentation/` directory.\n\nBy the time this epic runs, Epics 1-7 have:\n- Scaffolded the Next.js + Markdoc project (Epic 1)\n- Created custom Markdoc tags and React components (Epic 2)\n- Migrated all 17 content files to `pages/` (Epic 3)\n- Built the navigation and layout system (Epic 4)\n- Applied Stripe-inspired styling (Epic 5)\n- Moved images to `public/images/` (Epic 6)\n- Fixed all broken links (Epic 7)\n\n## Tasks\n\n### 1. Verify Local Development Server\n```bash\ncd documentation\nnpm run dev\n```\n- Open http://localhost:3000 in a browser\n- Navigate through ALL pages via the sidebar and verify:\n  - Pages load without console errors\n  - Images display correctly\n  - Tables render with proper styling\n  - Callout boxes display with colored left borders\n  - Column layouts work (side by side on desktop)\n  - Sidebar navigation highlights the current page\n  - Right-side table of contents shows headings\n  - Prev/next pagination links work\n- Fix any runtime errors or warnings\n\n### 2. Verify Production Build\n```bash\ncd documentation\nnpm run build\n```\n- Ensure the build completes with ZERO errors\n- Common issues to watch for:\n  - Missing component imports\n  - Invalid Markdoc tag syntax in .md files\n  - Broken internal links that cause 404s during static generation\n  - CSS module import errors\n- Fix any build-time errors before proceeding\n\n### 3. Test Production Server Locally\n```bash\ncd documentation\nnpm run start\n```\n- Verify the production build serves correctly at http://localhost:3000\n- Spot-check 3-5 pages for rendering issues\n- Verify images load (they should be in `public/images/`)\n\n### 4. Configure Static Export (if desired)\nFor pure static hosting, add `output: 'export'` to `next.config.js`:\n```js\nconst withMarkdoc = require('@markdoc/next.js');\nmodule.exports = withMarkdoc({ mode: 'static' })({\n  output: 'export',\n  pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']\n});\n```\nThen `npm run build` will output static files to the `out/` directory.\n\n### 5. Verify .gitignore\nEnsure `documentation/.gitignore` contains:\n```\nnode_modules/\n.next/\nout/\n```\n\n### 6. Prepare for Vercel Deployment\nCreate or verify that the project is ready for Vercel:\n- The `documentation/` directory should be self-contained with its own `package.json`\n- `npm run build` must succeed\n- The Vercel project settings should be:\n  - **Root Directory:** `documentation`\n  - **Framework Preset:** Next.js (auto-detected)\n  - **Build Command:** `npm run build` (or auto-detected)\n  - **Output Directory:** `.next` (or `out` if using static export)\n\nNote: Actually connecting the GitHub repo to Vercel and deploying is a manual step that requires Vercel account access. This epic should ensure the project is deployment-ready.\n\n## Acceptance Criteria\n- `npm run dev` starts without errors and all 17 pages render correctly\n- `npm run build` completes with zero errors\n- `npm run start` serves the production build correctly\n- `.gitignore` excludes `node_modules/`, `.next/`, `out/`\n- All pages, images, tables, callouts, columns, sidebar navigation, and pagination work correctly\n- The project is ready to be deployed to Vercel (self-contained `documentation/` directory with valid `package.json` and build scripts)\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:45:29.358726+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:19:10.831281+13:00","closed_at":"2026-02-14T13:19:10.831287+13:00","dependencies":[{"issue_id":"docs-d4r","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:45:29.360892+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:45:29.363352+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:45:29.364147+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:45:29.364846+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-yne","type":"blocks","created_at":"2026-02-13T13:45:29.365508+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-cij","type":"blocks","created_at":"2026-02-13T13:45:29.366168+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-7b4","type":"blocks","created_at":"2026-02-13T13:45:29.366821+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq","title":"Epic 10: Stripe Design Language Refinements","description":"## Goal\n\nRefine the Hypercerts documentation site to match Stripe's documentation design language — not just CSS tokens but the full design language: layout patterns, content presentation, interaction design, and structural elements.\n\n## Context\n\nAll 9 migration epics are complete. The site builds and exports correctly. The current design has the right tokens (colors, fonts, spacing) but lacks the polish and interaction patterns that make Stripe docs feel premium:\n\n1. No custom scrollbar styling — browser defaults look chunky\n2. No heading anchor links — can't easily copy section links\n3. Content area is centered with `margin: 0 auto` — looks asymmetric with sidebar + TOC\n4. `\u003cstrong\u003e` / `\u003cb\u003e` needs darker color and weight 700\n5. Links use `text-decoration: underline` on hover — Stripe uses bottom-border approach\n6. First H2 has too much top margin after H1\n7. Header is too plain — just 'Hypercerts Protocol' text\n8. No smooth transitions on hover states\n9. Landing page lacks card-style navigation links\n10. No breadcrumb navigation\n\n## Acceptance Criteria\n\n- `npm run build --prefix documentation` exits 0\n- All 11 design refinements implemented\n- No regressions to existing content rendering\n- Site remains fully static-exportable\n\n## Technical Notes\n\n- Project uses Next.js 16 + @markdoc/next.js with `--webpack` flag\n- CSS is in `documentation/styles/globals.css` (654 lines)\n- Components in `documentation/components/`\n- Markdoc nodes in `documentation/markdoc/nodes/` (currently empty)\n- `documentation/pages/_app.js` registers Markdoc components","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:23:44.58559+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:10:10.597195+13:00","closed_at":"2026-02-14T20:10:10.597195+13:00","close_reason":"Closed"}
{"id":"docs-dfq.1","title":"Custom scrollbar styling for sidebar, TOC, and code blocks","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd custom thin scrollbar styling throughout the site, matching Stripe docs pattern:\n\n1. Add a global scrollbar utility section in globals.css after the Reset section (around line 9).\n\n2. **Sidebar scrollbar** (`.sidebar`): \n   - Width: 6px\n   - Track: transparent\n   - Thumb: `rgba(0,0,0,0.15)` with border-radius 3px\n   - Thumb on hover: `rgba(0,0,0,0.25)`\n   - Auto-hide behavior: set thumb to transparent by default, show on `.sidebar:hover` (use `::-webkit-scrollbar-thumb` with transition workaround)\n   - Firefox: `scrollbar-width: thin; scrollbar-color: transparent transparent;` by default, `scrollbar-color: rgba(0,0,0,0.15) transparent;` on hover\n\n3. **TOC scrollbar** (`.toc`):\n   - Same styling as sidebar\n\n4. **Code block scrollbar** (`.layout-content pre`):\n   - Horizontal scrollbar only (already has `overflow-x: auto`)\n   - Height: 6px\n   - Track: transparent  \n   - Thumb: `rgba(0,0,0,0.12)` with border-radius 3px\n   - Always visible when content overflows (no auto-hide needed)\n\n5. Use both `-webkit-scrollbar` (Chrome/Safari/Edge) and `scrollbar-width`/`scrollbar-color` (Firefox) properties.\n\n## CSS to add (insert after line 8, before Design Tokens):\n\n```css\n/* ===== Scrollbar Styling ===== */\n/* Webkit (Chrome, Safari, Edge) */\n.sidebar::-webkit-scrollbar,\n.toc::-webkit-scrollbar {\n  width: 6px;\n}\n\n.sidebar::-webkit-scrollbar-track,\n.toc::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.sidebar::-webkit-scrollbar-thumb,\n.toc::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 3px;\n}\n\n.sidebar:hover::-webkit-scrollbar-thumb,\n.toc:hover::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.15);\n}\n\n.sidebar::-webkit-scrollbar-thumb:hover,\n.toc::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.25);\n}\n\n/* Code block horizontal scrollbar */\n.layout-content pre::-webkit-scrollbar {\n  height: 6px;\n}\n\n.layout-content pre::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.layout-content pre::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n}\n\n.layout-content pre::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.2);\n}\n\n/* Firefox */\n.sidebar,\n.toc {\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n\n.sidebar:hover,\n.toc:hover {\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\n}\n\n.layout-content pre {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.12) transparent;\n}\n```\n\n## Edge cases\n- Do NOT remove or modify existing `overflow-y: auto` on `.sidebar` or `overflow-x: auto` on `.layout-content pre`\n- Do NOT add scrollbar styles to the main body/html element\n- The Firefox `scrollbar-color` properties on `.sidebar` and `.toc` must be added to the EXISTING rule blocks (merge with existing selectors), OR placed after them so they cascade correctly. Since `.sidebar` already has styles at line 162, add the Firefox properties there OR use the new scrollbar section with higher specificity.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Verify visually that scrollbar styles are present in the built CSS.\n\n## Dont\n- Do not modify any JavaScript files\n- Do not change any existing CSS properties — only ADD new scrollbar-related properties\n- Do not use JavaScript-based scrollbar libraries","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:20.195548+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:50.061126+13:00","closed_at":"2026-02-14T20:03:50.061126+13:00","close_reason":"Added custom scrollbar styling for sidebar, TOC, and code blocks. Build successful.","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.1","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:20.196559+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.2","title":"Heading anchor links on hover with Markdoc node override","description":"## Files\n- documentation/markdoc/nodes/heading.markdoc.js (create)\n- documentation/components/Heading.js (create)\n- documentation/pages/_app.js (modify)\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd clickable anchor links (#) that appear on hover next to H2 and H3 headings, matching Stripe docs pattern. This requires a Markdoc heading node override.\n\n### 1. Create `documentation/markdoc/nodes/heading.markdoc.js`\n\nThis file tells @markdoc/next.js to use a custom component for heading nodes:\n\n```js\nimport { nodes } from \"@markdoc/markdoc\";\n\nconst heading = {\n  ...nodes.heading,\n  render: \"Heading\",\n};\n\nexport default heading;\n```\n\n### 2. Create `documentation/components/Heading.js`\n\nThis React component renders headings with auto-generated IDs and hover anchor links:\n\n```jsx\nimport React from \"react\";\n\nfunction generateId(children) {\n  const text = React.Children.toArray(children)\n    .filter((child) =\u003e typeof child === \"string\")\n    .join(\"\");\n  return text\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/(^-|-$)/g, \"\");\n}\n\nexport function Heading({ level = 2, children, id }) {\n  const Tag = `h${level}`;\n  const headingId = id || generateId(children);\n\n  return (\n    \u003cTag id={headingId} className=\"heading-anchor-target\"\u003e\n      {children}\n      {(level === 2 || level === 3) \u0026\u0026 (\n        \u003ca\n          href={`#${headingId}`}\n          className=\"heading-anchor\"\n          aria-label={`Link to this section`}\n          onClick={(e) =\u003e {\n            e.preventDefault();\n            const el = document.getElementById(headingId);\n            if (el) {\n              el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n              history.pushState(null, \"\", `#${headingId}`);\n            }\n          }}\n        \u003e\n          #\n        \u003c/a\u003e\n      )}\n    \u003c/Tag\u003e\n  );\n}\n```\n\n### 3. Modify `documentation/pages/_app.js`\n\nImport the Heading component and register it in the components object:\n\nAdd this import at the top:\n```js\nimport { Heading } from \"../components/Heading\";\n```\n\nAdd `Heading` to the components object:\n```js\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n  Heading,\n};\n```\n\n### 4. Add CSS to `documentation/styles/globals.css`\n\nAdd these styles in the Typography section (after the existing heading styles, around line 416):\n\n```css\n/* Heading anchor links */\n.heading-anchor-target {\n  position: relative;\n}\n\n.heading-anchor {\n  position: absolute;\n  left: -1.2em;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-text-secondary);\n  text-decoration: none;\n  font-weight: 400;\n  opacity: 0;\n  transition: opacity 0.15s ease;\n  font-size: 0.85em;\n}\n\n.heading-anchor:hover {\n  color: var(--color-link);\n  text-decoration: none;\n}\n\n.heading-anchor-target:hover .heading-anchor {\n  opacity: 1;\n}\n```\n\n## Edge cases\n- The `generateId` function must handle children that are React elements (not just strings). Use `React.Children.toArray` and filter for strings.\n- H1 headings should NOT get anchor links (only H2 and H3).\n- H4, H5, H6 should render normally without anchor links.\n- The heading ID generation must match the existing ID generation in `TableOfContents.js` (same algorithm: lowercase, replace non-alphanumeric with hyphens, trim hyphens). The TOC component reads IDs from the DOM, so as long as the Heading component sets `id` on the element, it will work.\n- The `id` prop may be passed by Markdoc if the markdown has `{% heading id=\"custom-id\" %}` — respect it if provided.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally verify:\n```bash\ngrep -r \"heading-anchor\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep -r \"Heading\" documentation/components/Heading.js \u0026\u0026 echo \"Component OK\"\ngrep -r \"heading\" documentation/markdoc/nodes/heading.markdoc.js \u0026\u0026 echo \"Node OK\"\ngrep \"Heading\" documentation/pages/_app.js \u0026\u0026 echo \"Registration OK\"\n```\nAll four greps must produce output.\n\n## Dont\n- Do not modify TableOfContents.js — it reads IDs from the DOM and will continue to work\n- Do not add anchor links to H1 headings\n- Do not use any external libraries\n- Do not change the heading ID generation algorithm (must remain compatible with TOC scroll spy)","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:42.488252+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:48.382557+13:00","closed_at":"2026-02-14T20:03:48.382557+13:00","close_reason":"219b041 Add heading anchor links on hover - implemented Markdoc heading node override with auto-generated IDs and hover anchor links for H2/H3","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.2","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:42.502369+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.3","title":"CSS typography and link refinements","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nRefine typography and link styles to match Stripe docs design language. All changes are CSS-only.\n\n### 1. Strong/bold text styling\nAdd after the existing heading styles (around line 416 area, or wherever heading styles end):\n\n```css\n/* Bold text */\n.layout-content strong,\n.layout-content b {\n  color: var(--color-text-heading);\n  font-weight: 600;\n}\n```\n\nNote: Use `font-weight: 600` (semibold) not 700 — Stripe uses 600 for inline bold to distinguish from heading weight.\n\n### 2. Link underline refinement\nReplace the existing `.layout-content a:hover` rule (currently at line 444-447) to use border-bottom instead of text-decoration:\n\nChange FROM:\n```css\n.layout-content a:hover {\n  color: var(--color-link-hover);\n  text-decoration: underline;\n}\n```\n\nChange TO:\n```css\n.layout-content a {\n  color: var(--color-link);\n  text-decoration: none;\n  border-bottom: 1px solid transparent;\n  transition: border-color 0.15s ease, color 0.15s ease;\n}\n\n.layout-content a:hover {\n  color: var(--color-link-hover);\n  text-decoration: none;\n  border-bottom-color: var(--color-link-hover);\n}\n```\n\nThis replaces the existing `.layout-content a` (line 439-442) and `.layout-content a:hover` (line 444-447) rules entirely.\n\n### 3. First H2 tighter spacing after H1\nAdd a rule that reduces the top margin of the first H2 that follows an H1:\n\n```css\n/* Tighter coupling between H1 and first H2 */\n.layout-content h1 + h2 {\n  margin-top: var(--space-6);\n}\n```\n\nThis overrides the default `margin-top: var(--space-12)` (48px) on H2 to `var(--space-6)` (24px) when it immediately follows an H1.\n\n### 4. Paragraph spacing refinement\nThe current paragraph bottom margin is `var(--space-4)` (16px). This is correct — do NOT change it. But add a rule for the last paragraph in an article to remove bottom margin:\n\n```css\n.layout-content article \u003e p:last-child {\n  margin-bottom: 0;\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ngrep \"layout-content strong\" documentation/styles/globals.css \u0026\u0026 echo \"Strong OK\"\ngrep \"border-bottom\" documentation/styles/globals.css \u0026\u0026 echo \"Link underline OK\"\ngrep \"h1 + h2\" documentation/styles/globals.css \u0026\u0026 echo \"H2 spacing OK\"\n```\nAll three greps must produce output.\n\n## Dont\n- Do not change font sizes or line heights on headings\n- Do not modify heading colors\n- Do not change the base link color (--color-link: #0570de)\n- Do not modify any JavaScript files\n- Do not remove the existing `a:hover` rule in the Base section (line 93-96) — only modify the `.layout-content a` rules","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:59.393717+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:02:45.90143+13:00","closed_at":"2026-02-14T20:02:45.90143+13:00","close_reason":"95604df CSS typography and link refinements","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.3","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:59.395087+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.4","title":"Fix content area layout - left-align instead of center","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area currently uses `margin: 0 auto` which centers it in the available space between sidebar and TOC. This looks asymmetric — the content should be left-aligned in its column with consistent padding, like Stripe docs.\n\n### Change the `.layout-content` rule (currently at line 266-272):\n\nChange FROM:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  margin: 0 auto;\n  padding: var(--space-8);\n}\n```\n\nChange TO:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-8) var(--space-10);\n}\n```\n\nKey changes:\n- Remove `margin: 0 auto` (was centering the content)\n- Change padding from `var(--space-8)` (32px all sides) to `var(--space-8) var(--space-10)` (32px top/bottom, 40px left/right)\n- The content will now sit left-aligned in the flex container, with the remaining space naturally pushing toward the TOC\n\n### Also update the mobile responsive rule (currently at line 639-641):\n\nChange FROM:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\nChange TO:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\n(No change needed for mobile — keep as-is.)\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Verify the built CSS does NOT contain `margin: 0 auto` for `.layout-content`.\n\n## Dont\n- Do not change `max-width: var(--content-max-width)` — keep the 720px max\n- Do not change `flex: 1` or `min-width: 0`\n- Do not modify the mobile responsive padding\n- Do not modify any JavaScript files","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:10.679561+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:19.531911+13:00","closed_at":"2026-02-14T20:03:19.531911+13:00","close_reason":"7ee8f5d Fix content area layout - left-align instead of center","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.4","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:10.681171+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.5","title":"Enhanced header with breadcrumbs and visual refinement","description":"## Files\n- documentation/components/Layout.js (modify)\n- documentation/components/Breadcrumbs.js (create)\n- documentation/styles/globals.css (modify)\n\n## What to do\nEnhance the header to be more visually refined like Stripe docs. Add breadcrumb navigation below the header, and improve the header visual treatment.\n\n### 1. Create `documentation/components/Breadcrumbs.js`\n\nA breadcrumb component that shows the current page location based on the navigation tree:\n\n```jsx\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { navigation } from \"../lib/navigation\";\n\nfunction findBreadcrumbs(nav, targetPath, trail = []) {\n  for (const item of nav) {\n    if (item.section) {\n      const result = findBreadcrumbs(item.children || [], targetPath, [\n        ...trail,\n        { title: item.section },\n      ]);\n      if (result) return result;\n    } else {\n      if (item.path === targetPath) {\n        return [...trail, { title: item.title, path: item.path }];\n      }\n      if (item.children) {\n        const result = findBreadcrumbs(item.children, targetPath, [\n          ...trail,\n          { title: item.title, path: item.path },\n        ]);\n        if (result) return result;\n      }\n    }\n  }\n  return null;\n}\n\nexport function Breadcrumbs() {\n  const router = useRouter();\n  const currentPath = router.asPath.split(\"#\")[0].split(\"?\")[0];\n\n  // Dont show breadcrumbs on home page\n  if (currentPath === \"/\") return null;\n\n  const crumbs = findBreadcrumbs(navigation, currentPath) || [];\n\n  if (crumbs.length \u003c= 1) return null;\n\n  return (\n    \u003cnav className=\"breadcrumbs\" aria-label=\"Breadcrumb\"\u003e\n      \u003col className=\"breadcrumbs-list\"\u003e\n        \u003cli className=\"breadcrumbs-item\"\u003e\n          \u003cLink href=\"/\" className=\"breadcrumbs-link\"\u003e\n            Docs\n          \u003c/Link\u003e\n        \u003c/li\u003e\n        {crumbs.slice(0, -1).map((crumb, i) =\u003e (\n          \u003cli key={i} className=\"breadcrumbs-item\"\u003e\n            \u003cspan className=\"breadcrumbs-separator\"\u003e/\u003c/span\u003e\n            {crumb.path ? (\n              \u003cLink href={crumb.path} className=\"breadcrumbs-link\"\u003e\n                {crumb.title}\n              \u003c/Link\u003e\n            ) : (\n              \u003cspan className=\"breadcrumbs-text\"\u003e{crumb.title}\u003c/span\u003e\n            )}\n          \u003c/li\u003e\n        ))}\n        \u003cli className=\"breadcrumbs-item\"\u003e\n          \u003cspan className=\"breadcrumbs-separator\"\u003e/\u003c/span\u003e\n          \u003cspan className=\"breadcrumbs-current\"\u003e{crumbs[crumbs.length - 1].title}\u003c/span\u003e\n        \u003c/li\u003e\n      \u003c/ol\u003e\n    \u003c/nav\u003e\n  );\n}\n```\n\n### 2. Modify `documentation/components/Layout.js`\n\nAdd the Breadcrumbs component import and render it inside the `\u003cmain\u003e` element, before the `\u003carticle\u003e`:\n\nAdd import at top:\n```js\nimport { Breadcrumbs } from \"./Breadcrumbs\";\n```\n\nInside the JSX, change the `\u003cmain\u003e` section from:\n```jsx\n\u003cmain className=\"layout-content\"\u003e\n  \u003carticle\u003e{children}\u003c/article\u003e\n```\n\nTo:\n```jsx\n\u003cmain className=\"layout-content\"\u003e\n  \u003cBreadcrumbs /\u003e\n  \u003carticle\u003e{children}\u003c/article\u003e\n```\n\n### 3. Add CSS to `documentation/styles/globals.css`\n\nAdd a new section after the Header styles (after line ~153) for breadcrumbs:\n\n```css\n/* ===== Breadcrumbs ===== */\n.breadcrumbs {\n  margin-bottom: var(--space-4);\n}\n\n.breadcrumbs-list {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.breadcrumbs-item {\n  display: flex;\n  align-items: center;\n}\n\n.breadcrumbs-separator {\n  margin: 0 6px;\n  color: var(--color-text-secondary);\n  font-size: 12px;\n}\n\n.breadcrumbs-link {\n  color: var(--color-text-secondary);\n  text-decoration: none;\n  transition: color 0.15s ease;\n}\n\n.breadcrumbs-link:hover {\n  color: var(--color-link);\n  text-decoration: none;\n}\n\n.breadcrumbs-text {\n  color: var(--color-text-secondary);\n}\n\n.breadcrumbs-current {\n  color: var(--color-text-primary);\n  font-weight: 500;\n}\n```\n\nAlso enhance the header visual treatment. Add a subtle backdrop blur to the header. Modify the existing `.layout-header` rule (line 110-117):\n\nChange FROM:\n```css\n.layout-header {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  height: var(--header-height);\n  background: var(--color-bg);\n  border-bottom: 1px solid var(--color-border);\n}\n```\n\nChange TO:\n```css\n.layout-header {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  height: var(--header-height);\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  border-bottom: 1px solid var(--color-border);\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ntest -f documentation/components/Breadcrumbs.js \u0026\u0026 echo \"Breadcrumbs component OK\"\ngrep \"Breadcrumbs\" documentation/components/Layout.js \u0026\u0026 echo \"Layout import OK\"\ngrep \"breadcrumbs\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep \"backdrop-filter\" documentation/styles/globals.css \u0026\u0026 echo \"Header blur OK\"\n```\nAll four checks must pass.\n\n## Dont\n- Do not modify the header height or padding\n- Do not add a search bar (out of scope for this task)\n- Do not modify navigation.js\n- Do not modify Sidebar.js or TableOfContents.js\n- Do not change the logo text or link","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:33.805204+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:55.98582+13:00","closed_at":"2026-02-14T20:03:55.98582+13:00","close_reason":"77ec8dc Enhanced header with breadcrumbs and visual refinement","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.5","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:33.806485+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.6","title":"Transition and hover state polish","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd smooth transitions and refined hover states throughout the site, matching Stripe docs interaction patterns. All changes are CSS-only.\n\n### 1. Global transition timing\nAdd a CSS custom property for the standard transition in the `:root` design tokens section (around line 69, before the closing `}`):\n\n```css\n  --transition-fast: 150ms ease;\n  --transition-normal: 200ms cubic-bezier(0, 0.09, 0.4, 1);\n```\n\n### 2. Sidebar link transitions\nUpdate the existing `.sidebar-link` rule (line ~214-225). Add/modify the transition property:\n\nChange FROM:\n```css\n  transition: background 0.1s ease;\n```\n\nChange TO:\n```css\n  transition: background var(--transition-fast), color var(--transition-fast);\n```\n\n### 3. Sidebar active indicator\nAdd a left border indicator for the active sidebar link. Modify `.sidebar-link-active` (line ~233-237):\n\nChange FROM:\n```css\n.sidebar-link-active {\n  font-weight: 600;\n  color: var(--color-text-title);\n  background: var(--hover-bg);\n}\n```\n\nChange TO:\n```css\n.sidebar-link-active {\n  font-weight: 600;\n  color: var(--color-link);\n  background: var(--active-bg);\n  border-left: 2px solid var(--color-link);\n  padding-left: calc(var(--space-3) - 2px);\n}\n```\n\nAlso update `a.sidebar-link-active:hover` (line ~239-242):\n\nChange FROM:\n```css\na.sidebar-link-active:hover {\n  background: var(--hover-bg);\n  color: var(--color-text-title);\n}\n```\n\nChange TO:\n```css\na.sidebar-link-active:hover {\n  background: var(--active-bg);\n  color: var(--color-link);\n}\n```\n\n### 4. Pagination hover enhancement\nUpdate the `.pagination-link` transition (line ~354):\n\nChange FROM:\n```css\n  transition: border-color 0.15s ease, box-shadow 0.15s ease;\n```\n\nChange TO:\n```css\n  transition: border-color var(--transition-normal), box-shadow var(--transition-normal), transform var(--transition-normal);\n```\n\nAdd a subtle lift on hover. Update `.pagination-link:hover` (line ~357-361):\n\nChange FROM:\n```css\n.pagination-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 1px 4px rgba(5, 112, 222, 0.08);\n  text-decoration: none;\n}\n```\n\nChange TO:\n```css\n.pagination-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 2px 8px rgba(5, 112, 222, 0.12);\n  text-decoration: none;\n  transform: translateY(-1px);\n}\n```\n\n### 5. TOC link transitions\nUpdate the `.toc-link` transition (line ~315):\n\nChange FROM:\n```css\n  transition: color 0.15s ease, border-color 0.15s ease;\n```\n\nChange TO:\n```css\n  transition: color var(--transition-fast), border-color var(--transition-fast);\n```\n\n### 6. Callout subtle left border animation\nAdd a transition to callout on hover:\n\n```css\n.callout {\n  transition: box-shadow var(--transition-normal);\n}\n\n.callout:hover {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);\n}\n```\n\nAdd these rules after the existing `.callout` rule (line ~533-537). Do NOT modify the existing `.callout` rule — add the transition property to a NEW `.callout` rule block that will merge via cascade, OR add the `transition` property directly into the existing `.callout` block.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ngrep \"transition-fast\" documentation/styles/globals.css \u0026\u0026 echo \"Tokens OK\"\ngrep \"transition-normal\" documentation/styles/globals.css \u0026\u0026 echo \"Tokens OK\"\ngrep \"translateY\" documentation/styles/globals.css \u0026\u0026 echo \"Pagination lift OK\"\ngrep \"border-left.*solid.*color-link\" documentation/styles/globals.css \u0026\u0026 echo \"Active indicator OK\"\n```\nAll four checks must pass.\n\n## Dont\n- Do not add page transition animations (route changes) — that requires JavaScript\n- Do not modify any JavaScript files\n- Do not change colors or font sizes\n- Do not add animation keyframes — only use CSS transitions\n- Do not modify the mobile responsive section","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:54.998064+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:35.256599+13:00","closed_at":"2026-02-14T20:03:35.256599+13:00","close_reason":"Implemented all transition and hover state polish: added transition timing variables, updated sidebar/TOC/pagination transitions, added active indicator with border-left, and callout hover effects","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.6","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:54.998941+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.7","title":"Landing page card-style navigation links","description":"## Files\n- documentation/pages/index.md (modify)\n- documentation/components/CardLink.js (create)\n- documentation/markdoc/tags/card-link.markdoc.js (create)\n- documentation/pages/_app.js (modify)\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd card-style navigation links to the landing page, similar to Stripe docs landing pages that have categorized link cards with titles, descriptions, and hover effects.\n\n### 1. Create `documentation/components/CardLink.js`\n\nA card component for navigation links:\n\n```jsx\nimport Link from \"next/link\";\n\nexport function CardLink({ title, href, children }) {\n  return (\n    \u003cLink href={href} className=\"card-link\"\u003e\n      \u003cspan className=\"card-link-title\"\u003e{title}\u003c/span\u003e\n      {children \u0026\u0026 \u003cspan className=\"card-link-desc\"\u003e{children}\u003c/span\u003e}\n      \u003cspan className=\"card-link-arrow\"\u003e→\u003c/span\u003e\n    \u003c/Link\u003e\n  );\n}\n```\n\n### 2. Create `documentation/markdoc/tags/card-link.markdoc.js`\n\nRegister the CardLink as a Markdoc tag:\n\n```js\nexport default {\n  render: \"CardLink\",\n  attributes: {\n    title: { type: String, required: true },\n    href: { type: String, required: true },\n  },\n};\n```\n\n### 3. Modify `documentation/pages/_app.js`\n\nAdd import and register:\n\n```js\nimport { CardLink } from \"../components/CardLink\";\n```\n\nAdd to components object:\n```js\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n  Heading,  // (if heading task is done, otherwise omit)\n  CardLink,\n};\n```\n\n**IMPORTANT**: The components object may already contain `Heading` if task docs-dfq.2 was completed first. If `Heading` is already there, keep it. If not, do NOT add it — only add `CardLink`.\n\n### 4. Add CSS to `documentation/styles/globals.css`\n\nAdd a new section after the Figure component styles (around line ~597):\n\n```css\n/* ===== Component: CardLink ===== */\n.card-link {\n  display: block;\n  padding: var(--space-4) var(--space-5);\n  border: 1px solid var(--color-border);\n  border-radius: var(--radius-lg);\n  text-decoration: none;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;\n  position: relative;\n  margin-bottom: var(--space-3);\n}\n\n.card-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 2px 8px rgba(5, 112, 222, 0.1);\n  text-decoration: none;\n  transform: translateY(-1px);\n}\n\n.card-link-title {\n  display: block;\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--color-link);\n  margin-bottom: var(--space-1);\n}\n\n.card-link-desc {\n  display: block;\n  font-size: 14px;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n\n.card-link-arrow {\n  position: absolute;\n  right: var(--space-4);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-link);\n  font-size: 16px;\n  opacity: 0;\n  transition: opacity 0.15s ease, transform 0.15s ease;\n}\n\n.card-link:hover .card-link-arrow {\n  opacity: 1;\n  transform: translateY(-50%) translateX(2px);\n}\n```\n\n### 5. Modify `documentation/pages/index.md`\n\nAdd a \"Quick Start\" section with card links after the existing content. Append to the end of the file:\n\n```markdown\n\n## Quick Start\n\n{% card-link title=\"Why We're Building Hypercerts\" href=\"/getting-started/why-were-building-hypercerts\" %}\nUnderstand the motivation behind the hypercerts protocol\n{% /card-link %}\n\n{% card-link title=\"Introduction to Impact Claims\" href=\"/getting-started/introduction-to-impact-claims\" %}\nLearn about impact claims and how they work\n{% /card-link %}\n\n{% card-link title=\"The Hypercerts Infrastructure\" href=\"/getting-started/the-hypercerts-infrastructure\" %}\nExplore the technical architecture\n{% /card-link %}\n\n{% card-link title=\"Introduction to Lexicons\" href=\"/lexicons/introduction-to-lexicons\" %}\nUnderstand the data schemas that power hypercerts\n{% /card-link %}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ntest -f documentation/components/CardLink.js \u0026\u0026 echo \"Component OK\"\ntest -f documentation/markdoc/tags/card-link.markdoc.js \u0026\u0026 echo \"Tag OK\"\ngrep \"CardLink\" documentation/pages/_app.js \u0026\u0026 echo \"Registration OK\"\ngrep \"card-link\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep \"card-link\" documentation/pages/index.md \u0026\u0026 echo \"Content OK\"\n```\nAll five checks must pass.\n\n## Dont\n- Do not modify existing content on the landing page — only append new content\n- Do not remove the existing columns/figures layout\n- Do not use any external icon libraries\n- Do not modify navigation.js\n- Do not add more than 4 card links","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:26:17.319286+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:07:08.03882+13:00","closed_at":"2026-02-14T20:07:08.03882+13:00","close_reason":"9969a9b Landing page card-style navigation links","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.7","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:26:17.320306+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.8","title":"Integration: verify all refinements build and render correctly","description":"## Files\n- (no files to create/modify — verification only)\n\n## What to do\nAfter all other tasks in Epic 10 are complete, verify the full integration:\n\n1. Run `cd documentation \u0026\u0026 npm run build` — must exit 0 with no errors\n2. Verify all 17 pages are in the static export\n3. Spot-check that no CSS conflicts exist between the various refinements\n4. Verify the landing page renders with card links\n5. Verify breadcrumbs appear on non-home pages\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build 2\u003e\u00261 | grep -c \"●\" | xargs test 17 -eq\n```\nMust show exactly 17 SSG pages.\n\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0.\n\n## Dont\n- Do not modify any files\n- This is a verification-only task","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:26:25.677169+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:10:10.53275+13:00","closed_at":"2026-02-14T20:10:10.53275+13:00","close_reason":"Closed","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:26:25.678222+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.1","type":"blocks","created_at":"2026-02-14T14:26:31.650675+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.2","type":"blocks","created_at":"2026-02-14T14:26:31.749901+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.3","type":"blocks","created_at":"2026-02-14T14:26:31.849858+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.4","type":"blocks","created_at":"2026-02-14T14:26:31.950473+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.5","type":"blocks","created_at":"2026-02-14T14:26:32.047374+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.6","type":"blocks","created_at":"2026-02-14T14:26:32.141096+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.7","type":"blocks","created_at":"2026-02-14T14:26:32.236529+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-l7r","title":"Epic: Ecosystem, Community \u0026 Reference Materials","status":"open","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:56.489643+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:56.489643+13:00"}
{"id":"docs-l7r.1","title":"Write 'Glossary' and 'FAQ' reference pages","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe has inline glossary definitions throughout and extensive support articles. Hypercerts uses many domain-specific terms (DID, PDS, lexicon, work scope, strong reference, etc.) but never defines them in one place. This task creates two pages.\n\n## Files\n- documentation/pages/reference/glossary.md (create)\n- documentation/pages/reference/faq.md (create)\n- documentation/lib/navigation.js (modify — add entries under Reference section)\n\n## What to do\n\n### 1. Create the Glossary page\n\nCreate `documentation/pages/reference/glossary.md` (80–120 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Glossary\ndescription: Key terms and definitions used in the Hypercerts Protocol.\n---\n```\n\nDefine these terms (alphabetical order), each as `#### Term` followed by 1-3 sentence definition:\n\n- **Activity Claim** — The central record in the hypercerts data model. Describes who did what, when, and where. Lexicon: `org.hypercerts.claim.activity`.\n- **AT Protocol (ATProto)** — A decentralized social data protocol. The data layer for Hypercerts. Provides portable identity, shared schemas, and federation.\n- **CID** — Content Identifier. A cryptographic hash of a record's content, used in strong references to ensure tamper-evidence.\n- **Collection** — A group of hypercerts with a shared property, where each claim has a weight. Lexicon: `org.hypercerts.claim.collection`.\n- **Contribution** — A record describing a specific contributor's role in an activity claim. Lexicon: `org.hypercerts.claim.contribution`.\n- **DID (Decentralized Identifier)** — A persistent, cryptographically verifiable identifier for a person or organization. Format: `did:plc:...` or `did:web:...`.\n- **Evaluation** — A third-party assessment of a hypercert or other claim. Created on the evaluator's own PDS. Lexicon: `org.hypercerts.claim.evaluation`.\n- **Evidence** — A piece of supporting documentation attached to a hypercert. Can be a URI or uploaded blob. Lexicon: `org.hypercerts.claim.evidence`.\n- **Hypercert** — A structured digital record of a contribution: who did what, when, where, and with what evidence. The core primitive of the protocol.\n- **Indexer (App View)** — A service that reads from relays and builds queryable views of hypercert data across many PDS instances.\n- **Lexicon** — An ATProto schema definition that specifies the structure of a record type. Like a form template with required and optional fields.\n- **Measurement** — A quantitative observation attached to a claim. Lexicon: `org.hypercerts.claim.measurement`.\n- **PDS (Personal Data Server)** — A server that stores a user's ATProto data. Users can self-host or use a provider.\n- **Relay** — An ATProto service that aggregates data from many PDS instances and streams it to indexers.\n- **Rights** — A record describing what rights a holder has to a hypercert (display, transfer, etc.). Lexicon: `org.hypercerts.claim.rights`.\n- **SDS (Shared Data Server)** — Like a PDS but for organizations. Multiple users can write to the same repository.\n- **Strong Reference** — An ATProto reference that includes both the AT URI and CID of the target record, ensuring the reference is tamper-evident.\n- **Work Scope** — The \"what\" dimension of a hypercert, defined using logical operators (allOf, anyOf, noneOf) to precisely bound the work being claimed.\n- **XRPC** — The RPC protocol used by ATProto for client-server communication.\n\n### 2. Create the FAQ page\n\nCreate `documentation/pages/reference/faq.md` (80–120 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Frequently Asked Questions\ndescription: Common questions about the Hypercerts Protocol.\n---\n```\n\nAnswer these questions (use `##` for each question, 2-4 sentences per answer):\n\n1. **What is a hypercert?** — A structured digital record of a contribution. It captures who did what, when, where, and with what evidence.\n2. **How is this different from the previous (EVM-based) Hypercerts?** — The new protocol is built on AT Protocol instead of purely on-chain. This gives data portability, richer schemas, and lower costs, while still using blockchain for ownership and funding.\n3. **Do I need a blockchain wallet?** — Not to create or evaluate hypercerts. You need an ATProto account (DID). A wallet is only needed if you want to tokenize or fund hypercerts on-chain.\n4. **Is my data public?** — Yes. All ATProto records are public by default. Do not store sensitive personal information in hypercert records.\n5. **Can I delete a hypercert?** — You can delete records from your PDS. However, cached copies may persist in indexers and relays.\n6. **Who can evaluate my hypercert?** — Anyone with an ATProto account. Evaluations are separate records on the evaluator's PDS, linked via strong references.\n7. **How do I fund a hypercert?** — Funding happens on-chain through tokenized ownership. The specific mechanisms depend on the platform you use.\n8. **Can I use my Bluesky account?** — Yes. Bluesky accounts are ATProto accounts. Your existing DID works with Hypercerts.\n9. **What chains are supported?** — The protocol is chain-agnostic for the ownership layer. Specific chain support depends on the implementation.\n10. **How do I get help?** — Link to GitHub repository, community channels (use placeholder URLs with a callout).\n\n### 3. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Glossary', path: '/reference/glossary' },\n{ title: 'FAQ', path: '/reference/faq' },\n```\nIf the Reference section does not yet exist, create it after Architecture.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent features or capabilities not described in the existing documentation.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:54:01.702733+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:54:01.702733+13:00","dependencies":[{"issue_id":"docs-l7r.1","depends_on_id":"docs-l7r","type":"parent-child","created_at":"2026-02-14T20:54:01.704171+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-l7r.2","title":"Write 'Building on Hypercerts' ecosystem guide page","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Stripe Apps\" and \"Partners\" pages — guides for third parties who want to build on the platform. The hypercerts \"Why\" page mentions that the protocol is designed for many platforms to build on, but there is no guide for platform builders.\n\n## Files\n- documentation/pages/reference/building-on-hypercerts.md (create)\n- documentation/lib/navigation.js (modify — add entry under Reference section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/building-on-hypercerts.md` (100–150 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Building on Hypercerts\ndescription: A guide for platforms and tools that want to integrate the Hypercerts Protocol.\n---\n```\n\n**Sections:**\n\n1. **Who This Is For** — Platform builders, funding tool developers, evaluation services, dashboards, and anyone building applications that read or write hypercert data.\n\n2. **What You Can Build** — Categories of applications:\n   - **Funding Platforms**: Crowdfunding, retroactive funding, milestone-based payouts using tokenized hypercerts\n   - **Evaluation Tools**: Services that help domain experts create structured evaluations\n   - **Dashboards \u0026 Explorers**: Interfaces that aggregate and display hypercerts across the ecosystem\n   - **Impact Portfolios**: Tools that let funders track their portfolio of funded contributions\n   - **Automated Agents**: AI systems that create measurements, flag inconsistencies, or assist evaluators\n\n3. **Integration Patterns** — How to integrate:\n   - **Read-only**: Query an indexer to display hypercerts (simplest). No PDS needed.\n   - **Write via user PDS**: Your app authenticates users via OAuth and writes records to their PDS on their behalf.\n   - **Write via platform SDS**: Your platform runs its own Shared Data Server and creates records under its own DID.\n   - For each pattern, provide 3-4 sentences explaining when to use it and a brief code sketch.\n\n4. **Running an Indexer** — Brief overview:\n   - Subscribe to the relay firehose for hypercert lexicon records\n   - Build a queryable database (PostgreSQL, etc.)\n   - Expose an API for your application\n   - Note: link to ATProto docs for relay subscription details\n\n5. **Interoperability Principles** — What makes the ecosystem work:\n   - Use standard lexicons — do not create custom record types for data that fits existing schemas\n   - Use strong references — always include CID for tamper-evidence\n   - Respect data ownership — records belong to the DID that created them\n   - Build for federation — do not assume all data lives on one PDS\n\n6. **Contributing to the Protocol** — How to propose changes:\n   - Lexicon evolution process (propose → discuss → implement)\n   - Link to GitHub repository (placeholder URL with callout)\n   - How to contribute to the SDK\n\n### 2. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Building on Hypercerts', path: '/reference/building-on-hypercerts' },\n```\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent specific indexer APIs or relay endpoints.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:54:24.391792+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:54:24.391792+13:00","dependencies":[{"issue_id":"docs-l7r.2","depends_on_id":"docs-l7r","type":"parent-child","created_at":"2026-02-14T20:54:24.393036+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-nuw","title":"Epic: Architecture \u0026 Infrastructure Deep Dives","status":"open","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:44.339166+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:44.339166+13:00"}
{"id":"docs-nuw.1","title":"Write 'Architecture Overview' page with system diagram","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"How Stripe works\" — a high-level architecture page showing all the pieces and how they connect. The hypercerts docs currently describe architecture scattered across the \"Why\" page but have no dedicated architecture overview.\n\n## Files\n- documentation/pages/architecture/overview.md (create)\n- documentation/lib/navigation.js (modify — add new \"Architecture\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/architecture/overview.md` (150–220 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Architecture Overview\ndescription: How the Hypercerts Protocol stack fits together.\n---\n```\n\n**Sections:**\n\n1. **The Hypercerts Stack** — High-level overview (3-4 paragraphs). The protocol has three layers:\n   - **Application Layer** — Platforms, dashboards, funding tools that users interact with\n   - **Data Layer (AT Protocol)** — Where claims, evidence, evaluations live. Includes PDS/SDS, lexicons, indexers/relays.\n   - **Ownership Layer (Blockchain)** — Where tokenized ownership, funding flows, and immutability guarantees live.\n   \n   Describe this as a text-based diagram using a Markdoc code block (no images needed):\n   ```\n   ┌─────────────────────────────────────────┐\n   │         Application Layer               │\n   │   Funding platforms, dashboards, tools  │\n   ├─────────────────────────────────────────┤\n   │         Data Layer (AT Protocol)        │\n   │   PDS/SDS → Relay → App View/Indexer   │\n   ├─────────────────────────────────────────┤\n   │      Ownership Layer (Blockchain)       │\n   │   Tokenization, funding, rights         │\n   └─────────────────────────────────────────┘\n   ```\n\n2. **Data Layer Deep Dive** — How ATProto components work together:\n   - PDS (Personal Data Server): stores user's records\n   - Relay (formerly BGS): aggregates data across PDS instances\n   - App View / Indexer: reads from relay, builds queryable views\n   - Lexicons: shared schemas that define record structure\n   - Explain the flow: user writes to PDS → relay picks it up → indexer makes it searchable\n\n3. **Ownership Layer Deep Dive** — How blockchain components work:\n   - Anchoring: linking ATProto records to on-chain state\n   - Tokenization: representing hypercerts as transferable tokens\n   - Funding mechanisms: how tokens enable various funding models\n   - Multi-chain support: different chains for different communities\n\n4. **How the Layers Connect** — The bridge between ATProto and on-chain:\n   - A hypercert's content lives on ATProto (the claim, evidence, evaluations)\n   - Its ownership and funding state lives on-chain\n   - References between layers (ATProto URI ↔ on-chain token ID)\n   - Why this separation matters (data portability + financial guarantees)\n\n5. **Key Design Decisions** — Why the architecture is the way it is:\n   - Why not fully on-chain? (cost, flexibility, data portability)\n   - Why not fully off-chain? (ownership guarantees, funding mechanisms)\n   - Why ATProto over IPFS/Ceramic/other? (identity, federation, existing ecosystem)\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section AFTER the \"Lexicons\" section and BEFORE \"Deep Dive: The Work Scope\":\n\n```javascript\n{\n  section: 'Architecture',\n  children: [\n    { title: 'Architecture Overview', path: '/architecture/overview' },\n  ],\n},\n```\n\n## Writing style\n- Technical but accessible — a developer should understand this without prior ATProto knowledge\n- Use `##` for main sections, `####` for subsections\n- Use text-based diagrams in fenced code blocks (no images)\n- Use `{% callout %}` for important design rationale\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add image files — use text-based diagrams only.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT create more than one page — just the overview.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:44.483676+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:49:44.483676+13:00","dependencies":[{"issue_id":"docs-nuw.1","depends_on_id":"docs-nuw","type":"parent-child","created_at":"2026-02-14T20:49:44.485585+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-nuw.2","title":"Write 'Data Flow \u0026 Lifecycle' page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Payment lifecycle\" — shows how a payment moves through states from creation to completion. This page does the same for a hypercert.\n\n## Files\n- documentation/pages/architecture/data-flow-and-lifecycle.md (create)\n- documentation/lib/navigation.js (modify — add entry under Architecture section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/architecture/data-flow-and-lifecycle.md` (120–180 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Data Flow \u0026 Lifecycle\ndescription: How a hypercert moves from creation through evaluation to funding.\n---\n```\n\n**Sections:**\n\n1. **The Lifecycle of a Hypercert** — Overview of the stages:\n   - **Creation** — A contributor creates an activity claim on their PDS\n   - **Enrichment** — Evidence, measurements, and contributions are attached\n   - **Evaluation** — Third parties create evaluation records referencing the claim\n   - **Discovery** — Indexers aggregate claims; platforms surface them to funders\n   - **Funding** — Ownership is tokenized on-chain; funders acquire shares\n   - **Accumulation** — More evaluations and evidence accrue over time\n\n2. **Stage 1: Creation** — What happens when a hypercert is created:\n   - The contributor writes an `org.hypercerts.claim.activity` record to their PDS\n   - The record gets a unique AT URI (e.g., `at://did:plc:abc123/org.hypercerts.claim.activity/tid`)\n   - The PDS signs the record and includes it in the user's repository\n   - The relay picks up the new record\n\n3. **Stage 2: Enrichment** — Attaching supporting data:\n   - Contribution records (`org.hypercerts.claim.contribution`) are created and linked via strong references\n   - Evidence records (`org.hypercerts.claim.evidence`) are attached\n   - Measurement records (`org.hypercerts.claim.measurement`) provide quantitative data\n   - Rights records (`org.hypercerts.claim.rights`) define what rights holders have\n   - Location records (`app.certified.location`) anchor work geographically\n   - These can live on the SAME PDS or DIFFERENT PDS instances\n\n4. **Stage 3: Evaluation** — Third-party assessment:\n   - An evaluator creates an `org.hypercerts.claim.evaluation` record on THEIR OWN PDS\n   - The evaluation references the original activity claim via a strong reference (`subject` field)\n   - Multiple evaluators can independently evaluate the same claim\n   - Evaluations accumulate over time — they are never \"final\"\n\n5. **Stage 4: Discovery \u0026 Indexing** — How data becomes findable:\n   - Relays aggregate records from many PDS instances\n   - Indexers (App Views) read from relays and build searchable databases\n   - Platforms query indexers to surface hypercerts to users\n   - Different indexers can build different views of the same data\n\n6. **Stage 5: Funding \u0026 Ownership** — The on-chain layer:\n   - A hypercert can be anchored on-chain, creating a token\n   - The token represents ownership shares of the contribution\n   - Funders acquire shares through various mechanisms (direct purchase, retroactive funding, etc.)\n   - On-chain state references the ATProto URI of the original claim\n\n7. **Cross-PDS References** — How records on different servers reference each other:\n   - Strong references include both URI and CID (content hash)\n   - This ensures references are tamper-evident\n   - A record on PDS-A can reference a record on PDS-B\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry under the Architecture section (which should already exist from the Architecture Overview task):\n\n```javascript\n{ title: 'Data Flow \u0026 Lifecycle', path: '/architecture/data-flow-and-lifecycle' },\n```\n\nIf the Architecture section does not yet exist, create it after the Lexicons section.\n\n## Writing style\n- Narrative, walkthrough style — follow a single hypercert through its lifecycle\n- Use `##` for main sections, `####` for subsections\n- Use text-based flow diagrams in fenced code blocks where helpful\n- Reference specific lexicon IDs (e.g., `org.hypercerts.claim.activity`) and link to their documentation pages\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add image files.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT duplicate content from the Architecture Overview page — reference it instead.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:50:08.992973+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:50:08.992973+13:00","dependencies":[{"issue_id":"docs-nuw.2","depends_on_id":"docs-nuw","type":"parent-child","created_at":"2026-02-14T20:50:08.994666+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-nuw.2","depends_on_id":"docs-nuw.1","type":"blocks","created_at":"2026-02-14T20:54:30.68945+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-qsc","title":"Epic 3: Content Migration - Convert All 17 Markdown Files","description":"## Summary\nConvert all 17 GitBook Markdown files to Markdoc-compatible format and move them into the Next.js `pages/` directory. This involves replacing GitBook-proprietary syntax with Markdoc tags, cleaning up HTML artifacts, fixing frontmatter, and restructuring file paths for Next.js routing.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory at the repo root (`/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`).\n\nThe current GitBook content files are at the `documentation/` root level (e.g., `documentation/README.md`, `documentation/getting-started/why-were-building-hypercerts.md`). They need to be moved into `documentation/pages/` for Next.js file-based routing.\n\nBy the time this epic runs:\n- Epic 1 (Scaffold) has created the `pages/`, `components/`, `markdoc/`, etc. directories\n- Epic 2 (Custom Tags) has created Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`\n- A basic `pages/_app.js` and `pages/index.md` (test page) exist\n\n### Key routing rules:\n- `pages/index.md` -\u003e renders at `/`\n- `pages/getting-started/why-were-building-hypercerts.md` -\u003e renders at `/getting-started/why-were-building-hypercerts`\n- `README.md` files must be renamed to `index.md` (Next.js convention for directory index pages)\n- Internal links should NOT include `.md` extensions\n\n## Content Files to Migrate (17 total)\n\n### File mapping (source -\u003e destination):\n```\ndocumentation/README.md                                    -\u003e documentation/pages/index.md\ndocumentation/deep-dive-the-work-scope.md                  -\u003e documentation/pages/deep-dive-the-work-scope.md\ndocumentation/getting-started/why-were-building-hypercerts.md          -\u003e documentation/pages/getting-started/why-were-building-hypercerts.md\ndocumentation/getting-started/introduction-to-impact-claims.md         -\u003e documentation/pages/getting-started/introduction-to-impact-claims.md\ndocumentation/getting-started/the-impact-and-work-space.md             -\u003e documentation/pages/getting-started/the-impact-and-work-space.md\ndocumentation/getting-started/the-hypercerts-infrastructure.md         -\u003e documentation/pages/getting-started/the-hypercerts-infrastructure.md\ndocumentation/getting-started/installing-the-sdk.md                    -\u003e documentation/pages/getting-started/installing-the-sdk.md\ndocumentation/lexicons/introduction-to-lexicons.md                     -\u003e documentation/pages/lexicons/introduction-to-lexicons.md\ndocumentation/lexicons/general-lexicons/README.md                      -\u003e documentation/pages/lexicons/general-lexicons/index.md\ndocumentation/lexicons/general-lexicons/shared-defs.md                 -\u003e documentation/pages/lexicons/general-lexicons/shared-defs.md\ndocumentation/lexicons/general-lexicons/location.md                    -\u003e documentation/pages/lexicons/general-lexicons/location.md\ndocumentation/lexicons/hypercerts-lexicons/README.md                   -\u003e documentation/pages/lexicons/hypercerts-lexicons/index.md\ndocumentation/lexicons/hypercerts-lexicons/activity-claim.md           -\u003e documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md\ndocumentation/lexicons/hypercerts-lexicons/contribution.md             -\u003e documentation/pages/lexicons/hypercerts-lexicons/contribution.md\ndocumentation/lexicons/hypercerts-lexicons/evaluation.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/evaluation.md\ndocumentation/lexicons/hypercerts-lexicons/measurement.md              -\u003e documentation/pages/lexicons/hypercerts-lexicons/measurement.md\ndocumentation/lexicons/hypercerts-lexicons/attachment.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/attachment.md\ndocumentation/lexicons/hypercerts-lexicons/rights.md                   -\u003e documentation/pages/lexicons/hypercerts-lexicons/rights.md\ndocumentation/lexicons/hypercerts-lexicons/collection.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/collection.md\n```\n\n## Global Transformations (apply to ALL files)\n\n1. **Remove all `\u0026#x20;` HTML entities** (trailing space artifacts from GitBook) -- found in 6 files, ~9 instances\n2. **Remove all zero-width space characters** (`\\u200b`) from table cells -- found in activity-claim.md, rights.md\n3. **Remove all GitBook anchor tags from headings**: `\u003ca href=\"#...\" id=\"...\"\u003e\u003c/a\u003e` -- found in why-were-building-hypercerts.md (15 instances), activity-claim.md (3 instances)\n4. **Remove trailing `\u003cbr\u003e` tags** at end of files -- found in 6 files\n5. **Convert GitBook layout frontmatter** to simple `title`/`description` frontmatter. The GitBook frontmatter looks like:\n```yaml\nlayout:\n  width: default\n  title:\n    visible: true\n  ...\nmetaLinks:\n  alternates:\n    - https://app.gitbook.com/s/...\n```\nReplace with:\n```yaml\ntitle: Page Title Here\ndescription: Optional description\n```\n6. **Rename README.md -\u003e index.md** (3 files: root, general-lexicons, hypercerts-lexicons)\n7. **Update all internal links** to use Next.js-compatible paths (remove `.md` extensions, use absolute paths from root)\n8. **Add frontmatter** to every file that lacks it (at minimum: `title`)\n\n## File-Specific Transformations\n\n### README.md -\u003e pages/index.md\n- Replace the entire GitBook layout frontmatter block with: `title: Welcome to the Hypercerts Protocol`\n- Convert `{% columns %}`/`{% column %}`/`{% endcolumn %}`/`{% endcolumns %}` to Markdoc syntax: `{% columns %}`/`{% column %}`/`{% /column %}`/`{% /columns %}`\n- Convert 2 `\u003cfigure\u003e\u003cimg src=\".gitbook/assets/...\"\u003e` tags to `{% figure src=\"/images/...\" /%}`:\n  - `.gitbook/assets/hypercerts_for_projects.png` -\u003e `/images/hypercerts_for_projects.png`\n  - `.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n- Remove or fix broken link `/broken/pages/gNQzZ9R1b3NKrJoQ0Iqa` (read surrounding text to determine intent; if undeterminable, remove the link and keep the text)\n- Remove trailing `\u003cbr\u003e`\n\n### deep-dive-the-work-scope.md -\u003e pages/deep-dive-the-work-scope.md\n- Add frontmatter: `title: \"Deep Dive: The Work Scope\"`\n- Convert `{% hint style=\"info\" %}...{% endhint %}` to `{% callout type=\"info\" %}...{% /callout %}`\n\n### getting-started/why-were-building-hypercerts.md\n- Keep existing `description` frontmatter, add `title: \"Why We're Building Hypercerts\"`\n- Remove all 15 anchor `\u003ca href=\"#...\" id=\"...\"\u003e\u003c/a\u003e` tags from headings\n- Remove trailing `\u003cbr\u003e`\n\n### getting-started/introduction-to-impact-claims.md\n- Replace `icon: bolt` frontmatter with `title: Introduction to Impact Claims`\n- Remove `\u0026#x20;` entities (3 instances)\n- Convert `\u003cfigure\u003e\u003cimg src=\"../.gitbook/assets/hypercert erd.png\"\u003e` to `{% figure src=\"/images/hypercert-erd.png\" alt=\"Hypercert ERD\" /%}`\n\n### getting-started/the-impact-and-work-space.md\n- Add frontmatter: `title: The Impact and Work Space`\n- Remove `\u0026#x20;` entity\n- Fix broken self-referencing anchor link `the-impact-and-work-space.md#the-impact-space` -- the heading `#the-impact-space` does not exist. Check what heading was intended and fix.\n\n### getting-started/the-hypercerts-infrastructure.md\n- Add frontmatter: `title: The Hypercerts Infrastructure`\n- Content is just \"TBD\" -- leave as-is\n\n### getting-started/installing-the-sdk.md\n- Add frontmatter: `title: Installing the SDK`\n- Remove `\u003cbr\u003e`. Content is empty -- leave as-is\n\n### lexicons/introduction-to-lexicons.md\n- Add frontmatter: `title: Introduction to Lexicons`\n- Remove `\u0026#x20;`\n- Fix 2 broken links: `/broken/pages/3UwgsMpD20ErXurhzmTh` and `/broken/pages/FdVczwFhTBj7n5nszh0P` -- read surrounding text to determine intent. If undeterminable, remove the links and keep the text.\n\n### lexicons/general-lexicons/README.md -\u003e pages/lexicons/general-lexicons/index.md\n- Add frontmatter: `title: General Lexicons`\n\n### lexicons/general-lexicons/shared-defs.md\n- Add frontmatter: `title: Shared Definitions`\n- Remove `\u0026#x20;`\n\n### lexicons/general-lexicons/location.md\n- Add frontmatter: `title: Location`\n- Remove `\u0026#x20;` (3 instances)\n- Fix inline HTML in table cell: `\u003cp\u003e\u003ccode\u003eunion\u003c/code\u003e\u003cbr\u003e...\u003c/p\u003e` -\u003e clean Markdown equivalent\n- Fix broken anchor link `location.md#locationtype` -\u003e `#location-type` (the heading is \"### Location Type\" which generates anchor `#location-type`)\n\n### lexicons/hypercerts-lexicons/README.md -\u003e pages/lexicons/hypercerts-lexicons/index.md\n- Add frontmatter: `title: Hypercerts Lexicons`\n\n### lexicons/hypercerts-lexicons/activity-claim.md\n- Add frontmatter: `title: Activity Claim`\n- Remove 3 anchor `\u003ca\u003e` tags from headings\n- Fix malformed table: the table is missing a proper header row. The first data row currently acts as the header. Add a real header row with columns: Property, Type, Required, Description, Comments\n- Remove zero-width space characters (`\\u200b`) from table cells\n- Replace broken GitBook editor URL `https://app.gitbook.com/o/uxU8o4s6mrp88yBisLn5/s/8dkOAon1uQbyqL8RomaJ/hypercert-claim-lexicons/the-impact-and-work-space` with relative link `/getting-started/the-impact-and-work-space`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/contribution.md\n- Add frontmatter: `title: Contribution`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/evaluation.md\n- Add frontmatter: `title: Evaluation`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/measurement.md\n- Add frontmatter: `title: Measurement`\n- Remove `\u0026#x20;`\n\n### lexicons/hypercerts-lexicons/attachment.md\n- Add frontmatter: `title: Evidence`\n- No special syntax changes needed\n\n### lexicons/hypercerts-lexicons/rights.md\n- Add frontmatter: `title: Rights`\n- Fix malformed table: add proper header row (same issue as activity-claim.md)\n- Remove zero-width space characters from table cells\n\n### lexicons/hypercerts-lexicons/collection.md\n- Add frontmatter: `title: Collection`\n- No special syntax changes needed\n\n## Acceptance Criteria\n- All 17 files are in `documentation/pages/` directory with correct paths\n- README.md files renamed to index.md (3 files)\n- No GitBook-specific syntax remains (`{% hint %}`, `{% endcolumns %}`, `{% endcolumn %}`, `{% endhint %}`, etc.)\n- No `\u0026#x20;` entities, no zero-width spaces, no orphan `\u003ca\u003e` anchor tags, no trailing `\u003cbr\u003e`\n- All files have proper YAML frontmatter with at minimum a `title` field\n- All broken links either resolved to correct targets or removed with text preserved\n- Malformed tables in activity-claim.md and rights.md have proper header rows\n- All image paths updated from `.gitbook/assets/` to `/images/`\n- All internal links use paths without `.md` extensions\n- All files render correctly via `npm run dev`\n","status":"closed","priority":0,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:42:41.246087+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:13:55.289826+13:00","closed_at":"2026-02-14T13:13:55.289831+13:00","dependencies":[{"issue_id":"docs-qsc","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:42:41.247806+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-qsc","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:42:41.24883+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-r1z","title":"Epic 9: Cleanup and Verification","description":"## Summary\nFinal cleanup pass to remove all GitBook artifacts, verify link integrity, perform visual QA against the Stripe-inspired design language, and ensure the project is clean and production-ready.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`.\n\nBy the time this epic runs, Epics 1-8 have completed:\n- Next.js + Markdoc project scaffolded (Epic 1)\n- Custom Markdoc tags created: callout, columns, column, figure (Epic 2)\n- All 17 content files migrated to `pages/` with cleaned syntax (Epic 3)\n- Three-column layout with sidebar, content, and right TOC built (Epic 4)\n- Stripe-inspired CSS styling applied (Epic 5)\n- Images moved to `public/images/` and `.gitbook/` deleted (Epic 6)\n- All broken links fixed (Epic 7)\n- Build verified and deployment configured (Epic 8)\n\nThis epic is the final quality gate before the migration is considered complete.\n\n## Tasks\n\n### 1. Remove GitBook Artifacts\n\nDelete all files and directories that are GitBook-specific and no longer needed:\n\n```bash\n# Verify .gitbook/ is already deleted (should be gone from Epic 6)\nls -la documentation/.gitbook 2\u003e\u00261  # Should say \"No such file or directory\"\n\n# Delete SUMMARY.md (replaced by programmatic navigation in Epic 4)\nrm -f documentation/SUMMARY.md\n\n# Delete the original GitBook content files that were copied to pages/\n# These are the OLD files at the documentation/ root level (NOT the ones in pages/)\nrm -f documentation/README.md\nrm -f documentation/deep-dive-the-work-scope.md\nrm -rf documentation/getting-started/\nrm -rf documentation/lexicons/\n```\n\n**Important:** Only delete the old root-level files. Do NOT delete anything inside `documentation/pages/`, `documentation/components/`, `documentation/markdoc/`, etc.\n\nAlso check for and remove any remaining GitBook-specific frontmatter in content files. GitBook frontmatter looks like:\n```yaml\nlayout:\n  width: default\n  title:\n    visible: true\nmetaLinks:\n  alternates:\n    - https://app.gitbook.com/s/...\n```\nIf any of this remains in any file under `pages/`, strip it and leave only `title` and `description` fields.\n\n### 2. Run Artifact Grep Checks\n\nSearch all content files for leftover GitBook artifacts. Every one of these commands should return ZERO results:\n\n```bash\n# GitBook broken page links\ngrep -r '/broken/pages/' documentation/pages/\n\n# GitBook editor URLs\ngrep -r 'app.gitbook.com' documentation/pages/\n\n# GitBook asset paths\ngrep -r '.gitbook/' documentation/pages/\ngrep -r '.gitbook/' documentation/components/\n\n# HTML entity artifacts\ngrep -r '\u0026#x20;' documentation/pages/\n\n# Zero-width spaces (use hex search)\ngrep -rP '\\x{200b}' documentation/pages/ 2\u003e/dev/null || grep -r $'\\u200b' documentation/pages/\n\n# GitBook proprietary tag syntax (should all be converted to Markdoc)\ngrep -r '{% hint' documentation/pages/\ngrep -r '{% endhint' documentation/pages/\ngrep -r '{% endcolumn' documentation/pages/\ngrep -r '{% endcolumns' documentation/pages/\n\n# Orphan HTML tags\ngrep -r '\u003cbr\u003e$' documentation/pages/\ngrep -r '\u003ca href=\"#' documentation/pages/\n```\n\nFix any remaining issues found.\n\n### 3. Verify All Internal Links\n\nStart the dev server and manually navigate to every page via the sidebar:\n\n```bash\ncd documentation \u0026\u0026 npm run dev\n```\n\nPages to check (17 total):\n1. `/` (Welcome / landing page)\n2. `/getting-started/why-were-building-hypercerts`\n3. `/getting-started/introduction-to-impact-claims`\n4. `/getting-started/the-impact-and-work-space`\n5. `/getting-started/the-hypercerts-infrastructure`\n6. `/getting-started/installing-the-sdk`\n7. `/lexicons/introduction-to-lexicons`\n8. `/lexicons/general-lexicons`\n9. `/lexicons/general-lexicons/shared-defs`\n10. `/lexicons/general-lexicons/location`\n11. `/lexicons/hypercerts-lexicons`\n12. `/lexicons/hypercerts-lexicons/activity-claim`\n13. `/lexicons/hypercerts-lexicons/contribution`\n14. `/lexicons/hypercerts-lexicons/evaluation`\n15. `/lexicons/hypercerts-lexicons/measurement`\n16. `/lexicons/hypercerts-lexicons/attachment`\n17. `/lexicons/hypercerts-lexicons/rights`\n18. `/lexicons/hypercerts-lexicons/collection`\n19. `/deep-dive-the-work-scope`\n\nFor each page verify:\n- Page loads without errors (check browser console)\n- No 404s for any internal links on the page\n- Anchor links (e.g., `#location-type`) scroll to the correct heading\n\n### 4. Visual QA Against Stripe Design Language\n\nFor each page, verify the design matches the Stripe-inspired patterns:\n\n**Layout:**\n- [ ] Three-column layout on desktop: left sidebar (~240px), content (~720px max), right TOC (~200px)\n- [ ] Sidebar has subtle 1px right border (#ebeef1), not a heavy shadow\n- [ ] Content area is well-centered with comfortable padding\n- [ ] Header is minimal with site title and 1px bottom border\n\n**Typography:**\n- [ ] Body text is 16px, dark gray (#414552), NOT pure black\n- [ ] Headings use proper hierarchy (H1 largest, H2 with large top margin creating section breaks)\n- [ ] System font stack is used (no custom font loading delays)\n- [ ] Text is anti-aliased (`-webkit-font-smoothing: antialiased`)\n- [ ] Line height is comfortable (~1.65 for body)\n\n**Colors:**\n- [ ] Page background is pure white\n- [ ] Links are blue (#0570de), darken on hover\n- [ ] The page is overwhelmingly neutral/grayscale -- color appears only for links, callouts, and interactive elements\n- [ ] No decorative elements, no gradients, no heavy shadows\n\n**Components:**\n- [ ] Tables are clean: no outer borders, header has bottom border only, no zebra striping\n- [ ] Code blocks have light gray background (#f6f8fa), rounded corners, monospace font\n- [ ] Inline code has subtle gray background pill\n- [ ] Callout boxes (on deep-dive page) have colored left border and tinted background\n- [ ] Column layouts (on landing page) display side-by-side on desktop, stack on mobile\n- [ ] Images render correctly with proper sizing\n\n**Navigation:**\n- [ ] Sidebar section headers are small, semibold, secondary gray\n- [ ] Active page is highlighted in sidebar (bold text + subtle background)\n- [ ] Right TOC shows H2 headings and highlights current section on scroll\n- [ ] Prev/next pagination works at bottom of content area\n- [ ] On mobile (\u003c 768px): sidebar collapses, content goes full width\n\n### 5. Verify Heading Anchor IDs\n\nMarkdoc auto-generates heading IDs from heading text. Verify that the generation is consistent:\n- \"### Location Type\" should generate `#location-type` (lowercase, hyphenated)\n- Any in-page anchor links should match the generated IDs\n- Click each anchor link on pages that have them to confirm they work\n\n### 6. Final File Inventory\n\nVerify the project structure is clean:\n```\ndocumentation/\n├── components/\n│   ├── Callout.js\n│   ├── Column.js\n│   ├── Columns.js\n│   ├── Figure.js\n│   ├── Layout.js\n│   ├── Sidebar.js\n│   └── TableOfContents.js\n├── lib/\n│   └── navigation.js\n├── markdoc/\n│   ├── tags/\n│   │   ├── callout.markdoc.js\n│   │   ├── column.markdoc.js\n│   │   ├── columns.markdoc.js\n│   │   ├── figure.markdoc.js\n│   │   └── index.js\n│   └── nodes/          (may be empty or have heading overrides)\n├── pages/\n│   ├── _app.js\n│   ├── index.md\n│   ├── deep-dive-the-work-scope.md\n│   ├── getting-started/\n│   │   ├── why-were-building-hypercerts.md\n│   │   ├── introduction-to-impact-claims.md\n│   │   ├── the-impact-and-work-space.md\n│   │   ├── the-hypercerts-infrastructure.md\n│   │   └── installing-the-sdk.md\n│   └── lexicons/\n│       ├── introduction-to-lexicons.md\n│       ├── general-lexicons/\n│       │   ├── index.md\n│       │   ├── shared-defs.md\n│       │   └── location.md\n│       └── hypercerts-lexicons/\n│           ├── index.md\n│           ├── activity-claim.md\n│           ├── contribution.md\n│           ├── evaluation.md\n│           ├── measurement.md\n│           ├── attachment.md\n│           ├── rights.md\n│           └── collection.md\n├── public/\n│   └── images/\n│       ├── hypercerts_for_projects.png\n│       └── hypercert-erd.png\n├── styles/\n│   └── globals.css\n├── next.config.js\n├── package.json\n├── package-lock.json\n└── .gitignore\n```\n\nConfirm:\n- No `.gitbook/` directory\n- No `SUMMARY.md`\n- No root-level `.md` content files (only inside `pages/`)\n- No orphaned files outside the standard Next.js structure\n\n### 7. Final Build Check\n```bash\ncd documentation\nnpm run build\n```\nMust succeed with zero errors after all cleanup.\n\n## Acceptance Criteria\n- Zero grep hits for `/broken/pages/`, `app.gitbook.com`, `.gitbook/`, `\u0026#x20;`, zero-width spaces, `{% hint`, `{% endhint`, `{% endcolumn`, `{% endcolumns` in content files\n- `SUMMARY.md` is deleted\n- `.gitbook/` directory is deleted\n- Old root-level content files (README.md, getting-started/, lexicons/, deep-dive-the-work-scope.md) are deleted\n- All 17+ pages render correctly in the browser with no console errors\n- All internal links resolve correctly (no 404s)\n- All heading anchor links work\n- The visual design matches the Stripe-inspired patterns (white bg, gray text, blue links, clean tables, colored callouts, three-column layout)\n- The project directory structure is clean with no orphaned files\n- `npm run build` succeeds with zero errors\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:46:01.998664+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:19:59.577445+13:00","closed_at":"2026-02-14T13:19:59.577453+13:00","dependencies":[{"issue_id":"docs-r1z","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:46:02.000863+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:46:02.002015+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:46:02.002729+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:46:02.003372+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-yne","type":"blocks","created_at":"2026-02-13T13:46:02.004004+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-cij","type":"blocks","created_at":"2026-02-13T13:46:02.004627+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-7b4","type":"blocks","created_at":"2026-02-13T13:46:02.00526+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-d4r","type":"blocks","created_at":"2026-02-13T13:46:02.005893+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg","title":"Epic: Bug Fixes \u0026 Design Polish","status":"open","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:01.764873+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:06:01.764873+13:00"}
{"id":"docs-scg.1","title":"Fix SSR hydration mismatch in Layout.js — guard localStorage with typeof window check","description":"## Files\n- documentation/components/Layout.js (modify)\n\n## What to do\nLine 21 calls `localStorage.getItem(\"sidebar-collapsed\")` inside a `useEffect` without guarding against SSR. While `useEffect` only runs client-side in React, Next.js static export can still trigger hydration warnings if the initial render differs from server render.\n\nFix: Wrap the `localStorage` access in a `typeof window !== \"undefined\"` check inside the existing `useEffect` on lines 20-25. Also wrap the `localStorage.setItem` call on line 30 in the same guard.\n\nBefore (line 20-25):\n```js\nuseEffect(() =\u003e {\n  const stored = localStorage.getItem(\"sidebar-collapsed\");\n  if (stored === \"true\") {\n    setSidebarCollapsed(true);\n  }\n}, []);\n```\n\nAfter:\n```js\nuseEffect(() =\u003e {\n  if (typeof window === \"undefined\") return;\n  const stored = localStorage.getItem(\"sidebar-collapsed\");\n  if (stored === \"true\") {\n    setSidebarCollapsed(true);\n  }\n}, []);\n```\n\nAlso update `toggleCollapsed` (line 27-31):\n```js\nconst toggleCollapsed = () =\u003e {\n  const next = !sidebarCollapsed;\n  setSidebarCollapsed(next);\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"sidebar-collapsed\", String(next));\n  }\n};\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/Layout.js\\\", \\\"utf8\\\");\nconst hasGuard = src.includes(\\\"typeof window\\\");\nif (!hasGuard) { console.error(\\\"FAIL: missing typeof window guard\\\"); process.exit(1); }\nconsole.log(\\\"PASS: localStorage guarded with typeof window check\\\");\n\"\n```\n\n## Dont\n- Do not change any other component files\n- Do not change the sidebar collapse behavior or UX\n- Do not add try/catch around localStorage (the guard is sufficient)\n- Do not remove the useEffect or change its dependency array","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:16.432116+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:35.991575+13:00","closed_at":"2026-02-14T21:10:35.991575+13:00","close_reason":"e4a6983 guard localStorage with typeof window check in Layout.js","dependencies":[{"issue_id":"docs-scg.1","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:16.433467+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.2","title":"Fix IntersectionObserver memory leak in TableOfContents.js","description":"## Files\n- documentation/components/TableOfContents.js (modify)\n\n## What to do\nThe IntersectionObserver cleanup in the second useEffect (lines 28-59) is not fully robust. If the component unmounts while headings are being observed, the observer ref may not be properly nullified. Additionally, the observer should be disconnected and nullified in the cleanup function.\n\nFix the cleanup function (lines 54-58) to also null out the ref after disconnecting:\n\nBefore:\n```js\nreturn () =\u003e {\n  if (observerRef.current) {\n    observerRef.current.disconnect();\n  }\n};\n```\n\nAfter:\n```js\nreturn () =\u003e {\n  if (observerRef.current) {\n    observerRef.current.disconnect();\n    observerRef.current = null;\n  }\n};\n```\n\nAlso add a guard at the top of the first useEffect (lines 9-25) for SSR safety:\n```js\nuseEffect(() =\u003e {\n  if (typeof window === \"undefined\") return;\n  const article = document.querySelector(\".layout-content article\");\n  // ... rest unchanged\n}, []);\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/TableOfContents.js\\\", \\\"utf8\\\");\nconst hasNullify = src.includes(\\\"observerRef.current = null\\\");\nif (!hasNullify) { console.error(\\\"FAIL: observer ref not nullified in cleanup\\\"); process.exit(1); }\nconsole.log(\\\"PASS: IntersectionObserver cleanup is robust\\\");\n\"\n```\n\n## Dont\n- Do not change the IntersectionObserver options (rootMargin, threshold)\n- Do not change the scroll spy logic or active heading detection\n- Do not change the JSX/rendering\n- Do not add any new dependencies","status":"in_progress","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:26.158667+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:15.763453+13:00","dependencies":[{"issue_id":"docs-scg.2","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:26.15979+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.3","title":"Fix router event listener leak in Sidebar.js — stabilize onClose callback","description":"## Files\n- documentation/components/Sidebar.js (modify)\n\n## What to do\nIn the Sidebar component (lines 116-122), the useEffect registers a `routeChangeComplete` event listener that calls `onClose`. The dependency array includes `[router, onClose]`. Since `onClose` is `() =\u003e setSidebarOpen(false)` — an inline arrow function created each render in Layout.js — this causes the listener to be torn down and re-registered on every render.\n\nFix: Use a ref to hold the latest `onClose` callback, so the effect only depends on `router`. This prevents unnecessary re-registration.\n\nReplace lines 116-122 with:\n```js\nconst onCloseRef = useRef(onClose);\nuseEffect(() =\u003e {\n  onCloseRef.current = onClose;\n});\n\nuseEffect(() =\u003e {\n  const handleRouteChange = () =\u003e {\n    if (onCloseRef.current) onCloseRef.current();\n  };\n  router.events.on(\"routeChangeComplete\", handleRouteChange);\n  return () =\u003e router.events.off(\"routeChangeComplete\", handleRouteChange);\n}, [router]);\n```\n\nYou will also need to add `useRef` to the import on line 1:\n```js\nimport { useState, useEffect, useRef } from \"react\";\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/Sidebar.js\\\", \\\"utf8\\\");\nconst hasRef = src.includes(\\\"useRef\\\") \u0026\u0026 src.includes(\\\"onCloseRef\\\");\nconst noOnCloseInDeps = !src.match(/\\\\[router,\\\\s*onClose\\\\]/);\nif (!hasRef) { console.error(\\\"FAIL: missing useRef for onClose\\\"); process.exit(1); }\nif (!noOnCloseInDeps) { console.error(\\\"FAIL: onClose still in useEffect deps\\\"); process.exit(1); }\nconsole.log(\\\"PASS: router event listener stabilized with ref\\\");\n\"\n```\n\n## Dont\n- Do not change the NavItem or NavSection components\n- Do not change the sidebar JSX structure or CSS classes\n- Do not remove the routeChangeComplete listener (it is needed for mobile sidebar close)\n- Do not change the navigation import or data","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:36.189703+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:39.443531+13:00","closed_at":"2026-02-14T21:10:39.443531+13:00","close_reason":"d5eb099 stabilize onClose callback with useRef in Sidebar.js","dependencies":[{"issue_id":"docs-scg.3","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:36.191148+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.4","title":"Fix Evidence nav link — rename title or file to match","description":"## Files\n- documentation/lib/navigation.js (modify)\n\n## What to do\nIn navigation.js line 33, the nav entry has title \"Evidence\" but links to path `/lexicons/hypercerts-lexicons/attachment`. The actual file is `documentation/pages/lexicons/hypercerts-lexicons/attachment.md` which exists. The mismatch is that the nav title says \"Evidence\" but the URL says \"attachment\" — this is confusing but technically works.\n\nThe fix: Rename the file to match the nav title. Create `evidence.md` from `attachment.md` and update the nav path.\n\nSteps:\n1. Copy `documentation/pages/lexicons/hypercerts-lexicons/attachment.md` to `documentation/pages/lexicons/hypercerts-lexicons/evidence.md`\n2. In the new `evidence.md`, update the frontmatter title to \"Evidence\" if it says \"Attachment\"\n3. Update `documentation/lib/navigation.js` line 33: change `path: \"/lexicons/hypercerts-lexicons/attachment\"` to `path: \"/lexicons/hypercerts-lexicons/evidence\"`\n4. Delete the old `attachment.md` file\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst nav = fs.readFileSync(\\\"lib/navigation.js\\\", \\\"utf8\\\");\nconst hasEvidence = nav.includes(\\\"/lexicons/hypercerts-lexicons/evidence\\\");\nconst noAttachment = !nav.includes(\\\"/lexicons/hypercerts-lexicons/attachment\\\");\nconst fileExists = fs.existsSync(\\\"pages/lexicons/hypercerts-lexicons/evidence.md\\\");\nconst oldGone = !fs.existsSync(\\\"pages/lexicons/hypercerts-lexicons/attachment.md\\\");\nif (!hasEvidence) { console.error(\\\"FAIL: nav missing evidence path\\\"); process.exit(1); }\nif (!noAttachment) { console.error(\\\"FAIL: nav still has attachment path\\\"); process.exit(1); }\nif (!fileExists) { console.error(\\\"FAIL: evidence.md does not exist\\\"); process.exit(1); }\nif (!oldGone) { console.error(\\\"FAIL: attachment.md still exists\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Evidence nav link and file are consistent\\\");\n\"\n```\n\n## Dont\n- Do not change any other navigation entries\n- Do not change the content of the file (only the frontmatter title if needed)\n- Do not modify any other files besides navigation.js and the renamed markdown file","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:49.936961+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:46.051008+13:00","closed_at":"2026-02-14T21:10:46.051008+13:00","close_reason":"494906a Renamed attachment.md to evidence.md and updated navigation link to match","dependencies":[{"issue_id":"docs-scg.4","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:49.938055+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.5","title":"Add placeholder content to stub pages (infrastructure + SDK)","description":"## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n- documentation/pages/getting-started/installing-the-sdk.md (modify)\n\n## What to do\nTwo stub pages have no real content. Add meaningful placeholder content that is accurate based on the rest of the documentation. These pages are about the Hypercerts protocol built on ATProto.\n\n### the-hypercerts-infrastructure.md\nReplace the current stub (just \"### Why ATProto?\" and \"_TBD_\") with:\n\n```markdown\n---\ntitle: The Hypercerts Infrastructure\n---\n\n# The Hypercerts Infrastructure\n\nThe Hypercerts protocol is built on top of the AT Protocol (ATProto), a decentralized social networking framework. This page explains the infrastructure choices and how they enable the hypercerts system.\n\n## Why ATProto?\n\nThe AT Protocol provides several properties that make it ideal for hypercerts:\n\n- **Decentralized identity**: Users control their own identity through DIDs (Decentralized Identifiers), ensuring that impact claims are tied to verifiable actors\n- **Lexicon-based schemas**: ATProto uses Lexicons to define data schemas, providing a structured and extensible way to represent hypercerts data\n- **Federation**: Data is stored across federated servers (Personal Data Servers), giving users data sovereignty while maintaining interoperability\n- **Content addressing**: Records are content-addressed, making hypercerts tamper-evident and auditable\n\n## Architecture Overview\n\nThe hypercerts infrastructure consists of:\n\n1. **Personal Data Servers (PDS)**: Store user data including hypercert records, evaluations, and contributions\n2. **Lexicon schemas**: Define the structure of all hypercert-related records (see [Lexicons](/lexicons/introduction-to-lexicons))\n3. **Record types**: Activity claims, contributions, evaluations, measurements, evidence, rights, and collections\n\n## Data Flow\n\nWhen a user creates a hypercert:\n\n1. The claim is structured according to the relevant lexicon schema\n2. The record is stored on the user's PDS\n3. Other users can reference, evaluate, or contribute to the claim using linked records\n4. All records maintain cryptographic integrity through ATProto's content addressing\n```\n\n### installing-the-sdk.md\nReplace the empty stub with:\n\n```markdown\n---\ntitle: Installing the SDK\n---\n\n# Installing the SDK\n\nThis page covers how to set up your development environment for working with the Hypercerts protocol.\n\n## Prerequisites\n\nBefore getting started, ensure you have:\n\n- **Node.js** (v18 or later)\n- **npm** or **yarn** package manager\n- An AT Protocol account (e.g., a Bluesky account)\n\n## Installation\n\nInstall the hypercerts SDK via npm:\n\n```\nnpm install @hypercerts/sdk\n```\n\nOr with yarn:\n\n```\nyarn add @hypercerts/sdk\n```\n\n## Configuration\n\nAfter installation, configure the SDK with your ATProto credentials:\n\n```\nimport { HypercertsClient } from \"@hypercerts/sdk\";\n\nconst client = new HypercertsClient({\n  service: \"https://bsky.social\",\n  // Additional configuration options\n});\n```\n\n## Next Steps\n\n- Learn about the [lexicon schemas](/lexicons/introduction-to-lexicons) that define hypercert data structures\n- Explore the [work scope](/deep-dive-the-work-scope) concept in depth\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst infra = fs.readFileSync(\\\"pages/getting-started/the-hypercerts-infrastructure.md\\\", \\\"utf8\\\");\nconst sdk = fs.readFileSync(\\\"pages/getting-started/installing-the-sdk.md\\\", \\\"utf8\\\");\nconst infraHasContent = infra.length \u003e 200 \u0026\u0026 !infra.includes(\\\"_TBD_\\\");\nconst sdkHasContent = sdk.length \u003e 200 \u0026\u0026 sdk.includes(\\\"npm\\\");\nif (!infraHasContent) { console.error(\\\"FAIL: infrastructure page still a stub\\\"); process.exit(1); }\nif (!sdkHasContent) { console.error(\\\"FAIL: SDK page still a stub\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Both stub pages have meaningful content\\\");\n\"\n```\n\n## Dont\n- Do not change the frontmatter title fields\n- Do not add any Markdoc custom tags (use standard markdown only)\n- Do not modify any other pages\n- Do not change navigation.js","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:10.12344+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:58.791793+13:00","closed_at":"2026-02-14T21:10:58.791793+13:00","close_reason":"1e42be8 filled stub pages with meaningful content for infrastructure and SDK","dependencies":[{"issue_id":"docs-scg.5","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:10.124804+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.6","title":"Reduce content max-width from 1175px to 800px for readability","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area max-width is currently 1175px (line 110: `--content-max-width: 1175px`). This is too wide for comfortable reading. Reduce it to 800px.\n\nChange line 110 in globals.css:\n\nBefore:\n```css\n--content-max-width: 1175px;\n```\n\nAfter:\n```css\n--content-max-width: 800px;\n```\n\nThat is the ONLY change needed. The CSS variable is already used by `.layout-content` on line 445.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst match = css.match(/--content-max-width:\\\\s*(\\\\d+)px/);\nif (!match) { console.error(\\\"FAIL: content-max-width variable not found\\\"); process.exit(1); }\nconst width = parseInt(match[1]);\nif (width \u003e 850) { console.error(\\\"FAIL: content-max-width is \\\" + width + \\\"px, expected \u003c= 850\\\"); process.exit(1); }\nif (width \u003c 700) { console.error(\\\"FAIL: content-max-width is \\\" + width + \\\"px, too narrow\\\"); process.exit(1); }\nconsole.log(\\\"PASS: content-max-width is \\\" + width + \\\"px\\\");\n\"\n```\n\n## Dont\n- Do not change any other CSS variables\n- Do not change the .layout-content rule itself\n- Do not modify any component files\n- Only touch the single CSS variable declaration","status":"in_progress","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:19.971101+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:31.18959+13:00","dependencies":[{"issue_id":"docs-scg.6","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:19.97185+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.7","title":"Increase content padding — 40px top, 48px sides","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area padding is currently `var(--space-6) var(--space-6)` which is `24px 24px` (line 446). Increase to 40px top and 48px sides for better breathing room.\n\nChange line 446 in globals.css:\n\nBefore:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-6) var(--space-6);\n}\n```\n\nAfter:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-10) var(--space-12);\n}\n```\n\nNote: `--space-10` = 40px, `--space-12` = 48px (these variables already exist in the design tokens).\n\nAlso update the mobile responsive override on line 916:\nBefore:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\nAfter:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n(Keep mobile padding the same — 24px top, 16px sides is fine for mobile.)\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\n// Find the .layout-content rule (not inside @media)\nconst contentRule = css.match(/\\\\.layout-content\\\\s*\\\\{[^}]*padding:\\\\s*var\\\\(--space-10\\\\)\\\\s+var\\\\(--space-12\\\\)/);\nif (!contentRule) { console.error(\\\"FAIL: .layout-content padding not updated to space-10 space-12\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Content padding increased to 40px 48px\\\");\n\"\n```\n\n## Dont\n- Do not change the mobile responsive padding (keep it as-is)\n- Do not change any other properties in .layout-content\n- Do not modify any component files\n- Do not change the design token values themselves","status":"in_progress","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:29.179182+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:31.727742+13:00","dependencies":[{"issue_id":"docs-scg.7","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:29.180577+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.8","title":"Reduce H3 font-size from 20px to 18px for heading hierarchy","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nH3 and H2 are both 20px, which breaks visual hierarchy. Reduce H3 to 18px.\n\nChange the `.layout-content h3` rule (lines 576-583):\n\nBefore:\n```css\n.layout-content h3 {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--color-text-heading);\n  line-height: 1.4;\n  margin-top: var(--space-8);\n  margin-bottom: var(--space-2);\n}\n```\n\nAfter:\n```css\n.layout-content h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-text-heading);\n  line-height: 1.4;\n  margin-top: var(--space-8);\n  margin-bottom: var(--space-2);\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst h3Match = css.match(/\\\\.layout-content\\\\s+h3\\\\s*\\\\{[^}]*font-size:\\\\s*(\\\\d+)px/);\nconst h2Match = css.match(/\\\\.layout-content\\\\s+h2\\\\s*\\\\{[^}]*font-size:\\\\s*(\\\\d+)px/);\nif (!h3Match) { console.error(\\\"FAIL: h3 font-size not found\\\"); process.exit(1); }\nif (!h2Match) { console.error(\\\"FAIL: h2 font-size not found\\\"); process.exit(1); }\nconst h3Size = parseInt(h3Match[1]);\nconst h2Size = parseInt(h2Match[1]);\nif (h3Size \u003e= h2Size) { console.error(\\\"FAIL: h3 (\\\" + h3Size + \\\"px) should be smaller than h2 (\\\" + h2Size + \\\"px)\\\"); process.exit(1); }\nif (h3Size !== 18) { console.error(\\\"FAIL: h3 is \\\" + h3Size + \\\"px, expected 18px\\\"); process.exit(1); }\nconsole.log(\\\"PASS: h3 is 18px, h2 is \\\" + h2Size + \\\"px — proper hierarchy\\\");\n\"\n```\n\n## Dont\n- Do not change H2 font-size (keep at 20px)\n- Do not change H1 or H4 styles\n- Do not change any other H3 properties (weight, color, line-height, margins)\n- Do not modify any component files","status":"in_progress","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:37.278427+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:32.239885+13:00","dependencies":[{"issue_id":"docs-scg.8","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:37.279736+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.9","title":"Increase sidebar section divider spacing from 8px to 20px","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe sidebar section dividers (`.sidebar-section`) have `margin-top: var(--space-2)` and `padding-top: var(--space-2)` which is only 8px each. This makes sections feel cramped. Increase to 20px each.\n\nChange the `.sidebar-section` rule (lines 349-354):\n\nBefore:\n```css\n.sidebar-section {\n  margin-top: var(--space-2);\n  padding-top: var(--space-2);\n  border-top: 1px solid var(--color-border);\n  list-style: none;\n}\n```\n\nAfter:\n```css\n.sidebar-section {\n  margin-top: var(--space-5);\n  padding-top: var(--space-5);\n  border-top: 1px solid var(--color-border);\n  list-style: none;\n}\n```\n\nNote: `--space-5` = 20px (already defined in design tokens).\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst sectionRule = css.match(/\\\\.sidebar-section\\\\s*\\\\{[^}]*margin-top:\\\\s*var\\\\(--space-(\\\\d+)\\\\)/);\nif (!sectionRule) { console.error(\\\"FAIL: sidebar-section margin-top not found\\\"); process.exit(1); }\nconst spaceNum = parseInt(sectionRule[1]);\nif (spaceNum \u003c 4) { console.error(\\\"FAIL: sidebar-section spacing too tight (space-\\\" + spaceNum + \\\")\\\"); process.exit(1); }\nconsole.log(\\\"PASS: sidebar-section uses space-\\\" + spaceNum + \\\" for margin-top\\\");\n\"\n```\n\n## Dont\n- Do not change the border-top style\n- Do not change the :first-child override (lines 356-360)\n- Do not change any other sidebar styles\n- Do not modify any component files","status":"in_progress","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:44.340001+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:32.874546+13:00","dependencies":[{"issue_id":"docs-scg.9","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:44.34153+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-urb","title":"Epic: Tutorials \u0026 Use Cases","status":"open","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:47.564891+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:47.564891+13:00"}
{"id":"docs-urb.1","title":"Write 'Common Use Cases' page with 4 real-world scenarios","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: Their \"Common use cases\" section with pages like \"Accept simple payments as a startup\", \"Sell subscriptions as a SaaS startup\", etc. Each shows a concrete scenario with the relevant API calls.\n\nThe hypercerts docs currently have examples embedded in lexicon pages (NumPy maintainers, forest stewardship) but no dedicated use-case pages that show the full workflow.\n\n## Files\n- documentation/pages/tutorials/common-use-cases.md (create)\n- documentation/lib/navigation.js (modify — add new \"Tutorials\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/common-use-cases.md` (180–260 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Common Use Cases\ndescription: See how hypercerts work for different types of contributions.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (2-3 paragraphs) — Hypercerts are domain-agnostic. This page shows four concrete scenarios to illustrate how the protocol adapts to different types of work.\n\n2. **Use Case 1: Open-Source Software Maintenance** \n   - Scenario: A team of 5 developers maintained NumPy throughout 2025\n   - What they create:\n     - Activity claim: title=\"NumPy Maintenance 2025\", workScope with allOf=[\"numpy\", \"maintenance\"], startDate/endDate for 2025\n     - Contributions: one per developer, each with their DID, role=\"maintainer\"\n     - Evidence: links to GitHub commits, release notes, CI dashboards\n     - Measurements: lines of code, issues resolved, releases published\n   - Show the JSON for the activity claim record (use the schema from `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md`)\n   - Who funds this: foundations like the NumFOCUS, corporate sponsors\n\n3. **Use Case 2: Regenerative Land Stewardship**\n   - Scenario: A community organization stewarded 500 hectares of forest in Costa Rica from 2020-2025\n   - What they create:\n     - Activity claim with location reference, workScope with allOf=[\"forest-stewardship\", \"biodiversity\"]\n     - Evidence: satellite imagery, biodiversity surveys\n     - Measurements: hectares restored, species count, carbon sequestered\n     - Location record using the `app.certified.location` lexicon with geojson-point\n   - Who funds this: climate funds, carbon credit buyers, government grants\n\n4. **Use Case 3: Scientific Research**\n   - Scenario: A research group published a breakthrough paper on mRNA delivery mechanisms\n   - What they create:\n     - Activity claim for the research project\n     - Contributions for each researcher with roles (PI, postdoc, lab technician)\n     - Evidence: published paper DOI, dataset links, preprint\n     - Evaluations: peer reviews from other scientists\n   - Who funds this: research foundations, universities, retroactive public goods funding\n\n5. **Use Case 4: Community Event Organization**\n   - Scenario: A local group organized a series of 12 monthly coding workshops for underrepresented groups\n   - What they create:\n     - Activity claim for the workshop series\n     - Contributions for organizers and volunteer instructors\n     - Evidence: attendance records, participant feedback, curriculum materials\n     - Measurements: number of workshops, total attendees, completion rates\n   - Who funds this: corporate diversity programs, community foundations\n\n6. **Choosing the Right Structure** — Brief guidance on:\n   - When to use one hypercert vs. multiple (granularity)\n   - How to scope work appropriately (link to deep-dive-the-work-scope)\n   - When to use collections to group related hypercerts\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section AFTER \"Getting Started\" and BEFORE \"Lexicons\":\n\n```javascript\n{\n  section: 'Tutorials',\n  children: [\n    { title: 'Common Use Cases', path: '/tutorials/common-use-cases' },\n  ],\n},\n```\n\n## Writing style\n- Concrete and practical — show actual JSON records, not just descriptions\n- Each use case should feel like a mini-tutorial\n- Use `##` for main sections (each use case), `####` for subsections within\n- Use fenced code blocks with ```json for record examples\n- Link to relevant lexicon pages when referencing specific record types\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields that do not exist — use only fields documented in the existing lexicon pages.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:50:37.291363+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:50:37.291363+13:00","dependencies":[{"issue_id":"docs-urb.1","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:50:37.292573+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-urb.2","title":"Write 'Creating Your First Hypercert' tutorial page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Accept a payment\" tutorial — a step-by-step walkthrough that goes deeper than the quickstart. While the quickstart (separate task) shows the minimal path, this tutorial explains each step, shows variations, and covers edge cases.\n\n## Files\n- documentation/pages/tutorials/creating-your-first-hypercert.md (create)\n- documentation/lib/navigation.js (modify — add entry under Tutorials section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/creating-your-first-hypercert.md` (150–220 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Creating Your First Hypercert\ndescription: A step-by-step guide to creating a complete hypercert with contributions, evidence, and evaluations.\n---\n```\n\n**Sections:**\n\n1. **Introduction** — This tutorial walks through creating a complete hypercert for an open-source project. Unlike the quickstart (which creates a minimal claim), this tutorial shows how to attach contributions, evidence, and measurements.\n\n2. **Prerequisites** — Link to the Installing the SDK page. Assume the reader has a working SDK setup and authenticated session.\n\n3. **Step 1: Plan Your Hypercert** — Before writing code, decide:\n   - What work are you claiming? (scope)\n   - Who contributed? (contributors)\n   - What time period? (start/end dates)\n   - What evidence do you have? (links, documents)\n   - Use a concrete example: \"Documenting the Hypercerts Protocol, Q1 2025\"\n\n4. **Step 2: Create the Activity Claim** — Full TypeScript code example:\n   - Create an `org.hypercerts.claim.activity` record\n   - Include all fields: title, shortDescription, description, workScope (with allOf/anyOf/noneOf), startDate, endDate, createdAt\n   - Show the workScope object with concrete values\n   - Explain each field with inline comments\n   - Show the response (AT URI and CID)\n\n5. **Step 3: Add Contributions** — Create contribution records:\n   - Create an `org.hypercerts.claim.contribution` record for each contributor\n   - Show how to set contributors (array of DIDs), role, description\n   - Show how to link contributions to the activity claim using strong references\n   - Explain that contributions can be on the same or different PDS\n\n6. **Step 4: Attach Evidence** — Create evidence records:\n   - Create an `org.hypercerts.claim.evidence` record\n   - Show both URI-based evidence (linking to a GitHub repo) and blob-based evidence (uploading a document)\n   - Link evidence to the activity claim\n\n7. **Step 5: Add Measurements** — Create measurement records:\n   - Create an `org.hypercerts.claim.measurement` record\n   - Show a concrete example: metric=\"documentation-pages-written\", value=\"15\"\n   - Link to the activity claim\n\n8. **Step 6: Verify Everything** — Read back all records and show how they connect:\n   - List all records in the activity claim collection\n   - Show how strong references link records together\n   - Verify the complete hypercert structure\n\n9. **What's Next** — Card links to:\n   - \"Common Use Cases\" for more scenarios\n   - \"Evaluation\" lexicon for how others can evaluate your hypercert\n   - \"Collections\" for grouping multiple hypercerts\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add under the Tutorials section (which should exist from the Common Use Cases task):\n\n```javascript\n{ title: 'Creating Your First Hypercert', path: '/tutorials/creating-your-first-hypercert' },\n```\n\n## Writing style\n- Tutorial style: \"we\" voice, step-by-step, explain as you go\n- Every code block should be complete and runnable (with placeholder auth)\n- Use `{% callout %}` for tips and important notes\n- Use fenced code blocks with ```typescript for code, ```json for data structures\n- Reference lexicon field names exactly as documented in existing lexicon pages\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields that do not exist in the existing lexicon documentation.\n- Do NOT duplicate the quickstart content — this goes deeper.","status":"open","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:00.775834+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:51:00.775834+13:00","dependencies":[{"issue_id":"docs-urb.2","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:51:00.777066+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-urb.2","depends_on_id":"docs-cfx.3","type":"blocks","created_at":"2026-02-14T20:54:30.584248+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-urb.3","title":"Write 'Working with Evaluations' tutorial page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nEvaluations are a core differentiator of the Hypercerts Protocol — they allow third parties to assess claims. The existing evaluation lexicon page (`documentation/pages/lexicons/hypercerts-lexicons/evaluation.md`) documents the schema but does not show how to use it in practice.\n\n## Files\n- documentation/pages/tutorials/working-with-evaluations.md (create)\n- documentation/lib/navigation.js (modify — add entry under Tutorials section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/working-with-evaluations.md` (120–170 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Working with Evaluations\ndescription: Learn how to evaluate hypercerts and build trust in the ecosystem.\n---\n```\n\n**Sections:**\n\n1. **What are Evaluations?** (3-4 paragraphs)\n   - Evaluations are third-party assessments of hypercert claims\n   - They are separate records on the evaluator's own PDS (not embedded in the original claim)\n   - Multiple evaluators can independently assess the same claim\n   - Evaluations accumulate over time — they are never \"final\"\n   - Reference the evaluation lexicon: `org.hypercerts.claim.evaluation`\n\n2. **Creating an Evaluation** — TypeScript code walkthrough:\n   - Authenticate as the evaluator (different DID from the claim creator)\n   - Create an `org.hypercerts.claim.evaluation` record\n   - Set the `subject` field as a strong reference to the activity claim being evaluated\n   - Set `evaluators` array with the evaluator's DID(s)\n   - Write a `summary` \n   - Optionally link to detailed evaluation documents via `evaluations` array (URIs or blobs)\n   - Show the complete code and expected response\n\n3. **Evaluation Patterns** — Common approaches:\n   - **Expert Review**: A domain expert evaluates a single claim in depth\n   - **Community Assessment**: Multiple community members each create lightweight evaluations\n   - **Automated Evaluation**: An AI or automated system creates evaluations based on data analysis\n   - For each pattern, show a brief code snippet or JSON example\n\n4. **Linking Measurements to Evaluations** — How measurements support evaluations:\n   - Measurements (`org.hypercerts.claim.measurement`) provide quantitative data\n   - Evaluations can reference measurements as supporting evidence\n   - Show how an evaluator might create measurements first, then reference them in their evaluation\n\n5. **Querying Evaluations** — How to find evaluations for a given hypercert:\n   - Explain that indexers aggregate evaluations across PDS instances\n   - Show a conceptual query: \"find all evaluations where subject references this activity claim\"\n   - Note that the specific query API depends on the indexer implementation\n\n6. **Trust and Reputation** — How evaluations build trust:\n   - Evaluator identity is tied to their DID\n   - Over time, evaluators build a track record\n   - Platforms can weight evaluations based on evaluator reputation\n   - This creates incentives for high-quality, honest evaluations\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add under the Tutorials section:\n\n```javascript\n{ title: 'Working with Evaluations', path: '/tutorials/working-with-evaluations' },\n```\n\n## Writing style\n- Tutorial style with conceptual depth\n- Use `##` for main sections, `####` for subsections\n- Use fenced code blocks with ```typescript for code, ```json for data\n- Reference the evaluation lexicon page: link to `/lexicons/hypercerts-lexicons/evaluation`\n- Use `{% callout %}` for important conceptual points\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields not in the existing evaluation/measurement lexicon docs.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:21.622368+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:51:21.622368+13:00","dependencies":[{"issue_id":"docs-urb.3","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:51:21.623548+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-uxs","title":"Epic: Testing, Security \u0026 Operations","status":"open","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:53.388787+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:47:53.388787+13:00"}
{"id":"docs-uxs.1","title":"Write 'Testing \u0026 Security' page","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe has dedicated \"Testing\" and \"Security\" pages. Hypercerts has neither. This single page covers both since the protocol is earlier-stage than Stripe.\n\n## Files\n- documentation/pages/reference/testing-and-security.md (create)\n- documentation/lib/navigation.js (modify — add entry under Reference section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/testing-and-security.md` (120–170 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Testing \u0026 Security\ndescription: How to test your integration and understand the security model.\n---\n```\n\n**Sections:**\n\n1. **Testing Your Integration** (~50 lines)\n   - **Local Development**: How to run a local PDS for testing (link to ATProto docs for self-hosting). Use `{% callout %}` to note this is the recommended approach.\n   - **Test Identities**: Create throwaway DIDs for testing. Do not use production identities.\n   - **Sandbox Pattern**: Create test activity claims with a workScope tag like \"test\" so they are easily identifiable and can be cleaned up.\n   - **Verifying Records**: Show a TypeScript snippet that reads back a record by AT URI using `com.atproto.repo.getRecord` and asserts the fields match expectations.\n   - **Cleanup**: How to delete test records using `com.atproto.repo.deleteRecord`.\n\n2. **Security Model** (~40 lines)\n   - **Signed Repositories**: Every PDS repository is a signed Merkle tree. Records are tamper-evident.\n   - **Strong References**: References include a CID (content hash), so you can verify the referenced record has not changed.\n   - **Identity Verification**: DIDs are cryptographically verifiable. Handles can be verified via DNS (did:web) or PLC directory (did:plc).\n   - **Data Integrity**: How the combination of signed repos + CID references creates an auditable chain of claims and evaluations.\n\n3. **Authentication Best Practices** (~30 lines)\n   - Use app passwords, never main passwords, in code\n   - Rotate app passwords regularly\n   - Store credentials in environment variables, never in source code\n   - Use `{% callout type=\"warning\" %}` for the credential storage warning\n   - OAuth for production applications (brief mention, link to ATProto OAuth docs)\n\n4. **Privacy Considerations** (~20 lines)\n   - All ATProto records are public by default — do not store sensitive personal data in hypercert records\n   - What to include vs. what to keep off-protocol\n   - GDPR considerations: right to deletion exists (records can be deleted from PDS), but cached copies may persist in indexers\n   - Use `{% callout type=\"warning\" %}` for the \"records are public\" warning\n\n5. **Going Live Checklist** (~15 lines) — Bulleted checklist:\n   - [ ] Verified your DID and handle are correct\n   - [ ] Tested record creation and reading in a sandbox\n   - [ ] Confirmed all required fields pass validation\n   - [ ] Stored credentials securely (env vars, not source)\n   - [ ] Reviewed records for accidental PII\n   - [ ] Tested cross-PDS references if applicable\n\n### 2. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Testing \u0026 Security', path: '/reference/testing-and-security' },\n```\nIf the Reference section does not yet exist, create it after Architecture.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent ATProto API methods that do not exist — `com.atproto.repo.getRecord`, `createRecord`, `deleteRecord` are real.","status":"open","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:53:28.975298+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:53:28.975298+13:00","dependencies":[{"issue_id":"docs-uxs.1","depends_on_id":"docs-uxs","type":"parent-child","created_at":"2026-02-14T20:53:28.976166+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-vbw","title":"Epic 2: Build Custom Markdoc Tags and React Components","description":"## Summary\nCreate custom Markdoc tag definitions and corresponding React components to replace all GitBook-proprietary syntax used in the documentation. These tags will be used when converting content files in later epics.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. The previous documentation was built with GitBook, which uses proprietary template tags. We need Markdoc equivalents.\n\nThe project uses `@markdoc/next.js` which automatically discovers tag definitions in `markdoc/tags/` and makes them available in `.md` files.\n\n### GitBook syntax that needs Markdoc replacements:\n\n1. **Columns layout** -- Used in `README.md` (2 column groups):\n```\n{% columns %}\n{% column %}\nContent here\n{% endcolumn %}\n{% column %}\nMore content\n{% endcolumn %}\n{% endcolumns %}\n```\n\n2. **Hint/callout boxes** -- Used in `deep-dive-the-work-scope.md` (1 instance):\n```\n{% hint style=\"info\" %}\nThis is an informational callout.\n{% endhint %}\n```\n\n3. **Figure/image with caption** -- Used in `README.md` (2 instances) and `introduction-to-impact-claims.md` (1 instance):\n```html\n\u003cfigure\u003e\u003cimg src=\".gitbook/assets/image.png\" alt=\"\"\u003e\u003cfigcaption\u003e\u003c/figcaption\u003e\u003c/figure\u003e\n```\n\n### How Markdoc tags work with @markdoc/next.js:\n\n1. Tag definitions go in `markdoc/tags/*.markdoc.js` -- these define the tag name, allowed attributes, and which React component to render\n2. React components go in `components/` -- these render the actual HTML\n3. `@markdoc/next.js` auto-discovers tag files in `markdoc/tags/` and wires them up\n4. Components are registered in `pages/_app.js` via a components mapping passed to the renderer\n\n## What You Need to Create\n\n### 1. Callout Tag\n\n**Tag definition** -- `markdoc/tags/callout.markdoc.js`:\n```js\nexport const callout = {\n  render: 'Callout',\n  children: ['paragraph', 'tag', 'list'],\n  attributes: {\n    type: {\n      type: String,\n      default: 'info',\n      matches: ['info', 'warning', 'danger', 'success'],\n      errorLevel: 'critical'\n    },\n    title: {\n      type: String\n    }\n  }\n};\n```\n\n**React component** -- `components/Callout.js`:\n\nVisual design (Stripe-inspired):\n- Container with a 4px left border in accent color\n- Light tinted background matching the type\n- Border-radius: 6px on the right side (or all corners)\n- Padding: 16px\n- Body text in regular weight, dark gray\n- If title provided, render it bold above the body\n\nColor mapping by type:\n- `info`: blue left border (#0570de), very light blue background (#f0f7ff)\n- `warning`: orange left border (#c84801), very light orange background (#fef9f0)\n- `danger`: red left border (#df1b41), very light red background (#fef0f4)\n- `success`: green left border (#228403), very light green background (#f0fef0)\n\nThe component should accept `type`, `title`, and `children` props.\n\n**Markdoc usage** (what content authors will write):\n```\n{% callout type=\"info\" %}\nThis is an informational callout.\n{% /callout %}\n```\n\n### 2. Columns / Column Tags\n\n**Tag definitions** -- `markdoc/tags/columns.markdoc.js`:\n```js\nexport const columns = {\n  render: 'Columns',\n  children: ['tag'],\n  attributes: {\n    gap: {\n      type: String,\n      default: '24px'\n    }\n  }\n};\n```\n\n`markdoc/tags/column.markdoc.js`:\n```js\nexport const column = {\n  render: 'Column',\n  children: ['paragraph', 'tag', 'list', 'heading', 'image', 'fence'],\n};\n```\n\n**React components**:\n\n`components/Columns.js`:\n- CSS flexbox container: `display: flex; gap: 24px;`\n- On mobile (\u003c 768px): `flex-direction: column` (stack vertically)\n- On desktop: `flex-direction: row` (side by side)\n\n`components/Column.js`:\n- `flex: 1` (equal width columns)\n- Renders children directly\n\n**Markdoc usage**:\n```\n{% columns %}\n{% column %}\nLeft content\n{% /column %}\n{% column %}\nRight content\n{% /column %}\n{% /columns %}\n```\n\n### 3. Figure Tag\n\n**Tag definition** -- `markdoc/tags/figure.markdoc.js`:\n```js\nexport const figure = {\n  render: 'Figure',\n  selfClosing: true,\n  attributes: {\n    src: { type: String, required: true },\n    alt: { type: String, default: '' },\n    caption: { type: String }\n  }\n};\n```\n\n**React component** -- `components/Figure.js`:\n\nVisual design:\n- Centered container (`text-align: center; margin: 24px 0`)\n- Image with `max-width: 100%; height: auto; border-radius: 6px`\n- Caption (if provided) rendered below in small text (13px), secondary gray color (#687385), margin-top: 8px\n\n**Markdoc usage**:\n```\n{% figure src=\"/images/hypercert-erd.png\" alt=\"Hypercert ERD\" caption=\"Entity relationship diagram\" /%}\n```\n\n### 4. Export all tags -- `markdoc/tags/index.js`:\n```js\nexport { callout } from './callout.markdoc';\nexport { columns } from './columns.markdoc';\nexport { column } from './column.markdoc';\nexport { figure } from './figure.markdoc';\n```\n\n### 5. Register components in `pages/_app.js`:\nUpdate the existing `_app.js` to pass components:\n```jsx\nimport '../styles/globals.css';\nimport { Callout } from '../components/Callout';\nimport { Columns } from '../components/Columns';\nimport { Column } from '../components/Column';\nimport { Figure } from '../components/Figure';\n\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n};\n\nexport default function App({ Component, pageProps }) {\n  return \u003cComponent {...pageProps} components={components} /\u003e;\n}\n```\n\nNote: With `@markdoc/next.js`, components can also be passed via the Markdoc config. Check the @markdoc/next.js docs if the above pattern doesn't wire up correctly -- the alternative is to use a `markdoc/config.js` file.\n\n### 6. Verify\nCreate a test page `pages/test-tags.md` with all three tags to verify they render:\n```markdown\n---\ntitle: Tag Test\n---\n\n# Tag Test\n\n{% callout type=\"info\" %}\nThis is an info callout.\n{% /callout %}\n\n{% callout type=\"warning\" title=\"Warning\" %}\nThis is a warning.\n{% /callout %}\n\n{% columns %}\n{% column %}\n**Left column** with some content.\n{% /column %}\n{% column %}\n**Right column** with some content.\n{% /column %}\n{% /columns %}\n\n{% figure src=\"/images/hypercert-erd.png\" alt=\"Test image\" caption=\"A test caption\" /%}\n```\n\nRun `npm run dev` and verify all tags render correctly. Delete the test page after verification.\n\n## Acceptance Criteria\n- `markdoc/tags/callout.markdoc.js` exists with type attribute (info, warning, danger, success)\n- `components/Callout.js` renders a styled callout box with 4px colored left border and tinted background\n- `markdoc/tags/columns.markdoc.js` and `markdoc/tags/column.markdoc.js` exist\n- `components/Columns.js` renders a CSS flexbox multi-column layout that stacks on mobile\n- `components/Column.js` renders individual column content with flex: 1\n- `markdoc/tags/figure.markdoc.js` exists as a self-closing tag with src, alt, caption attributes\n- `components/Figure.js` renders a centered image with optional gray caption text\n- `markdoc/tags/index.js` exports all tags\n- Components are registered in `pages/_app.js` so Markdoc can render them\n- All tags render correctly when used in .md files via `npm run dev`\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:42:05.192802+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:04:51.759083+13:00","closed_at":"2026-02-14T13:04:51.759115+13:00","dependencies":[{"issue_id":"docs-vbw","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:42:05.194443+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-yne","title":"Epic 5: Styling and Visual Design","description":"## Summary\nCreate the complete CSS styling for the documentation site following a design language inspired by Stripe's documentation (docs.stripe.com). The goal is a clean, professional, content-focused documentation site that prioritizes readability and quiet confidence.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. By the time this epic runs:\n- Epic 1 has scaffolded the project with a minimal `styles/globals.css`\n- Epic 2 has created React components: Callout, Columns, Column, Figure\n- Epic 4 has created Layout, Sidebar, TableOfContents components\n\nAll these components need polished CSS. The styles go in `styles/globals.css` (or can be split into CSS modules if preferred).\n\n## Design Principles\n\nThe Stripe documentation design language follows these core principles:\n1. **Content is the interface** -- every visual decision makes content more scannable, never decorates\n2. **Mostly monochrome, with surgical color** -- the page is 95% grayscale; color appears only for links, callout indicators, and status badges\n3. **Generous but purposeful whitespace** -- everything breathes, nothing floats\n4. **Border, not shadow, for structure** -- 1px light gray borders define regions, not heavy shadows\n5. **Developer-first** -- code blocks are first-class citizens, typography is optimized for technical content\n\n## Typography\n\n### Font stacks\n```css\n--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n--font-mono: 'Source Code Pro', Menlo, Monaco, Consolas, monospace;\n```\nUse the system font stack. It loads instantly, feels native on every OS, and is what Stripe uses.\n\n### Font weights\n- Regular: 400 (body text, descriptions)\n- Semibold: 600 (section headers, emphasis, sidebar labels)\n- Bold: 700 (page titles, H1)\n\n### Type scale\n| Element | Size | Weight | Color | Line Height |\n|---------|------|--------|-------|-------------|\n| H1 | 32px | 700 | #21252c (near-black) | 1.25 |\n| H2 | 24px | 700 | #353a44 (dark charcoal) | 1.3 |\n| H3 | 20px | 600 | #353a44 | 1.4 |\n| H4 | 16px | 600 | #353a44 | 1.5 |\n| Body | 16px | 400 | #414552 (dark gray) | 1.65 |\n| Small/Caption | 13px | 400 | #687385 (medium gray) | 1.5 |\n| Code (inline) | 14px | 400 | #414552 | inherit |\n| Code (block) | 14px | 400 | #414552 | 1.55 |\n\n### Anti-aliasing\n```css\nbody {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n```\n\n## Color Palette\n\n### Neutrals (the workhorse -- 95% of the page)\n| Token | Value | Usage |\n|-------|-------|-------|\n| --color-bg | #ffffff | Page background, content area |\n| --color-bg-subtle | #f6f8fa | Code block backgrounds, sidebar hover, cards |\n| --color-border | #ebeef1 | Section dividers, sidebar border, card borders |\n| --color-border-strong | #d8dee4 | Table header bottom border, input borders |\n| --color-text-secondary | #687385 | Descriptions, metadata, TOC items, captions |\n| --color-text-primary | #414552 | Body text |\n| --color-text-heading | #353a44 | Headings (H2-H4) |\n| --color-text-title | #21252c | H1 page titles |\n\n### Accent colors (used sparingly -- only for interactive elements and semantic indicators)\n| Token | Value | Usage |\n|-------|-------|-------|\n| --color-link | #0570de | Hyperlinks, interactive text |\n| --color-link-hover | #0055bc | Link hover state (slightly darker) |\n| --color-info | #0570de | Info callout border |\n| --color-info-bg | #f0f7ff | Info callout background |\n| --color-warning | #c84801 | Warning callout border |\n| --color-warning-bg | #fef9f0 | Warning callout background |\n| --color-danger | #df1b41 | Danger callout border |\n| --color-danger-bg | #fef0f4 | Danger callout background |\n| --color-success | #228403 | Success callout border |\n| --color-success-bg | #f0fef0 | Success callout background |\n\n### Focus ring\n```css\n--focus-ring: 0 0 0 4px rgba(5, 112, 222, 0.36);\n```\n\n## Spacing System\n\nUse an 8px base grid. All spacing should be multiples of 8 (with 4px for tight spaces):\n```css\n--space-1: 4px;\n--space-2: 8px;\n--space-3: 12px;\n--space-4: 16px;\n--space-5: 20px;\n--space-6: 24px;\n--space-8: 32px;\n--space-10: 40px;\n--space-12: 48px;\n--space-16: 64px;\n```\n\n### Application:\n- Between paragraphs: 16px\n- Between heading and its first paragraph: 8-12px (tight coupling)\n- Before a new H2 section: 48px (creates visible section breaks)\n- Sidebar item vertical spacing: 4-6px between items, 20-24px between section groups\n- Content area horizontal padding: 32px on each side\n- Content area top padding: 32px below header\n\n## Component Styles\n\n### Layout\n```\nHeader: height 56px, white background, bottom border 1px solid #ebeef1\nSidebar: width 240px, fixed/sticky, right border 1px solid #ebeef1, padding 16px\nContent: max-width 720px, centered, padding 32px\nRight TOC: width 200px, sticky top, padding-left 24px\n```\n\n### Sidebar\n- Section headers: 12px, font-weight 600, color #687385, text-transform uppercase, letter-spacing 0.05em, margin-bottom 8px\n- Nav items: 14px, color #414552, padding 6px 12px, border-radius 6px\n- Active nav item: font-weight 600, background-color #f6f8fa, color #21252c\n- Hover nav item: background-color #f6f8fa\n- Nested items: padding-left +16px\n\n### Table of Contents (right side)\n- Title \"On this page\": 12px, font-weight 600, color #687385, uppercase\n- Items: 13px, color #687385, padding 4px 0\n- Active item: color #0570de (link blue)\n- Left border indicator: 2px solid #0570de on active item (optional)\n\n### Callout boxes (from Epic 2 components)\n```css\n.callout {\n  border-left: 4px solid var(--callout-color);\n  background: var(--callout-bg);\n  border-radius: 0 6px 6px 0;\n  padding: 16px;\n  margin: 16px 0;\n}\n.callout-title {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n```\n\n### Columns layout (from Epic 2 components)\n```css\n.columns {\n  display: flex;\n  gap: 24px;\n  margin: 16px 0;\n}\n.column {\n  flex: 1;\n  min-width: 0;\n}\n@media (max-width: 768px) {\n  .columns { flex-direction: column; }\n}\n```\n\n### Figure (from Epic 2 components)\n```css\n.figure {\n  text-align: center;\n  margin: 24px 0;\n}\n.figure img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 6px;\n}\n.figure-caption {\n  font-size: 13px;\n  color: #687385;\n  margin-top: 8px;\n}\n```\n\n### Tables\nStripe uses clean, borderless tables with only a header bottom border:\n```css\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 16px 0;\n  font-size: 14px;\n}\nth {\n  text-align: left;\n  font-weight: 600;\n  color: #353a44;\n  padding: 8px 12px;\n  border-bottom: 1px solid #d8dee4;\n}\ntd {\n  padding: 8px 12px;\n  color: #414552;\n  border-bottom: 1px solid #ebeef1;\n}\ntr:last-child td {\n  border-bottom: none;\n}\n```\nNo zebra striping. No outer borders. Clean and minimal.\n\n### Code blocks\n```css\npre {\n  background: #f6f8fa;\n  border-radius: 6px;\n  padding: 16px;\n  overflow-x: auto;\n  font-family: var(--font-mono);\n  font-size: 14px;\n  line-height: 1.55;\n  margin: 16px 0;\n  color: #414552;\n}\n```\nOptionally install `prism-react-renderer` for syntax highlighting. The current docs only have 2 JSON code blocks, but the SDK docs will grow. If adding syntax highlighting, use a light theme that matches the neutral palette.\n\n### Inline code\n```css\ncode {\n  background: #f6f8fa;\n  border-radius: 4px;\n  padding: 2px 6px;\n  font-family: var(--font-mono);\n  font-size: 0.875em; /* slightly smaller than surrounding text */\n}\n/* Don't style code inside pre blocks */\npre code {\n  background: none;\n  border-radius: 0;\n  padding: 0;\n  font-size: inherit;\n}\n```\n\n### Links\n```css\na {\n  color: #0570de;\n  text-decoration: none;\n}\na:hover {\n  color: #0055bc;\n  text-decoration: underline;\n}\n```\n\n### Headings\n```css\nh1 { font-size: 32px; font-weight: 700; color: #21252c; margin-top: 0; margin-bottom: 16px; line-height: 1.25; }\nh2 { font-size: 24px; font-weight: 700; color: #353a44; margin-top: 48px; margin-bottom: 12px; line-height: 1.3; }\nh3 { font-size: 20px; font-weight: 600; color: #353a44; margin-top: 32px; margin-bottom: 8px; line-height: 1.4; }\nh4 { font-size: 16px; font-weight: 600; color: #353a44; margin-top: 24px; margin-bottom: 8px; line-height: 1.5; }\n```\n\nNote: `h2` has 48px top margin to create strong visual section breaks (the largest gaps on the page). This is a key Stripe pattern.\n\n### Pagination (prev/next)\n```css\n.pagination {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 48px;\n  padding-top: 24px;\n  border-top: 1px solid #ebeef1;\n}\n.pagination a {\n  color: #0570de;\n  font-weight: 500;\n}\n```\n\n### Lists\n```css\nul, ol {\n  padding-left: 24px;\n  margin: 12px 0;\n}\nli {\n  margin: 6px 0;\n  line-height: 1.65;\n}\nli \u003e p { margin: 0; }\n```\n\n### Blockquotes\n```css\nblockquote {\n  border-left: 4px solid #ebeef1;\n  padding: 0 16px;\n  margin: 16px 0;\n  color: #687385;\n}\n```\n\n### Horizontal rules\n```css\nhr {\n  border: none;\n  border-top: 1px solid #ebeef1;\n  margin: 32px 0;\n}\n```\n\n## Responsive Breakpoints\n```css\n/* Mobile: \u003c 768px - sidebar and TOC hidden, content full width */\n/* Tablet: 768px - 1040px - sidebar visible, TOC hidden */\n/* Desktop: \u003e 1040px - full three-column layout */\n```\n\nOn mobile:\n- Sidebar hidden behind hamburger menu\n- Right TOC hidden entirely\n- Content goes full-width with 16px horizontal padding\n- Tables get `overflow-x: auto` wrapper\n\n## Shadow System\nShadows are used very sparingly -- almost never on the docs site:\n- Most elements: no shadow (flat)\n- Card hover: `0px 2px 5px rgba(48, 49, 61, 0.08)` (barely perceptible)\n- Dropdown/overlay: `0px 5px 15px rgba(0, 0, 0, 0.12), 0px 15px 35px rgba(48, 49, 61, 0.08)`\n\n## Border Radius\n- Inline code: 4px\n- Code blocks, callouts, cards: 6px\n- Buttons, tags, pills: 6px or rounded (9999em for pill shape)\n\n## Acceptance Criteria\n- All CSS is in `styles/globals.css` (or organized into CSS modules)\n- CSS custom properties are defined for colors, fonts, and spacing\n- System font stack is used (no custom font downloads)\n- Anti-aliased text rendering is enabled\n- All headings (H1-H4) follow the type scale with proper size, weight, color, and spacing\n- Body text is 16px, dark gray (#414552), line-height 1.65\n- Links are blue (#0570de), darken on hover, no underline by default\n- Tables are clean: no outer borders, header has bottom border only, proper padding\n- Code blocks have light gray background, rounded corners, monospace font\n- Inline code has subtle gray background pill\n- Callout boxes have colored left border and tinted background per type\n- Columns stack on mobile, flex row on desktop\n- Layout uses three columns on desktop (sidebar 240px, content ~720px, TOC ~200px)\n- Sidebar has 1px right border, section headers in uppercase small text\n- Active nav item has bold text and subtle background\n- Right TOC has scroll spy highlighting in blue\n- Responsive: sidebar/TOC collapse below 768px/1040px breakpoints\n- Pagination has top border separator and blue link text\n- The overall feel is clean, white, professional, content-focused -- no decorative elements, no gradients, no heavy shadows\n- The page looks like it could belong to the same family as docs.stripe.com\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:43:24.486687+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:18:01.287139+13:00","closed_at":"2026-02-14T13:18:01.287141+13:00","dependencies":[{"issue_id":"docs-yne","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:43:24.48892+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-yne","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:43:24.490264+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-yne","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:43:24.491023+13:00","created_by":"Sharfy Adamantine"}]}
