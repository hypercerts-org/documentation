{"id":"docs-150","title":"Epic: Stripe Design Parity — 25 findings from review","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T22:23:16.261796+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T22:32:26.03+13:00","closed_at":"2026-02-14T22:32:26.03+13:00","close_reason":"All 3 tasks complete (TOC H2+H3, sidebar chevron, 36 CSS changes). 25/25 acceptance checks pass. Build succeeds."}
{"id":"docs-150.1","title":"TOC: support H2+H3 headings with indentation, hide if \u003c2 headings","description":"## Files\n- documentation/components/TableOfContents.js (modify)\n\n## What to do\nTwo changes to the TableOfContents component:\n\n### 1. Extract H2 AND H3 headings (not just H2)\nChange line 14 from `querySelectorAll(\"h2\")` to `querySelectorAll(\"h2, h3\")`. Add a `level` property to each item based on the tag name.\n\n### 2. Hide TOC when fewer than 2 headings\nChange the render guard from `headings.length === 0` to `headings.length \u003c 2`.\n\n### 3. Render H3 items with indentation\nAdd a `data-level` attribute or CSS class to distinguish H3 links from H2 links.\n\nReplace the entire file with:\n\n```js\nimport { useState, useEffect, useRef } from \"react\";\nimport { useRouter } from \"next/router\";\n\nexport function TableOfContents() {\n  const [headings, setHeadings] = useState([]);\n  const [activeId, setActiveId] = useState(\"\");\n  const observerRef = useRef(null);\n  const router = useRouter();\n  const currentPath = router.asPath.split(\"#\")[0].split(\"?\")[0];\n\n  // Extract H2 and H3 headings from the DOM after render\n  useEffect(() =\u003e {\n    if (typeof window === \"undefined\") return;\n    const article = document.querySelector(\".layout-content article\");\n    if (!article) {\n      setHeadings([]);\n      return;\n    }\n\n    const elements = article.querySelectorAll(\"h2, h3\");\n    const items = Array.from(elements).map((el) =\u003e {\n      if (!el.id) {\n        el.id = el.textContent\n          .toLowerCase()\n          .replace(/[^a-z0-9]+/g, \"-\")\n          .replace(/(^-|-$)/g, \"\");\n      }\n      return {\n        id: el.id,\n        text: el.textContent,\n        level: el.tagName === \"H3\" ? 3 : 2,\n      };\n    });\n    setHeadings(items);\n    setActiveId(\"\");\n  }, [currentPath]);\n\n  // Scroll spy using IntersectionObserver\n  useEffect(() =\u003e {\n    if (headings.length === 0) return;\n\n    if (observerRef.current) {\n      observerRef.current.disconnect();\n    }\n\n    const callback = (entries) =\u003e {\n      const visibleEntries = entries.filter((e) =\u003e e.isIntersecting);\n      if (visibleEntries.length \u003e 0) {\n        setActiveId(visibleEntries[0].target.id);\n      }\n    };\n\n    observerRef.current = new IntersectionObserver(callback, {\n      rootMargin: \"-80px 0px -60% 0px\",\n      threshold: 0,\n    });\n\n    headings.forEach(({ id }) =\u003e {\n      const el = document.getElementById(id);\n      if (el) observerRef.current.observe(el);\n    });\n\n    return () =\u003e {\n      if (observerRef.current) {\n        observerRef.current.disconnect();\n        observerRef.current = null;\n      }\n    };\n  }, [headings]);\n\n  if (headings.length \u003c 2) return null;\n\n  return (\n    \u003cnav className=\"toc\" aria-label=\"Table of contents\"\u003e\n      \u003ch4 className=\"toc-title\"\u003eOn this page\u003c/h4\u003e\n      \u003cul className=\"toc-list\"\u003e\n        {headings.map(({ id, text, level }) =\u003e (\n          \u003cli key={id}\u003e\n            \u003ca\n              href={`#${id}`}\n              className={`toc-link${level === 3 ? \" toc-link-h3\" : \"\"}${\n                activeId === id ? \" toc-link-active\" : \"\"\n              }`}\n              onClick={(e) =\u003e {\n                e.preventDefault();\n                const target = document.getElementById(id);\n                if (target) {\n                  target.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n                  setActiveId(id);\n                  history.pushState(null, \"\", `#${id}`);\n                }\n              }}\n            \u003e\n              {text}\n            \u003c/a\u003e\n          \u003c/li\u003e\n        ))}\n      \u003c/ul\u003e\n    \u003c/nav\u003e\n  );\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/TableOfContents.js\\\", \\\"utf8\\\");\nconst hasH3 = src.includes(\\\"h2, h3\\\");\nconst hasLevel = src.includes(\\\"level\\\");\nconst hasMinThreshold = src.includes(\\\"headings.length \u003c 2\\\");\nconst hasH3Class = src.includes(\\\"toc-link-h3\\\");\nif (!hasH3) { console.error(\\\"FAIL: not extracting h3\\\"); process.exit(1); }\nif (!hasLevel) { console.error(\\\"FAIL: no level property\\\"); process.exit(1); }\nif (!hasMinThreshold) { console.error(\\\"FAIL: no min heading threshold\\\"); process.exit(1); }\nif (!hasH3Class) { console.error(\\\"FAIL: no toc-link-h3 class\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not change the scroll spy logic or IntersectionObserver options\n- Do not change the router dependency\n- Do not touch globals.css (CSS changes will be handled by a separate task)","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T22:23:43.762066+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T22:26:12.857638+13:00","closed_at":"2026-02-14T22:26:12.857638+13:00","close_reason":"d3a98d1 TOC supports H2+H3 headings with indentation, hides if \u003c2 headings","dependencies":[{"issue_id":"docs-150.1","depends_on_id":"docs-150","type":"parent-child","created_at":"2026-02-14T22:23:43.763409+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-150.2","title":"Sidebar: move chevron to left side, make inline, reduce size to 12px","description":"## Files\n- documentation/components/Sidebar.js (modify)\n\n## What to do\nStripe places the expand/collapse chevron to the LEFT of the link text, inline within the link element. Ours is a separate button on the right side. Also reduce chevron from 16x16 to 12x12 and change nesting indent from 16px increments to 12px.\n\nReplace the NavItem component (lines 18-89) with this version that puts the chevron inline before the text:\n\n```js\nfunction NavItem({ item, currentPath, depth = 0 }) {\n  const hasChildren = item.children \u0026\u0026 item.children.length \u003e 0;\n  const active = item.path \u0026\u0026 isActive(item.path, currentPath);\n  const childActive = hasChildren \u0026\u0026 isChildActive(item, currentPath);\n  const [expanded, setExpanded] = useState(childActive || active);\n\n  useEffect(() =\u003e {\n    if (childActive || active) {\n      setExpanded(true);\n    }\n  }, [childActive, active]);\n\n  const handleToggle = (e) =\u003e {\n    if (hasChildren) {\n      e.preventDefault();\n      setExpanded(!expanded);\n    }\n  };\n\n  const paddingLeft = `${12 + depth * 12}px`;\n\n  const chevron = hasChildren ? (\n    \u003csvg\n      className=\"sidebar-chevron\"\n      width=\"12\"\n      height=\"12\"\n      viewBox=\"0 0 16 16\"\n      fill=\"none\"\n      style={{\n        transform: expanded ? \"rotate(90deg)\" : \"rotate(0deg)\",\n        transition: \"transform 0.15s ease\",\n      }}\n    \u003e\n      \u003cpath\n        d=\"M6 4l4 4-4 4\"\n        stroke=\"currentColor\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      /\u003e\n    \u003c/svg\u003e\n  ) : null;\n\n  return (\n    \u003cli className=\"sidebar-nav-item\"\u003e\n      {item.path ? (\n        \u003cLink\n          href={item.path}\n          className={`sidebar-link${active ? \" sidebar-link-active\" : \"\"}${\n            childActive ? \" sidebar-link-parent-active\" : \"\"\n          }`}\n          style={{ paddingLeft }}\n          onClick={hasChildren \u0026\u0026 !item.path ? handleToggle : undefined}\n        \u003e\n          {chevron}\n          {item.title}\n        \u003c/Link\u003e\n      ) : (\n        \u003cspan\n          className={`sidebar-link sidebar-link-toggle${\n            childActive ? \" sidebar-link-parent-active\" : \"\"\n          }`}\n          style={{ paddingLeft }}\n          onClick={handleToggle}\n        \u003e\n          {chevron}\n          {item.title}\n        \u003c/span\u003e\n      )}\n      {hasChildren \u0026\u0026 expanded \u0026\u0026 (\n        \u003cul className=\"sidebar-nav-children\"\u003e\n          {item.children.map((child) =\u003e (\n            \u003cNavItem\n              key={child.path || child.title}\n              item={child}\n              currentPath={currentPath}\n              depth={depth + 1}\n            /\u003e\n          ))}\n        \u003c/ul\u003e\n      )}\n    \u003c/li\u003e\n  );\n}\n```\n\nKey changes:\n1. Removed the separate `.sidebar-nav-link-row` div wrapper\n2. Removed the separate `.sidebar-expand-btn` button\n3. Chevron SVG is now inline BEFORE the text inside the link/span\n4. Chevron is 12x12 (was 16x16)\n5. Indent is `12 + depth * 12` (was `16 + depth * 16`)\n6. Non-link parents with children get class `sidebar-link-toggle` and onClick to toggle\n7. Added `sidebar-chevron` class to the SVG for CSS styling\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/Sidebar.js\\\", \\\"utf8\\\");\nconst hasInlineChevron = src.includes(\\\"sidebar-chevron\\\");\nconst noExpandBtn = !src.includes(\\\"sidebar-expand-btn\\\");\nconst noLinkRow = !src.includes(\\\"sidebar-nav-link-row\\\");\nconst has12px = src.includes(\\\"12 + depth * 12\\\");\nconst has12x12 = src.includes(\\\"width=\\\\\\\"12\\\\\\\"\\\") \u0026\u0026 src.includes(\\\"height=\\\\\\\"12\\\\\\\"\\\");\nif (!hasInlineChevron) { console.error(\\\"FAIL: no sidebar-chevron class\\\"); process.exit(1); }\nif (!noExpandBtn) { console.error(\\\"FAIL: still has sidebar-expand-btn\\\"); process.exit(1); }\nif (!noLinkRow) { console.error(\\\"FAIL: still has sidebar-nav-link-row\\\"); process.exit(1); }\nif (!has12px) { console.error(\\\"FAIL: indent not 12px increments\\\"); process.exit(1); }\nif (!has12x12) { console.error(\\\"FAIL: chevron not 12x12\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not change NavSection or the Sidebar export function\n- Do not change the collapse button (sidebar-collapse-btn)\n- Do not touch globals.css (CSS handled separately)\n- Do not change the navigation data import","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T22:24:05.829993+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T22:27:45.00586+13:00","closed_at":"2026-02-14T22:27:45.00586+13:00","close_reason":"d3a98d1 - Sidebar chevron moved to left side, inline, 12px (implemented alongside docs-150.1)","dependencies":[{"issue_id":"docs-150.2","depends_on_id":"docs-150","type":"parent-child","created_at":"2026-02-14T22:24:05.831325+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-150.3","title":"Breadcrumbs: lighter separator color, wider spacing","description":"## Files\n- documentation/components/Breadcrumbs.js (modify)\n\n## What to do\nUpdate the breadcrumb separator color and spacing to match Stripe. Currently the separator uses a dark gray; Stripe uses a lighter gray with more spacing.\n\nRead the current Breadcrumbs.js file first. Find the separator span element and update:\n1. The separator character should remain \"/\" \n2. No changes needed in the JS — the color/spacing changes are CSS-only\n\nActually, this task requires NO JS changes. The separator styling is in globals.css. Cancel this task — the CSS mega-task will handle it.\n\n## Test\nN/A — this task should be cancelled\n\n## Dont\nN/A","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T22:24:15.360221+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T22:24:21.845024+13:00","closed_at":"2026-02-14T22:24:21.845027+13:00","dependencies":[{"issue_id":"docs-150.3","depends_on_id":"docs-150","type":"parent-child","created_at":"2026-02-14T22:24:15.361244+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-150.4","title":"Mega CSS: all 25 Stripe parity fixes in globals.css","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nApply ALL of the following CSS changes to globals.css. Each change is numbered and references the current line. Read the file first to confirm line numbers, then apply all changes.\n\n### Design Token Changes (in :root block, lines 72-136)\n\n1. **Unify heading colors** — Change line 87 `--color-text-heading: #353a44` to `--color-text-heading: #1a1b25` and line 88 `--color-text-title: #21252c` to `--color-text-title: #1a1b25`\n\n2. **Content max-width** — Change line 110 `--content-max-width: 800px` to `--content-max-width: 880px`\n\n3. **TOC width** — Change line 109 `--toc-width: 200px` to `--toc-width: 250px`\n\n### Add responsive sidebar width (after the :root closing brace, ~line 136)\n\n4. **Sidebar responsive** — Add after the `:root` block:\n```css\n@media (min-width: 1400px) {\n  :root {\n    --sidebar-width: 280px;\n  }\n}\n```\n\n### Header Changes (lines 175-221)\n\n5. **Header background** — Change line 181 from `background: rgba(255, 255, 255, 0.95)` to `background: #f6f8fa`. Remove lines 182-183 (`backdrop-filter` and `-webkit-backdrop-filter`).\n\n6. **Logo font-size** — Change line 196 `font-size: 15px` to `font-size: 16px`\n\n### Breadcrumb Changes (lines 223-268)\n\n7. **Breadcrumb font-size** — Change line 235 `font-size: 13px` to `font-size: 14px`\n\n8. **Breadcrumb separator** — Change line 245 `margin: 0 6px` to `margin: 0 8px`. Change line 246 `color: var(--color-text-secondary)` to `color: #a3acba`\n\n### Sidebar Changes (lines 275-439)\n\n9. **Sidebar content padding** — Change line 304 `padding: var(--space-6) 0` to `padding: var(--space-3) 0`\n\n10. **Sidebar section spacing** — Change line 350 `margin-top: var(--space-5)` to `margin-top: var(--space-4)` and line 351 `padding-top: var(--space-5)` to `padding-top: var(--space-4)`\n\n11. **Sidebar section header** — Change the `.sidebar-section-header` rule (lines 362-369):\n```css\n.sidebar-section-header {\n  font-size: 12px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.05em;\n  color: var(--color-text-secondary);\n  padding: var(--space-1) var(--space-4);\n  margin-bottom: var(--space-2);\n}\n```\n\n12. **Sidebar link density** — In `.sidebar-link` (lines 384-395), change `padding: 6px var(--space-3)` to `padding: 4px var(--space-2)` and change `border-radius: var(--radius-md)` to `border-radius: var(--radius-sm)`\n\n13. **Remove old sidebar-nav-link-row and sidebar-expand-btn rules** — Delete the `.sidebar-nav-link-row` rule (lines 379-382) and the `.sidebar-expand-btn` rules (lines 420-435). These are no longer used since the chevron is now inline.\n\n14. **Add sidebar-chevron styling** — Add after the `.sidebar-link` rules:\n```css\n.sidebar-chevron {\n  flex-shrink: 0;\n  margin-right: 4px;\n  color: var(--color-text-secondary);\n}\n```\n\n15. **Add sidebar-link-toggle** — Add:\n```css\n.sidebar-link-toggle {\n  cursor: pointer;\n}\n```\n\n16. **Sidebar link needs flex for inline chevron** — Add `display: flex; align-items: center;` to `.sidebar-link` (it currently has `display: block`). Change `display: block` to `display: flex` and add `align-items: center;`\n\n17. **Sidebar active link** — Change `.sidebar-link-active` (lines 403-407):\n```css\n.sidebar-link-active {\n  color: var(--color-link);\n  font-weight: 500;\n  background: none;\n  border-left: 2px solid var(--color-link);\n  margin-left: -2px;\n}\n```\n\n18. **Sidebar parent-of-active** — Change `.sidebar-link-parent-active` (lines 415-418):\n```css\n.sidebar-link-parent-active {\n  font-weight: 500;\n  color: var(--color-text-primary);\n}\n```\n\n### Content Area Changes (lines 441-451)\n\n19. **Content padding** — Change line 446 `padding: var(--space-10) var(--space-12)` to `padding: var(--space-8) var(--space-10)` (32px top, 40px sides)\n\n### TOC Changes (lines 453-502)\n\n20. **TOC link font-size** — Change line 484 `font-size: 13px` to `font-size: 14px`\n\n21. **TOC link spacing** — Change line 483 `padding: var(--space-1) 0` to `padding: var(--space-2) 0`\n\n22. **TOC title margin** — Change line 474 `margin-bottom: var(--space-2)` to `margin-bottom: var(--space-4)`\n\n23. **Add TOC H3 indentation** — Add after the `.toc-link-active` rule:\n```css\n.toc-link-h3 {\n  padding-left: 22px;\n  font-size: 13px;\n}\n```\n\n24. **TOC responsive breakpoint** — Change line 878 `@media (max-width: 1100px)` to `@media (max-width: 1200px)`\n\n### Typography Changes (lines 556-705)\n\n25. **H1** — Remove `letter-spacing: -0.02em` from `.layout-content h1` (line 564)\n\n26. **H2** — Change `.layout-content h2` (lines 567-574): `font-size: 24px`, `line-height: 32px` (was 20px / 28px)\n\n27. **H3** — Change `.layout-content h3` (lines 576-583): `font-size: 16px`, `font-weight: 700` (was 18px / 600)\n\n28. **Paragraph spacing** — Change line 633 `margin-bottom: var(--space-4)` to `margin-bottom: var(--space-3)` (12px)\n\n29. **Bold text** — Change line 598 `font-weight: 600` to `font-weight: 700`\n\n30. **Inline code border** — In the inline code rule (lines 689-696), add `border: 1px solid var(--color-border)` and change `padding: 2px 6px` to `padding: 1px 4px`\n\n31. **Code blocks dark theme** — Change `.layout-content pre` (lines 671-681):\n```css\n.layout-content pre {\n  background: #0a2540;\n  padding: var(--space-4);\n  border-radius: var(--radius-sm);\n  overflow-x: auto;\n  margin-bottom: var(--space-4);\n  font-family: var(--font-mono);\n  font-size: 13px;\n  line-height: 19px;\n  color: #f5fbff;\n}\n```\n\n32. **Code block scrollbar** — Update the code block scrollbar thumb colors (lines 47-54) to work on dark background: change `rgba(0, 0, 0, 0.12)` to `rgba(255, 255, 255, 0.15)` and `rgba(0, 0, 0, 0.2)` to `rgba(255, 255, 255, 0.25)`. Also update the Firefox scrollbar-color on line 70 from `rgba(0, 0, 0, 0.12)` to `rgba(255, 255, 255, 0.15)`.\n\n33. **Blockquote** — Change `.layout-content blockquote` (lines 733-738): `border-left: 1px solid #c0c8d2` (was 4px solid var(--color-border)), `padding: 5px 0 5px 10px` (was 0 16px), add `font-size: 14px; line-height: 20px`\n\n34. **Table headers** — In `.layout-content th` (lines 714-720), add `text-transform: uppercase; font-size: 13px; letter-spacing: 0.03em`\n\n35. **Scrollbar gutter** — Add `scrollbar-gutter: stable;` to `.sidebar-content` (around line 303)\n\n### Link styling\n\n36. **Content links** — Change `.layout-content a` (lines 657-662): remove `border-bottom: 1px solid transparent` and add `text-decoration: underline; text-underline-offset: 2px; text-decoration-color: rgba(5, 112, 222, 0.4)`. Change `.layout-content a:hover` (lines 664-668): remove `border-bottom-color` line, change to `text-decoration-color: var(--color-link-hover)`\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst checks = [\n  [css.includes(\\\"--color-text-heading: #1a1b25\\\"), \\\"heading color unified\\\"],\n  [css.includes(\\\"--color-text-title: #1a1b25\\\"), \\\"title color unified\\\"],\n  [css.includes(\\\"--content-max-width: 880px\\\"), \\\"content max-width 880\\\"],\n  [css.includes(\\\"--toc-width: 250px\\\"), \\\"toc width 250\\\"],\n  [css.includes(\\\"min-width: 1400px\\\"), \\\"responsive sidebar\\\"],\n  [css.includes(\\\"background: #f6f8fa\\\") || css.includes(\\\"background:#f6f8fa\\\"), \\\"header solid bg\\\"],\n  [css.includes(\\\"background: #0a2540\\\"), \\\"dark code blocks\\\"],\n  [css.includes(\\\"color: #f5fbff\\\"), \\\"light code text\\\"],\n  [css.includes(\\\"font-size: 13px\\\") \u0026\u0026 css.includes(\\\"line-height: 19px\\\"), \\\"code block sizing\\\"],\n  [css.includes(\\\"toc-link-h3\\\"), \\\"toc h3 class\\\"],\n  [css.includes(\\\"sidebar-chevron\\\"), \\\"sidebar chevron class\\\"],\n  [css.includes(\\\"font-weight: 500\\\") \u0026\u0026 css.includes(\\\"sidebar-link-active\\\"), \\\"active link weight 500\\\"],\n  [css.includes(\\\"border-left: 2px solid var(--color-link)\\\"), \\\"active left border\\\"],\n  [css.includes(\\\"text-underline-offset\\\"), \\\"link underline style\\\"],\n  [css.includes(\\\"scrollbar-gutter: stable\\\"), \\\"scrollbar gutter\\\"],\n  [css.includes(\\\"max-width: 1200px\\\"), \\\"toc breakpoint 1200\\\"],\n  [css.match(/\\\\.layout-content h2[^}]*font-size: 24px/s), \\\"h2 24px\\\"],\n  [css.match(/\\\\.layout-content h3[^}]*font-size: 16px/s), \\\"h3 16px\\\"],\n  [css.match(/\\\\.layout-content h3[^}]*font-weight: 700/s), \\\"h3 weight 700\\\"],\n];\nlet pass = true;\nfor (const [ok, name] of checks) {\n  if (!ok) { console.error(\\\"FAIL: \\\" + name); pass = false; }\n  else { console.log(\\\"PASS: \\\" + name); }\n}\nif (!pass) process.exit(1);\nconsole.log(\\\"\\\\nAll CSS checks passed.\\\");\n\"\n```\n\n## Dont\n- Do not modify any component JS files\n- Do not change the mobile responsive rules (keep mobile padding as-is)\n- Do not remove any CSS rules that are still referenced by components (check before deleting)\n- Do not change the design token variable names, only their values","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T22:25:14.346526+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T22:31:23.234686+13:00","closed_at":"2026-02-14T22:31:23.234686+13:00","close_reason":"2fda6b5 Applied all 36 CSS changes for Stripe design parity: unified heading colors, updated layout dimensions, improved sidebar/TOC styling, dark code blocks, enhanced typography, and responsive breakpoints","dependencies":[{"issue_id":"docs-150.4","depends_on_id":"docs-150","type":"parent-child","created_at":"2026-02-14T22:25:14.348237+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-1ho","title":"Epic: Adopt scaffold visual design language for docs site","description":"Migrate the documentation site's visual design (fonts, colors, radii, typography, header) to match the hypercerts-scaffold-atproto design language. The scaffold uses Syne for display/headings, Outfit for body text, Geist Mono for code, an OKLCH indigo-tinted neutral palette, 10px base radius, and a refined modern aesthetic. The docs site currently uses system fonts, hex colors (#0570de accent), plain CSS with 4-8px radii, and a light-grey header. This epic updates the CSS custom properties and font loading — it does NOT introduce Tailwind or shadcn. The docs site stays plain CSS. Success: the docs site visually reads as the same brand as the scaffold app.","status":"open","priority":1,"issue_type":"epic","owner":"einstein.climateai.org","created_at":"2026-02-20T18:19:37.842151+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:19:37.842151+08:00","labels":["scope:medium"]}
{"id":"docs-1ho.1","title":"Load Syne, Outfit, and Geist Mono fonts","description":"## Files\n- documentation/components/Layout.js (modify)\n- documentation/styles/globals.css (modify)\n\n## What to do\n\n### 1. Add Google Fonts in Layout.js \u003cHead\u003e\nAdd a `\u003clink\u003e` tag inside the existing `\u003cHead\u003e` block to load Syne (400;500;600;700;800), Outfit (300;400;500;600;700), and Geist Mono (400;500) from Google Fonts.\n\nUse this exact URL:\n```\nhttps://fonts.googleapis.com/css2?family=Syne:wght@400;500;600;700;800\u0026family=Outfit:ital,wght@0,300;0,400;0,500;0,600;0,700\u0026family=Geist+Mono:wght@400;500\u0026display=swap\n```\n\nAdd both a `\u003clink rel=\"preconnect\"\u003e` for `fonts.googleapis.com` and `fonts.gstatic.com`, plus the stylesheet link. Place them BEFORE the existing `\u003cmeta\u003e` tags inside `\u003cHead\u003e`.\n\n### 2. Update CSS custom properties in globals.css\nReplace the existing `--font-sans` and `--font-mono` custom properties in the `:root` block:\n\n```css\n--font-sans: 'Outfit', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,\n  Helvetica, Arial, sans-serif;\n--font-display: 'Syne', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n--font-mono: 'Geist Mono', 'Source Code Pro', SFMono-Regular, Menlo, Monaco,\n  Consolas, monospace;\n```\n\nNote: `--font-display` is a NEW custom property. Keep the system font fallbacks.\n\n### 3. Apply the display font to headings\nAdd these rules right after the existing `body { ... }` rule:\n\n```css\nh1, h2, h3, h4, h5, h6,\n.sidebar-section-header {\n  font-family: var(--font-display);\n}\n```\n\nThis single rule applies Syne to all headings and sidebar section headers.\n\n## Don't\n- Do NOT remove any existing CSS rules\n- Do NOT change any font sizes, weights, or colors in this task (that is a separate task)\n- Do NOT add next/font — this project uses the Pages Router, use \u003clink\u003e tags\n- Do NOT add fonts to _app.js — they go in Layout.js \u003cHead\u003e\n- Do NOT touch any files other than Layout.js and globals.css","acceptance_criteria":"1. Visiting the docs site shows Outfit for body text (inspect body element, computed font-family starts with Outfit)\n2. All headings (h1-h6) render in Syne (inspect any h2, computed font-family starts with Syne)\n3. Code blocks render in Geist Mono (inspect a \u003ccode\u003e element, computed font-family starts with Geist Mono)\n4. Sidebar section headers render in Syne\n5. The Google Fonts link tag exists in the rendered HTML \u003chead\u003e\n6. Preconnect links exist for fonts.googleapis.com and fonts.gstatic.com\n7. globals.css defines three font custom properties: --font-sans, --font-display, --font-mono\n8. `npm run build` in documentation/documentation/ succeeds without errors","status":"closed","priority":1,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":20,"created_at":"2026-02-20T18:19:58.309568+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:24:39.028803+08:00","closed_at":"2026-02-20T18:24:39.028803+08:00","close_reason":"db0ab3a Load Syne, Outfit, and Geist Mono fonts","labels":["scope:small"],"dependencies":[{"issue_id":"docs-1ho.1","depends_on_id":"docs-1ho","type":"parent-child","created_at":"2026-02-20T18:19:58.310671+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-1ho.2","title":"Migrate color palette to OKLCH indigo-tinted neutrals","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nReplace the hex color values in the `:root` CSS custom properties with OKLCH equivalents that match the scaffold's indigo-tinted neutral palette (hue ~260). This aligns the docs site with the scaffold's visual identity.\n\n### Replace these custom properties in `:root`:\n\n**Neutrals:**\n```css\n/* OLD → NEW */\n--color-bg: #ffffff;            →  --color-bg: oklch(0.995 0.001 260);\n--color-bg-subtle: #f6f8fa;     →  --color-bg-subtle: oklch(0.96 0.005 260);\n--color-border: #ebeef1;        →  --color-border: oklch(0.91 0.005 260);\n--color-border-strong: #d8dee4; →  --color-border-strong: oklch(0.86 0.008 260);\n--color-text-primary: #414552;  →  --color-text-primary: oklch(0.40 0.015 260);\n--color-text-heading: #1a1b25;  →  --color-text-heading: oklch(0.20 0.01 260);\n--color-text-title: #1a1b25;    →  --color-text-title: oklch(0.16 0.005 260);\n--color-text-secondary: #687385;→  --color-text-secondary: oklch(0.55 0.01 260);\n--color-text-sidebar: #414552;  →  --color-text-sidebar: oklch(0.40 0.015 260);\n```\n\n**Accent / Links — keep the blue but express in OKLCH:**\n```css\n--color-link: #0570de;          →  --color-link: oklch(0.50 0.18 260);\n--color-link-hover: #0055bc;    →  --color-link-hover: oklch(0.43 0.19 260);\n--color-accent: #0570de;        →  --color-accent: oklch(0.50 0.18 260);\n```\n\n**Interaction colors (misc section):**\n```css\n--hover-bg: #f6f8fa;            →  --hover-bg: oklch(0.96 0.005 260);\n--active-bg: #f0f4ff;           →  --active-bg: oklch(0.95 0.015 260);\n--focus-ring: 0 0 0 4px rgba(5, 112, 222, 0.36);  →  --focus-ring: 0 0 0 4px oklch(0.50 0.18 260 / 0.36);\n```\n\n**Callout colors — keep the hues but express in OKLCH:**\n```css\n--color-info: #0570de;          →  --color-info: oklch(0.50 0.18 260);\n--color-info-bg: #f0f7ff;       →  --color-info-bg: oklch(0.96 0.02 260);\n--color-warning: #c84801;       →  --color-warning: oklch(0.55 0.17 55);\n--color-warning-bg: #fef9f0;    →  --color-warning-bg: oklch(0.97 0.02 80);\n--color-danger: #df1b41;        →  --color-danger: oklch(0.52 0.22 25);\n--color-danger-bg: #fef0f4;     →  --color-danger-bg: oklch(0.97 0.02 15);\n--color-success: #228403;       →  --color-success: oklch(0.52 0.17 145);\n--color-success-bg: #f0fef0;    →  --color-success-bg: oklch(0.97 0.03 145);\n```\n\n### Also update these hardcoded colors in other selectors:\n\n1. `.layout-header` background: change `#f6f8fa` → `oklch(0.985 0.002 260)` (scaffold's background tone for the header — near-white, matching the page body but with a faint warmth)\n\n2. `.breadcrumbs-separator` color: change `#a3acba` → `oklch(0.70 0.01 260)`\n\n3. `.layout-content blockquote` border-left color: change `#c0c8d2` → `oklch(0.80 0.01 260)`\n\n### DO NOT change these hardcoded colors (they are code-block-specific and should stay):\n- `#011627` (Night Owl background)\n- `#0d2137` (code block header)\n- `#1e3a5f` (code block border)\n- `#8899aa`, `#556677`, `#aabbcc` (code block UI elements)\n- Any `rgba(255, 255, 255, ...)` scrollbar colors inside code blocks\n\n## Don't\n- Do NOT change font families, font sizes, font weights, or spacing\n- Do NOT change the code block color scheme (Night Owl)\n- Do NOT touch Layout.js or any other files\n- Do NOT add dark mode (separate concern)\n- Do NOT change the LANGUAGE_META colors in CodeBlock.js\n- Do NOT add new CSS rules — only modify existing property values","acceptance_criteria":"1. All `:root` color custom properties use oklch() syntax (no hex values remain for tokens listed above)\n2. The page background is near-white with a faint blue tint (visually similar to before but not pure white)\n3. Links are still blue and visually similar to before\n4. Callout boxes still show 4 distinct colors (blue info, orange warning, red danger, green success)\n5. Code blocks are unchanged (Night Owl dark blue background preserved)\n6. Header background is updated to oklch value\n7. Breadcrumb separator and blockquote border use oklch values\n8. `npm run build` in documentation/documentation/ succeeds without errors\n9. The site loads correctly in Chrome 111+ and Safari 15.4+ (oklch browser support baseline)","status":"closed","priority":1,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":25,"created_at":"2026-02-20T18:20:31.538843+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:27:47.682078+08:00","closed_at":"2026-02-20T18:27:47.682078+08:00","close_reason":"6f5dd21 Migrate color palette to OKLCH indigo-tinted neutrals","labels":["scope:small"],"dependencies":[{"issue_id":"docs-1ho.2","depends_on_id":"docs-1ho","type":"parent-child","created_at":"2026-02-20T18:20:31.54053+08:00","created_by":"einstein.climateai.org"},{"issue_id":"docs-1ho.2","depends_on_id":"docs-1ho.1","type":"blocks","created_at":"2026-02-20T18:20:31.542591+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-1ho.3","title":"Update border radii and spacing to match scaffold","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nUpdate the border radius custom properties and a few spacing values to match the scaffold's more rounded, modern aesthetic.\n\n### 1. Update radius tokens in `:root`\n```css\n/* OLD → NEW */\n--radius-sm: 4px;   →  --radius-sm: 6px;\n--radius-md: 6px;   →  --radius-md: 8px;\n--radius-lg: 8px;   →  --radius-lg: 10px;\n```\n\nAlso add a new token after `--radius-lg`:\n```css\n--radius-xl: 14px;\n```\n\n### 2. Update the code block border-radius\nIn `.codeblock`, change:\n```css\nborder-radius: 8px;  →  border-radius: var(--radius-lg);\n```\n\nIn the fallback rule `.layout-content pre:not(.codeblock-pre)`, change:\n```css\nborder-radius: 8px;  →  border-radius: var(--radius-lg);\n```\n\n### 3. Update card-link border-radius\nIn `.card-link`, change:\n```css\nborder-radius: var(--radius-lg);\n```\nThis already uses the token — it will automatically pick up the new 10px value. No change needed.\n\n### 4. Update pagination-link border-radius\nIn `.pagination-link`, it already uses `var(--radius-lg)` — will pick up automatically.\n\n## Don't\n- Do NOT change any font, color, or typography properties\n- Do NOT change spacing tokens (--space-*) — they are fine as-is\n- Do NOT change the code block internal padding or header styling\n- Do NOT touch any files other than globals.css","acceptance_criteria":"1. --radius-sm is 6px, --radius-md is 8px, --radius-lg is 10px, --radius-xl is 14px in :root\n2. Code blocks have 10px border radius (inspect .codeblock element)\n3. Card links have 10px border radius\n4. Sidebar links have 8px border radius (--radius-md)\n5. Inline code still has rounded corners (uses --radius-sm = 6px now)\n6. `npm run build` succeeds without errors","status":"closed","priority":2,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":15,"created_at":"2026-02-20T18:20:48.238131+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:25:12.922188+08:00","closed_at":"2026-02-20T18:25:12.922188+08:00","close_reason":"8d7ef9e Update border radii and spacing to match scaffold","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-1ho.3","depends_on_id":"docs-1ho","type":"parent-child","created_at":"2026-02-20T18:20:48.239264+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-1ho.4","title":"Refine heading typography to match scaffold display style","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nUpdate heading styles to match the scaffold's Syne display typography conventions. The scaffold uses tighter letter-spacing and bolder heading hierarchy with Syne. These changes assume docs-1ho.1 (font loading) is already applied.\n\n### 1. Update `.layout-content h1`\nAdd `letter-spacing: -0.02em;` (tracking-tight in scaffold convention).\nKeep all other properties (font-size: 32px, font-weight: 700, etc.) unchanged.\n\n### 2. Update `.layout-content h2`\nAdd `letter-spacing: -0.01em;`.\nKeep all other properties unchanged.\n\n### 3. Update `.sidebar-section-header`\nChange from:\n```css\n.sidebar-section-header {\n  font-size: 14px;\n  font-weight: 600;\n  text-transform: uppercase;\n  color: var(--color-text-heading);\n  padding: var(--space-1) var(--space-5);\n  margin-bottom: var(--space-3);\n}\n```\nTo:\n```css\n.sidebar-section-header {\n  font-size: 11px;\n  font-weight: 700;\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  color: var(--color-text-secondary);\n  padding: var(--space-1) var(--space-5);\n  margin-bottom: var(--space-3);\n}\n```\n\nThis matches the scaffold's convention: sidebar section headers are smaller (11px), bolder (700), wider-tracked (0.08em), and use secondary color to feel like category labels rather than content headings.\n\n### 4. Update `.toc-title`\nChange `font-weight: 700` → `font-weight: 600` and add `font-family: var(--font-display);`\n\nThis gives the TOC \"On this page\" label the Syne display treatment.\n\n## Don't\n- Do NOT change font-size on h1, h2, h3, h4 (only add letter-spacing)\n- Do NOT change any colors (that is the colors task)\n- Do NOT change body text or paragraph styling\n- Do NOT touch any files other than globals.css","acceptance_criteria":"1. H1 has letter-spacing: -0.02em (inspect computed style)\n2. H2 has letter-spacing: -0.01em\n3. Sidebar section headers are 11px, font-weight 700, letter-spacing 0.08em, color is --color-text-secondary\n4. TOC title uses Syne (font-family: var(--font-display))\n5. No heading font sizes have changed from their current values\n6. `npm run build` succeeds without errors","status":"closed","priority":2,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":15,"created_at":"2026-02-20T18:21:05.00645+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:29:09.519173+08:00","closed_at":"2026-02-20T18:29:09.519173+08:00","close_reason":"6f5dd21 Refine heading typography to match scaffold display style","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-1ho.4","depends_on_id":"docs-1ho","type":"parent-child","created_at":"2026-02-20T18:21:05.008011+08:00","created_by":"einstein.climateai.org"},{"issue_id":"docs-1ho.4","depends_on_id":"docs-1ho.1","type":"blocks","created_at":"2026-02-20T18:21:05.009956+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-1ho.5","title":"Add antialiased rendering and body font-weight","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe scaffold uses `antialiased` font rendering and Outfit at weight 400 for body text. The docs site already has `-webkit-font-smoothing: antialiased` and `-moz-osx-font-smoothing: grayscale` on body — but Outfit renders slightly differently than system fonts at the default weight. Add `font-weight: 400;` explicitly to the `body` rule to ensure consistent rendering with Outfit.\n\n### 1. In the `body { ... }` rule, add:\n```css\nfont-weight: 400;\n```\nPlace it after `font-size: 16px;`.\n\n### 2. Update the existing `body` line-height from `1.65` to `1.6`\nThe scaffold uses tighter line-height with Outfit. Change:\n```css\nline-height: 1.65;  →  line-height: 1.6;\n```\n\n### 3. Update list item line-height to match\nIn `.layout-content article li`, change:\n```css\nline-height: 1.65;  →  line-height: 1.6;\n```\n\n## Don't\n- Do NOT change any font-family properties\n- Do NOT change any colors\n- Do NOT change heading styles\n- Do NOT touch any files other than globals.css","acceptance_criteria":"1. Body element has font-weight: 400 in computed styles\n2. Body element has line-height: 1.6\n3. List items have line-height: 1.6\n4. Text renders with antialiased smoothing (already present, verify not removed)\n5. `npm run build` succeeds without errors","status":"closed","priority":2,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":10,"created_at":"2026-02-20T18:21:19.242335+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:27:48.11089+08:00","closed_at":"2026-02-20T18:27:48.11089+08:00","close_reason":"6f5dd21 Add antialiased rendering and body font-weight","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-1ho.5","depends_on_id":"docs-1ho","type":"parent-child","created_at":"2026-02-20T18:21:19.243605+08:00","created_by":"einstein.climateai.org"},{"issue_id":"docs-1ho.5","depends_on_id":"docs-1ho.1","type":"blocks","created_at":"2026-02-20T18:21:19.245486+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-390","title":"Epic: Replace speculative blockchain/tokenization language with freeze-then-fund model across all docs","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:19:57.096114+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T19:52:57.976277+13:00","closed_at":"2026-02-16T19:52:57.976277+13:00","close_reason":"Closed"}
{"id":"docs-390.1","title":"Rewrite architecture/overview.md: replace blockchain ownership layer with freeze-then-fund model","description":"## Files\n- documentation/pages/architecture/overview.md (modify)\n\n## What to do\n\nUpdate all references to blockchain-based tokenization/ownership to reflect that:\n1. The tokenization layer has NOT been developed yet — it is TBD\n2. The theory and architecture are correct — freeze records, anchor on-chain, then fund\n3. The docs should present this as the intended design, not as something that exists today\n\nThe freeze-then-fund model:\n1. A hypercert starts as mutable ATProto records (activity claim + evidence + evaluations etc.)\n2. Before a hypercert can be funded, its ATProto records must be **frozen** — a snapshot of the current state is taken and anchored on-chain. This creates an immutable reference point.\n3. The reason: a funder must know exactly what they are funding. If the cert contents can still change after funding, the funder might end up paying for something different than what they signed up for.\n4. Once frozen and anchored on-chain, the hypercert can be listed for funding.\n5. Evaluations and evidence can still accumulate AFTER freezing — they are separate records that reference the frozen claim. But the core claim itself is immutable once frozen.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right and the architecture is sound\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame it as: \"the intended design is X\" or \"the planned approach is X\" — not as if it's live\n- Use phrases like \"the tokenization layer is not yet implemented\", \"this is the planned design\", \"the on-chain mechanisms are being designed\"\n- Keep the two-layer architecture (data layer + ownership/funding layer) — it's the right design\n- When describing how tokenization/funding WILL work, use future tense or \"planned\" language\n- The freeze-then-fund concept is the KEY insight to convey: you must freeze the cert before allowing funding\n\n### Specific changes needed:\n\n**Line 8:** Change \"combines AT Protocol for data portability with blockchain for ownership guarantees\" → something like \"combines AT Protocol for data portability with planned on-chain anchoring for ownership and funding guarantees.\" Make clear this is the design, not yet implemented.\n\n**Line 18 (Ownership Layer description):** Rewrite. The ownership layer is planned but not yet built. The intended design: frozen hypercert snapshots will be anchored on-chain so they can be funded. A hypercert cannot be funded while its contents are still changing — freezing ensures funders know exactly what they are paying for. Make clear this layer is TBD.\n\n**Lines 20-31 (stack diagram):** Update the bottom layer label. Add \"(planned)\" or similar to indicate it's not yet built.\n\n**Lines 63-81 (Ownership Layer Deep Dive):** Rewrite this section to describe the PLANNED design:\n- \"Anchoring\": Describe the planned approach — freezing the ATProto record state and anchoring the snapshot on-chain.\n- \"Tokenization\": Explain the planned approach — the specific on-chain mechanism (token standard, chain choice) is being designed. The concept: freeze the cert, anchor it, then enable funding.\n- \"Funding Mechanisms\": Keep the general concepts (direct purchase, retroactive funding, etc.) but frame as planned/intended, not implemented.\n- \"Multi-Chain Support\": Frame as intended design, not yet determined.\n\n**Lines 83-112 (How the Layers Connect):** Rewrite to describe the planned design:\n- The bridge will be: ATProto records are frozen, the snapshot CID is anchored on-chain, and funding operates against that frozen state.\n- Keep the cross-layer example but frame as \"how this will work\" not \"how this works.\"\n\n**Lines 114-136 (Key Design Decisions):**\n- \"Why Not Fully On-Chain?\" — Keep as-is, still valid.\n- \"Why Not Fully Off-Chain?\" — Rewrite to emphasize: without on-chain anchoring, there's no way to guarantee that what a funder pays for won't change. Freezing and anchoring provides the immutability guarantee.\n- \"Why This Separation?\" — Update to mention freeze-then-fund as the key planned mechanism.\n\n**Lines 138-148 (What This Enables):**\n- Frame enabled use cases as what the design WILL enable once the tokenization layer is built.\n\n### Key terminology:\n- Keep \"tokenization\" as a concept but mark as \"planned\" / \"not yet implemented\" / \"TBD\"\n- Use \"freeze\" / \"frozen\" / \"freezing\" to describe the new concept\n- Use future tense or \"planned\" language for anything on-chain\n- Keep \"funding\" language — the concept is real\n\n### Tone:\n- The architecture is sound, the theory is right\n- The tokenization layer just hasn't been built yet\n- Be clear about what exists (ATProto data layer) vs what's planned (on-chain ownership/funding layer)\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/architecture/overview.md \u0026\u0026 \\\ngrep -q 'freez' documentation/pages/architecture/overview.md \u0026\u0026 \\\ngrep -q 'funder.*know\\|know.*fund\\|change.*after\\|cannot.*funded.*changing\\|can.t.*funded.*chang\\|exactly what' documentation/pages/architecture/overview.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Remove the blockchain/tokenization concept entirely — the theory is right, keep it as the planned design\n- Present tokenization as if it's already implemented/live\n- Invent specific smart contract details or token standards that don't exist\n- Change the Data Layer section (lines 33-61) — that's accurate as-is\n- Change the \"Why ATProto Over IPFS\" section (126-130) — that's accurate","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:20:42.512677+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:32:03.352974+13:00","closed_at":"2026-02-16T12:32:03.352974+13:00","close_reason":"9055496 Rewrite architecture/overview.md to reflect freeze-then-fund model and planned tokenization layer","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-390.1","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:20:42.514231+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.2","title":"Rewrite architecture/data-flow-and-lifecycle.md: replace Stage 5 blockchain funding with freeze-then-fund","description":"## Files\n- documentation/pages/architecture/data-flow-and-lifecycle.md (modify)\n\n## What to do\n\nUpdate blockchain-centric language in the lifecycle doc. Key framing:\n1. The tokenization layer has NOT been developed yet — it is TBD\n2. The theory and architecture are correct — freeze records, anchor on-chain, then fund\n3. The docs should present this as the intended design, not as something that exists today\n\nThe freeze-then-fund model: before a hypercert can be funded, its ATProto records must be frozen (snapshotted and anchored on-chain). This protects funders — they need to know exactly what they're funding, and the cert contents must not change after funding.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right and the architecture is sound\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame it as: \"the intended design is X\" or \"the planned approach is X\" — not as if it's live\n- Use phrases like \"the tokenization layer is not yet implemented\", \"this is the planned design\", \"the on-chain mechanisms are being designed\"\n- When describing how tokenization/funding WILL work, use future tense or \"planned\" language\n- The freeze-then-fund concept is the KEY insight to convey\n\n### Specific changes:\n\n**Line 16 (Enrichment):** Change \"Rights records define what token holders receive\" → \"Rights records define what funders or stakeholders receive.\" (The concept of rights is correct, just don't assume tokens exist yet.)\n\n**Line 22 (Funding stage summary):** Rewrite. Current text presents tokenization as live. New text should describe the planned design: Before funding, the hypercert's ATProto records will be frozen — a cryptographic snapshot taken and anchored on-chain. This ensures funders know exactly what they are paying for. The cert's core content cannot change after freezing. The specific on-chain funding mechanisms are being designed.\n\n**Line 24 (Accumulation):** Update to reflect planned design. Evaluations and evidence continue accumulating around the frozen claim.\n\n**Line 29 (diagram):** Change \"Blockchain\" under Funding to \"On-chain (planned)\"\n\n**Line 69 (Rights records):** Change \"define what token holders receive\" → \"define what funders or stakeholders receive\"\n\n**Lines 146-181 (Stage 5: Funding \u0026 Ownership):** Rewrite this section to describe the PLANNED design:\n\n- **Anchoring:** Describe the planned approach — when a hypercert is ready for funding, its current ATProto state will be frozen. The snapshot CID is anchored on-chain. The reason: a funder must know exactly what they are funding.\n\n- **Tokenization → rename to \"Freezing and Immutability\":** Explain the planned concept. Once frozen, the core activity claim cannot be modified. Evidence and evaluations can still accumulate. The specific on-chain representation (token standard, contract design) is being designed. Note: the tokenization layer is not yet implemented, but the theory is sound.\n\n- **Funding Mechanisms:** Keep the general concepts but frame as planned. Various funding models are intended, including direct funding, retroactive funding, and impact certificates. The specific mechanisms are being designed.\n\n- **Multi-Chain Support:** Frame as intended design. The protocol plans to be chain-agnostic but specifics are TBD.\n\n- **Diagram:** Update to reflect planned state. Replace \"Token Contract\" / \"Token ID\" with planned equivalents like \"Frozen Snapshot\" / \"CID: bafyrei...\"\n\n**Lines 199-205 (Stage 6 - Ownership Transfers / Long-Term Value):**\n- Reframe around the planned design. The frozen on-chain anchor will persist independently. Remove language that presents token transfers as live. Frame as intended future behavior.\n\n**Line 212 (diagram):** Change \"Blockchain\" labels to \"On-chain (planned)\"\n\n### Key terminology:\n- Keep \"tokenization\" as a concept but mark as \"planned\" / \"not yet implemented\" / \"TBD\"\n- Use \"freeze\" / \"frozen\" / \"freezing\" to describe the new concept\n- \"funders\" instead of \"token holders\" where referring to people who fund\n- Use future tense or \"planned\" language for anything on-chain\n- Keep \"on-chain\" — blockchain IS the plan\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/architecture/data-flow-and-lifecycle.md \u0026\u0026 \\\ngrep -q 'freez' documentation/pages/architecture/data-flow-and-lifecycle.md \u0026\u0026 \\\ngrep -q 'cannot.*change\\|must not.*change\\|exactly what.*fund\\|know.*what.*pay\\|frozen' documentation/pages/architecture/data-flow-and-lifecycle.md \u0026\u0026 \\\n! grep -q 'token holder' documentation/pages/architecture/data-flow-and-lifecycle.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Remove the blockchain/tokenization concept entirely — the theory is right, keep it as the planned design\n- Present tokenization as if it's already implemented/live\n- Change Stages 1-4 (Creation, Enrichment, Evaluation, Discovery) unless they contain token holder language\n- Invent smart contract details\n- Change the Cross-PDS References section (lines 215-234) — that's accurate\n- Change the \"What This Flow Enables\" section (lines 236-246) unless it has token language","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:21:20.091221+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:31:55.410818+13:00","closed_at":"2026-02-16T12:31:55.410818+13:00","close_reason":"5d8ba48 Replace Stage 5 blockchain funding with freeze-then-fund model","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-390.2","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:21:20.092158+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.3","title":"Rewrite getting-started/the-hypercerts-infrastructure.md: replace blockchain ownership layer and integration patterns with freeze-then-fund","description":"## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n\n## What to do\n\nThis is the heaviest file — it has an entire \"ownership layer: blockchain\" section and 4 blockchain integration patterns. Update to reflect that the tokenization layer hasn't been developed yet but the theory is right.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right and the architecture is sound\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame it as: \"the intended design is X\" or \"the planned approach is X\" — not as if it's live\n- Use phrases like \"the tokenization layer is not yet implemented\", \"this is the planned design\", \"the on-chain mechanisms are being designed\"\n- Keep the two-layer architecture — it's the right design\n- The freeze-then-fund concept is the KEY insight: you must freeze the cert before allowing funding, because funders must know exactly what they're paying for\n\n### Core concept:\nBefore a hypercert can be funded, its ATProto records must be frozen — a snapshot is taken and anchored on-chain. This protects funders: they need to know exactly what they're paying for. If the cert contents could change after funding, a funder might end up paying for a different cert than what they committed to. The specific on-chain mechanisms (token standards, smart contracts, chain choices) are being designed.\n\n### Specific changes:\n\n**Line 7:** Change \"AT Protocol for data and blockchain for ownership\" → \"AT Protocol for data and planned on-chain anchoring for ownership and funding\"\n\n**Lines 19-23 (The ownership layer: blockchain):** Rewrite. Rename to something like \"The funding layer: on-chain anchoring (planned)\". Describe the intended design: when a hypercert is ready for funding, its ATProto records will be frozen and anchored on-chain. Explain WHY: funders must know exactly what they are paying for. Make clear this layer is not yet implemented but the theory is sound.\n\n**Lines 25-29 (How the layers connect):** Rewrite to describe the planned design. Keep the AT-URI example. Explain that when ready for funding, the claim's state will be frozen and its CID anchored on-chain. Note that a claim can exist on ATProto without ever being frozen for funding.\n\n**Lines 83-87 (Step 4: Ownership is anchored on-chain):** Rename to \"4. The hypercert is frozen and funded (planned)\". Describe the intended flow: Carol's funding app will freeze Alice's hypercert, anchor the snapshot on-chain, and Carol funds the frozen cert. Make clear this is the planned design. Alice's claim continues on ATProto with new evaluations referencing the frozen claim.\n\n**Lines 123-139 (Blockchain Integration Patterns):** Rewrite as \"Planned Funding Patterns\" or similar. Present as intended design patterns, not implemented features:\n- Pattern 1: Freeze-on-create — freeze immediately upon creation\n- Pattern 2: Freeze-when-ready — accumulate evidence first, freeze when ready for funding (expected default)\n- Pattern 3: Batch freezing — freeze multiple claims together periodically\n- Pattern 4: Partial freezing — freeze core claim while keeping some records mutable\nFor all patterns, note the tokenization layer is not yet implemented.\n\n**Lines 170-172 (Blockchain scalability):** Rewrite. Keep the idea that on-chain operations are expensive. Frame as planned design consideration.\n\n**Lines 184-186 (Access control via smart contracts):** Mark as future/planned. \"Token-gated data\" is a potential future feature.\n\n**Line 192:** Change \"implementing novel blockchain integration patterns\" → \"implementing freeze-then-fund patterns\"\n\n### Key terminology:\n- Keep \"tokenization\" as a concept but mark as \"planned\" / \"not yet implemented\"\n- Use \"freeze\" / \"frozen\" / \"freezing\" for the new concept\n- \"anchor on-chain\" for the planned on-chain step\n- Keep \"on-chain\" and \"blockchain\" where appropriate — it IS the plan\n- Add \"(planned)\" markers where helpful\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/getting-started/the-hypercerts-infrastructure.md \u0026\u0026 \\\ngrep -q 'freez' documentation/pages/getting-started/the-hypercerts-infrastructure.md \u0026\u0026 \\\ngrep -q 'cannot.*change\\|must not.*change\\|exactly what.*fund\\|know.*what.*pay\\|frozen' documentation/pages/getting-started/the-hypercerts-infrastructure.md \u0026\u0026 \\\n! grep -q 'mints an NFT' documentation/pages/getting-started/the-hypercerts-infrastructure.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Remove the blockchain/tokenization concept entirely — the theory is right, keep it as the planned design\n- Present tokenization as if it's already implemented/live\n- Change the Data Layer section (lines 13-17) — accurate as-is\n- Change DID, PDS, Lexicon, XRPC, Repository sections (lines 33-61) — accurate\n- Change Steps 1-3 of the data flow (lines 65-81) — accurate\n- Change Migration and Portability section (lines 141-158) — accurate\n- Change Privacy section (lines 174-183) except the token-gated line\n- Invent specific smart contract or token standard details","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:21:57.277367+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:31:26.421333+13:00","closed_at":"2026-02-16T12:31:26.421333+13:00","close_reason":"a51984a Rewrite infrastructure doc to use freeze-then-fund model","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-390.3","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:21:57.279592+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.4","title":"Rewrite getting-started/why-atproto.md: update blockchain complement section with freeze-then-fund","description":"## Files\n- documentation/pages/getting-started/why-atproto.md (modify)\n\n## What to do\n\nUpdate the \"ATProto + Blockchain: Better Together\" section to reflect that the tokenization layer hasn't been developed yet but the theory is right.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame it as the intended/planned design, not as something live\n- The freeze-then-fund concept is the key insight to add\n\n### Specific changes:\n\n**Lines 49-51 (ATProto + Blockchain section):** Rewrite. Current text presents tokenization as live (\"a smart contract mints a token pointing to that record, funders purchase the token on-chain\").\n\nNew text should describe the planned design: ATProto handles the data layer — claims, evidence, evaluations, trust signals. On-chain anchoring is planned to handle the funding layer — freezing hypercert state and enabling funding flows. The intended flow: a contributor creates an activity claim on ATProto, the claim accumulates evidence and evaluations, when ready for funding the claim will be frozen and its snapshot anchored on-chain, funders will commit resources against the frozen cert (knowing exactly what they're paying for), and evaluations continue accumulating on ATProto over time. The tokenization layer is not yet implemented, but the architecture is designed for it.\n\n**Line 42 (table):** Keep \"Pure blockchain | Too expensive for rich data...\" — still accurate.\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/getting-started/why-atproto.md \u0026\u0026 \\\ngrep -q 'freez' documentation/pages/getting-started/why-atproto.md \u0026\u0026 \\\n! grep -q 'mints a token' documentation/pages/getting-started/why-atproto.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Change the Philosophy section (lines 10-22) — accurate\n- Change the For Builders section (lines 24-36) — accurate\n- Change the comparison table except if it mentions tokenization as live\n- Remove blockchain from the section title — it's still the plan\n- Remove the concept of tokenization — just mark it as planned/TBD\n- Invent implementation details","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:22:14.281265+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:30:38.309051+13:00","closed_at":"2026-02-16T12:30:38.309051+13:00","close_reason":"98d35ed Updated blockchain section to reflect freeze-then-fund as planned design, not live implementation","labels":["scope:small"],"dependencies":[{"issue_id":"docs-390.4","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:22:14.282802+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.5","title":"Rewrite getting-started/why-were-building-hypercerts.md: update onchain anchoring section with freeze-then-fund","description":"## Files\n- documentation/pages/getting-started/why-were-building-hypercerts.md (modify)\n\n## What to do\n\nUpdate the \"Ownership \u0026 Funding Layer: Onchain\" section (lines 182-194) to reflect that the tokenization layer hasn't been developed yet but the theory is right.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right and the architecture is sound\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame it as the intended/planned design, not as something live\n- The freeze-then-fund concept is the key insight to add\n\n### Specific changes:\n\n**Line 182:** Change \"That's where onchain anchoring and tokenization come in.\" → Keep the concept but note it's planned. Something like \"That's where onchain anchoring comes in — and eventually, tokenization.\"\n\n**Lines 184-194 (The Ownership \u0026 Funding Layer: Onchain):** Rewrite this section.\n\nThe key message: ATProto provides the data layer. But funding requires a stronger guarantee — funders need to know that what they're paying for won't change after the fact. The planned approach: before a hypercert can be funded, its ATProto records will be frozen (a cryptographic snapshot taken and anchored on-chain). A hypercert cannot be funded if its contents are still changing, because the funder might end up paying for a different cert than what they committed to.\n\nThe tokenization layer — including token standards, smart contract design, and chain selection — is not yet implemented. The theory and architecture are sound: once frozen and anchored, hypercerts can be funded through various mechanisms (milestone-based payouts, retroactive rewards, collective funding pools). The protocol intends to be chain-agnostic. But the specific on-chain implementation is being designed.\n\nKeep the spirit of the original text (ATProto for data, on-chain for guarantees) but make clear what exists vs what's planned.\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/getting-started/why-were-building-hypercerts.md \u0026\u0026 \\\ngrep -q 'freez\\|frozen' documentation/pages/getting-started/why-were-building-hypercerts.md \u0026\u0026 \\\ngrep -q 'cannot.*funded.*chang\\|can.t.*funded.*chang\\|won.t change\\|exactly what\\|know.*what.*pay' documentation/pages/getting-started/why-were-building-hypercerts.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Change anything before line 172 (The Problem, The Shift, Hypercerts sections) — all accurate\n- Change the \"Where We're Headed\" or \"Start Building\" sections (lines 196+) — accurate\n- Remove blockchain/on-chain entirely — it's the plan, the theory is right\n- Remove the concept of tokenization — just mark it as not yet implemented\n- Invent specific token or contract details","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:22:39.256967+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:30:45.642363+13:00","closed_at":"2026-02-16T12:30:45.642363+13:00","close_reason":"79a0ea0 Updated onchain anchoring section with freeze-then-fund model, clarified tokenization is planned but not yet implemented","labels":["scope:small"],"dependencies":[{"issue_id":"docs-390.5","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:22:39.258763+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.6","title":"Update reference/faq.md: rewrite blockchain/wallet/tokenization Q\u0026As for freeze-then-fund","description":"## Files\n- documentation/pages/reference/faq.md (modify)\n\n## What to do\n\nUpdate FAQ entries that reference blockchain wallets, tokenization, and on-chain funding. The tokenization layer hasn't been developed yet but the theory is right.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right\n- DO make clear that the tokenization layer hasn't been built yet — it's TBD\n- Frame answers as describing the planned design, not something live\n- The freeze-then-fund concept is the key insight to add\n\n### Specific changes:\n\n**Line 18 (How is this different):** Change \"while still using blockchain for ownership and funding\" → \"while planning to use on-chain anchoring to freeze hypercerts before funding. The tokenization layer is not yet implemented, but the architecture is designed for it.\"\n\n**Lines 20-22 (Do I need a blockchain wallet?):** Rewrite. New: \"Not to create or evaluate hypercerts — you only need an ATProto account (DID). A blockchain wallet will eventually be needed to fund hypercerts on-chain, but the tokenization layer is not yet implemented. The on-chain mechanisms are being designed.\"\n\n**Lines 37-38 (How do I fund a hypercert?):** Rewrite. New: \"The planned approach: before a hypercert can be funded, its ATProto records must be frozen — a cryptographic snapshot is taken and anchored on-chain. This ensures funders know exactly what they are paying for, since the cert's contents cannot change after freezing. The specific on-chain funding mechanisms are being designed. The hypercert data itself lives on ATProto, while the frozen snapshot and funding state will live on-chain. The tokenization layer is not yet implemented.\"\n\n**Lines 44-46 (What chains are supported?):** Rewrite. New: \"The protocol intends to be chain-agnostic for on-chain anchoring and funding. The tokenization layer is not yet implemented, so specific chain support has not been determined. The data layer (ATProto) is independent of any particular blockchain.\"\n\n## Test\ngrep -q 'not yet\\|TBD\\|being designed\\|planned\\|will be' documentation/pages/reference/faq.md \u0026\u0026 \\\ngrep -q 'freez\\|frozen' documentation/pages/reference/faq.md \u0026\u0026 \\\n! grep -q 'tokenized ownership' documentation/pages/reference/faq.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Change Q\u0026As that don't mention blockchain/tokens (What is a hypercert, Is my data public, Can I delete, Who can evaluate, Can I use Bluesky, How do I get help)\n- Remove the blockchain wallet question entirely — it's still relevant\n- Remove the concept of tokenization — just mark it as not yet implemented\n- Invent specific chain or contract details","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:22:59.153902+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:30:49.249953+13:00","closed_at":"2026-02-16T12:30:49.249953+13:00","close_reason":"ff1a74e Updated FAQ blockchain/wallet/tokenization Q\u0026As to reflect freeze-then-fund model and clarify that tokenization layer is not yet implemented","labels":["scope:small"],"dependencies":[{"issue_id":"docs-390.6","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:22:59.155466+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-390.7","title":"Update 3 small files: introduction-to-impact-claims.md, building-on-hypercerts.md, working-with-evaluations.md","description":"## Files\n- documentation/pages/getting-started/introduction-to-impact-claims.md (modify)\n- documentation/pages/reference/building-on-hypercerts.md (modify)\n- documentation/pages/tutorials/working-with-evaluations.md (modify)\n\n## What to do\n\nThree small files each have 1 line that needs updating. The tokenization layer hasn't been developed yet but the theory is right.\n\n### IMPORTANT FRAMING GUIDANCE\n- Do NOT strip out the blockchain/tokenization concept — the theory is right\n- DO make clear that the tokenization layer hasn't been built yet where relevant\n- These are small, surgical changes — don't over-explain\n\n### introduction-to-impact-claims.md\n\n**Line 21:** Change \"Hypercerts can exist as a standalone activity claim, or it can be tokenized to then be listed up for sale in a marketplace.\" → \"Hypercerts can exist as a standalone activity claim. In the planned design, a hypercert's records will be frozen and anchored on-chain before it can be funded — this ensures funders know exactly what they are paying for. The tokenization layer is not yet implemented.\"\n\n### building-on-hypercerts.md\n\n**Line 24:** Change \"Create platforms that use hypercerts to tokenize contributions and distribute funding.\" → \"Create platforms that use hypercerts to structure contributions and distribute funding.\" (Simply remove \"tokenize\" — the sentence works without it and avoids implying the feature exists.)\n\n### working-with-evaluations.md\n\n**Line 70:** Change \"Scripts and bots can publish evaluations based on on-chain data, API metrics, or other programmatic checks.\" → \"Scripts and bots can publish evaluations based on API metrics, external data sources, or other programmatic checks.\" (Remove \"on-chain data\" since the on-chain layer is not yet implemented. Replace with something generic.)\n\n## Test\n! grep -q 'tokenize' documentation/pages/getting-started/introduction-to-impact-claims.md \u0026\u0026 \\\n! grep -q 'tokenize contributions' documentation/pages/reference/building-on-hypercerts.md \u0026\u0026 \\\n! grep -q 'on-chain data' documentation/pages/tutorials/working-with-evaluations.md \u0026\u0026 \\\ngrep -q 'not yet\\|planned' documentation/pages/getting-started/introduction-to-impact-claims.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Change anything else in these files\n- Add lengthy explanations — these are 1-line fixes\n- Remove the concept of funding from any of these files\n- Remove blockchain/tokenization as a concept — just mark as not yet implemented where relevant","status":"closed","priority":3,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T12:23:12.609071+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T12:30:41.07996+13:00","closed_at":"2026-02-16T12:30:41.07996+13:00","close_reason":"20fa098 Updated tokenization language across 3 docs files to reflect planned design and current implementation status","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-390.7","depends_on_id":"docs-390","type":"parent-child","created_at":"2026-02-16T12:23:12.610177+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-7b4","title":"Epic 7: Fix Broken Links and Content Issues","description":"## Summary\nResolve all broken links and content issues identified during the documentation audit. This includes GitBook orphan page references, absolute GitBook editor URLs, and anchor ID mismatches.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. The content was migrated from GitBook. By the time this epic runs, Epic 3 (Content Migration) has moved all files into `documentation/pages/` and done initial cleanup. However, some broken links may remain that require human judgment to resolve.\n\nAll content files are now in `documentation/pages/` (not the old root-level locations). Internal links should use paths without `.md` extensions.\n\n## Broken Links Inventory\n\n### Category 1: GitBook Orphan Page References (3 instances)\nWhen GitBook exports to Git, internal cross-references that fail to resolve become `/broken/pages/XXXXX` links. These need to be resolved or removed.\n\n| File (post-migration path) | Broken Link | Context |\n|---|---|---|\n| `pages/index.md` | `/broken/pages/gNQzZ9R1b3NKrJoQ0Iqa` | Read the surrounding text to determine what this was supposed to link to. It's on the landing/welcome page. |\n| `pages/lexicons/introduction-to-lexicons.md` | `/broken/pages/3UwgsMpD20ErXurhzmTh` | Read the surrounding text -- likely links to one of the lexicon pages |\n| `pages/lexicons/introduction-to-lexicons.md` | `/broken/pages/FdVczwFhTBj7n5nszh0P` | Read the surrounding text -- likely links to one of the lexicon pages |\n\n**Resolution approach:**\n1. Open each file and read the surrounding text around the broken link\n2. Infer what page the link was supposed to point to based on the link text and context\n3. If the target can be determined (e.g., \"General Lexicons\" probably links to `/lexicons/general-lexicons`), replace with the correct path\n4. If the target cannot be determined, remove the `[text](/broken/pages/...)` link syntax but keep the text as plain text. Add a `\u003c!-- TODO: broken link from GitBook migration --\u003e` HTML comment\n\n### Category 2: Absolute GitBook Editor URL (1 instance)\n| File | Broken Link |\n|---|---|\n| `pages/lexicons/hypercerts-lexicons/activity-claim.md` | `https://app.gitbook.com/o/uxU8o4s6mrp88yBisLn5/s/8dkOAon1uQbyqL8RomaJ/hypercert-claim-lexicons/the-impact-and-work-space` |\n\n**Resolution:** The URL path ends with `the-impact-and-work-space`. Replace with the relative internal link `/getting-started/the-impact-and-work-space`.\n\n### Category 3: Anchor ID Mismatches (2 instances)\n| File | Link | Problem | Fix |\n|---|---|---|---|\n| `pages/getting-started/the-impact-and-work-space.md` | Self-referencing `#the-impact-space` | No heading with this anchor exists in the file | Read the file to find the closest matching heading and fix the anchor. If no heading matches, remove the link. |\n| `pages/lexicons/general-lexicons/location.md` | Self-referencing `#locationtype` | The heading is \"### Location Type\" which generates anchor `#location-type` (hyphenated) | Change `#locationtype` to `#location-type` |\n\n## Verification Steps\nAfter fixing all links, run these checks:\n```bash\n# Check for any remaining GitBook artifacts\ngrep -r '/broken/pages/' documentation/pages/\ngrep -r 'app.gitbook.com' documentation/pages/\n\n# Should all return zero results\n```\n\nAlso manually verify:\n- Open each fixed link in the dev server to confirm it navigates correctly\n- For anchor links, click them and verify they scroll to the correct heading\n\n## Acceptance Criteria\n- All 3 `/broken/pages/...` links are either resolved to correct internal paths or removed (text preserved)\n- The absolute GitBook editor URL in activity-claim.md is replaced with `/getting-started/the-impact-and-work-space`\n- Both anchor mismatches are fixed to point to valid heading IDs\n- `grep -r '/broken/' documentation/pages/` returns zero results\n- `grep -r 'app.gitbook.com' documentation/pages/` returns zero results\n- All fixed links work when tested in the browser via `npm run dev`\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:45:06.195729+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:18:28.396574+13:00","closed_at":"2026-02-14T13:18:28.396576+13:00","dependencies":[{"issue_id":"docs-7b4","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:45:06.198001+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-7dv","title":"Epic 4: Navigation and Layout System","description":"## Summary\nBuild a three-column page layout and programmatic navigation system to replace GitBook's `SUMMARY.md`-based navigation. The layout should follow the design language used by Stripe's documentation (docs.stripe.com): a left sidebar for navigation, a centered content column, and a right-side table of contents with scroll spy.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. GitBook uses a file called `SUMMARY.md` with nested Markdown lists to define navigation. We need to replace this with React components.\n\nBy the time this epic runs:\n- Epic 1 has scaffolded the Next.js project\n- `pages/_app.js` exists and wraps all pages\n- Content `.md` files are in `pages/` (from Epic 3)\n\n### Current SUMMARY.md navigation structure:\n```markdown\n# Table of contents\n* [Welcome to the Hypercerts Protocol](README.md)\n## Getting Started\n* [Why we're building Hypercerts](getting-started/why-were-building-hypercerts.md)\n* [Introduction to Impact Claims](getting-started/introduction-to-impact-claims.md)\n* [The Impact and Work Space](getting-started/the-impact-and-work-space.md)\n* [The Hypercerts Infrastructure](getting-started/the-hypercerts-infrastructure.md)\n* [Installing the SDK](getting-started/installing-the-sdk.md)\n## Lexicons\n* [Introduction to Lexicons](lexicons/introduction-to-lexicons.md)\n* [General Lexicons](lexicons/general-lexicons/README.md)\n  * [Shared Defs](lexicons/general-lexicons/shared-defs.md)\n  * [Location](lexicons/general-lexicons/location.md)\n* [Hypercerts Lexicons](lexicons/hypercerts-lexicons/README.md)\n  * [Activity Claim](lexicons/hypercerts-lexicons/activity-claim.md)\n  * [Contribution](lexicons/hypercerts-lexicons/contribution.md)\n  * [Evaluation](lexicons/hypercerts-lexicons/evaluation.md)\n  * [Measurement](lexicons/hypercerts-lexicons/measurement.md)\n  * [Attachment](lexicons/hypercerts-lexicons/attachment.md)\n  * [Rights](lexicons/hypercerts-lexicons/rights.md)\n  * [Collection](lexicons/hypercerts-lexicons/collection.md)\n---\n* [Deep Dive: The Work Scope](deep-dive-the-work-scope.md)\n```\n\n## Design Language (Stripe-Inspired)\n\nThe layout should follow these Stripe documentation patterns:\n\n### Three-column layout:\n```\n┌──────────────────────────────────────────────────────────┐\n│  Header: Site title + optional search                     │\n├────────────┬──────────────────────────────┬───────────────┤\n│            │                              │               │\n│  Left      │  Main Content                │  Right TOC    │\n│  Sidebar   │  (max-width ~720px)          │  (~200px)     │\n│  (~240px)  │                              │               │\n│            │                              │  - Section 1  │\n│  Section   │  # Page Title                │  - Section 2  │\n│  Header    │                              │  - Section 3  │\n│  ├─ Link   │  Body text...                │               │\n│  ├─ Link   │                              │               │\n│  └─ Link   │  ## Section 1                │               │\n│            │  More text...                 │               │\n│  Section   │                              │               │\n│  Header    │  ## Section 2                │               │\n│  ├─ Link   │  Even more text...           │               │\n│  └─ Link   │                              │               │\n│            │  ┌─────────┬──────────┐      │               │\n│            │  │ ← Prev  │ Next →   │      │               │\n│            │  └─────────┴──────────┘      │               │\n├────────────┴──────────────────────────────┴───────────────┤\n```\n\n### Visual characteristics:\n- **Background**: Pure white (#ffffff) everywhere\n- **Sidebar**: 240px wide, sticky/fixed position, scrolls independently. Right border: 1px solid #ebeef1 (very subtle gray)\n- **Content area**: Max-width ~720px, centered in the remaining space with padding 32px on each side\n- **Right TOC**: ~200px wide, sticky, shows H2-level headings from current page, highlights current section as user scrolls (scroll spy)\n- **Section headers in sidebar**: Small text, semibold (font-weight 600), uppercase or regular case, color #687385 (secondary gray). NOT clickable -- they are category labels\n- **Nav items in sidebar**: Regular weight (400), color #414552 (dark gray). On hover: slight background tint. Active item: bold text (600) + light blue-gray background tint\n- **Nesting**: One level of indent for child pages (e.g., \"Shared Defs\" indented under \"General Lexicons\")\n- **Pagination**: Previous/Next links at the bottom of content area, styled as a flex row with left/right alignment\n\n## What You Need to Create\n\n### 1. Navigation config -- `lib/navigation.js`\n```js\nexport const navigation = [\n  { title: 'Welcome', path: '/' },\n  {\n    section: 'Getting Started',\n    children: [\n      { title: \"Why We're Building Hypercerts\", path: '/getting-started/why-were-building-hypercerts' },\n      { title: 'Introduction to Impact Claims', path: '/getting-started/introduction-to-impact-claims' },\n      { title: 'The Impact and Work Space', path: '/getting-started/the-impact-and-work-space' },\n      { title: 'The Hypercerts Infrastructure', path: '/getting-started/the-hypercerts-infrastructure' },\n      { title: 'Installing the SDK', path: '/getting-started/installing-the-sdk' },\n    ]\n  },\n  {\n    section: 'Lexicons',\n    children: [\n      { title: 'Introduction to Lexicons', path: '/lexicons/introduction-to-lexicons' },\n      {\n        title: 'General Lexicons',\n        path: '/lexicons/general-lexicons',\n        children: [\n          { title: 'Shared Defs', path: '/lexicons/general-lexicons/shared-defs' },\n          { title: 'Location', path: '/lexicons/general-lexicons/location' },\n        ]\n      },\n      {\n        title: 'Hypercerts Lexicons',\n        path: '/lexicons/hypercerts-lexicons',\n        children: [\n          { title: 'Activity Claim', path: '/lexicons/hypercerts-lexicons/activity-claim' },\n          { title: 'Contribution', path: '/lexicons/hypercerts-lexicons/contribution' },\n          { title: 'Evaluation', path: '/lexicons/hypercerts-lexicons/evaluation' },\n          { title: 'Measurement', path: '/lexicons/hypercerts-lexicons/measurement' },\n          { title: 'Evidence', path: '/lexicons/hypercerts-lexicons/attachment' },\n          { title: 'Rights', path: '/lexicons/hypercerts-lexicons/rights' },\n          { title: 'Collection', path: '/lexicons/hypercerts-lexicons/collection' },\n        ]\n      }\n    ]\n  },\n  { title: 'Deep Dive: The Work Scope', path: '/deep-dive-the-work-scope' },\n];\n```\n\nItems with `section` are non-clickable category headers. Items with `path` are clickable nav links. Items with `children` can be expanded/collapsed.\n\n### 2. Sidebar component -- `components/Sidebar.js`\n- Renders the navigation tree recursively\n- Uses `next/router` to detect the current path and highlight the active item\n- Section headers rendered as non-clickable labels (semibold, secondary gray, small text)\n- Active item gets bold weight + subtle background highlight\n- Child items are indented ~16px from their parent\n- Collapsible groups: items with children auto-expand when any child is active\n- On mobile (\u003c 768px): sidebar is hidden, revealed via a hamburger toggle button\n\n### 3. Table of Contents component -- `components/TableOfContents.js`\n- Extracts H2 (and optionally H3) headings from the page content\n- Renders a list of anchor links on the right side\n- Implements scroll spy: highlights the heading currently in view as the user scrolls\n- Sticky positioning: stays in view as user scrolls the content\n- Heading text in small font (13px), secondary gray color, active heading in dark color\n\nTo extract headings, you can parse `pageProps.markdoc.content` (the Markdoc AST) or use a client-side approach that queries the DOM for `h2` elements after render.\n\n### 4. Layout component -- `components/Layout.js`\n- Wraps all pages with the three-column layout\n- Accepts `frontmatter` (from `pageProps.markdoc.frontmatter`) and `children`\n- Renders: Header, Sidebar, Main Content, TableOfContents\n- Header: simple bar with site title \"Hypercerts Protocol\" on the left, minimal height (~56px), bottom border 1px #ebeef1\n- Main content area: the `children` prop, wrapped in an `\u003carticle\u003e` tag\n- Pagination: prev/next links at the bottom, derived from the flat list of navigation items\n\n### 5. Update `pages/_app.js`\n```jsx\nimport '../styles/globals.css';\nimport Layout from '../components/Layout';\n// ... component imports for Markdoc tags\n\nexport default function App({ Component, pageProps }) {\n  return (\n    \u003cLayout frontmatter={pageProps.markdoc?.frontmatter}\u003e\n      \u003cComponent {...pageProps} /\u003e\n    \u003c/Layout\u003e\n  );\n}\n```\n\n### 6. Helper: Flatten navigation for prev/next\nCreate a utility function that flattens the navigation tree into an ordered array of `{ title, path }` objects. This is used to compute previous/next page links based on the current path.\n\n## Acceptance Criteria\n- `lib/navigation.js` exports the full navigation tree matching the SUMMARY.md structure\n- `components/Sidebar.js` renders the tree with section headers, active highlighting, and nesting\n- `components/TableOfContents.js` renders right-side H2 anchors with scroll spy\n- `components/Layout.js` implements the three-column layout with header, sidebar, content, and TOC\n- `pages/_app.js` wraps all pages in the Layout component\n- Current page is highlighted in the sidebar\n- Prev/next pagination works at the bottom of each page\n- Layout is responsive: sidebar and TOC collapse/hide on mobile (\u003c 768px), hamburger menu reveals sidebar\n- Page title from frontmatter is displayed in the header or as the page `\u003ctitle\u003e`\n- `SUMMARY.md` is no longer needed for navigation (can be deleted in the cleanup epic)\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:43:02.062194+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:16:23.775047+13:00","closed_at":"2026-02-14T13:16:23.775053+13:00","dependencies":[{"issue_id":"docs-7dv","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:43:02.063743+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-brh","title":"Epic: API/SDK Reference \u0026 Code Examples","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:50.566515+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:19.057366+13:00","closed_at":"2026-02-15T01:08:19.057366+13:00","close_reason":"All children complete: brh.1 (lexicon code examples), brh.2 (error handling)"}
{"id":"docs-brh.1","title":"Add code examples to all 7 existing Hypercerts Lexicon pages","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`.\n\nThe 7 existing Hypercerts Lexicon pages document schemas (field names, types, required/optional) but do NOT include code examples showing how to create records. Stripe's API docs always show a code example alongside every schema. This task adds a \"Code Example\" section to each page.\n\n## Files (all modify)\n- documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md\n- documentation/pages/lexicons/hypercerts-lexicons/contribution.md\n- documentation/pages/lexicons/hypercerts-lexicons/evaluation.md\n- documentation/pages/lexicons/hypercerts-lexicons/measurement.md\n- documentation/pages/lexicons/hypercerts-lexicons/attachment.md\n- documentation/pages/lexicons/hypercerts-lexicons/rights.md\n- documentation/pages/lexicons/hypercerts-lexicons/collection.md\n\n## What to do\n\nFor EACH of the 7 files listed above, append a new section at the end of the file (before any existing closing content, but after the existing \"Examples\" or \"Notes\" section). The new section should be:\n\n```markdown\n## Code Example\n\nCreate a [record type name] record:\n\n\\`\\`\\`typescript\nimport { BskyAgent } from '@atproto/api'\n\nconst agent = new BskyAgent({ service: 'https://pds.example.com' })\nawait agent.login({ identifier: 'your-handle', password: 'your-app-password' })\n\nconst response = await agent.api.com.atproto.repo.createRecord({\n  repo: agent.session.did,\n  collection: '[lexicon-id]',\n  record: {\n    // ... fields specific to this lexicon\n  },\n})\n\nconsole.log('Created:', response.data.uri)\n\\`\\`\\`\n```\n\nSpecific field values for each lexicon (use ONLY fields documented on that page):\n\n1. **activity-claim.md** (`org.hypercerts.claim.activity`):\n   - title: \"Open Source Library Maintenance\"\n   - shortDescription: \"Maintained and improved the core library throughout 2025\"\n   - workScope: { allOf: [\"library-maintenance\"], anyOf: [], noneOf: [] }\n   - startDate: \"2025-01-01T00:00:00Z\"\n   - endDate: \"2025-12-31T23:59:59Z\"\n   - createdAt: new Date().toISOString()\n\n2. **contribution.md** (`org.hypercerts.claim.contribution`):\n   - contributors: [\"did:plc:abc123\"]\n   - role: \"lead-developer\"\n   - description: \"Led the development of core features\"\n   - createdAt: new Date().toISOString()\n\n3. **evaluation.md** (`org.hypercerts.claim.evaluation`):\n   - subject: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid123\", cid: \"bafyrei...\" }\n   - evaluators: [\"did:plc:evaluator1\"]\n   - summary: \"High-quality maintenance work with consistent release cadence\"\n   - createdAt: new Date().toISOString()\n\n4. **measurement.md** (`org.hypercerts.claim.measurement`):\n   - measurers: [\"did:plc:measurer1\"]\n   - metric: \"issues-resolved\"\n   - value: \"142\"\n   - measurementMethodType: \"automated-count\"\n   - createdAt: new Date().toISOString()\n\n5. **attachment.md** (`org.hypercerts.claim.evidence`):\n   - title: \"GitHub Repository\"\n   - shortDescription: \"Source code repository for the maintained library\"\n   - content: { $type: \"org.hypercerts.defs#uri\", uri: \"https://github.com/example/library\" }\n   - createdAt: new Date().toISOString()\n\n6. **rights.md** (`org.hypercerts.claim.rights`):\n   - rightsName: \"Public Display\"\n   - rightsType: \"display\"\n   - rightsDescription: \"Right to publicly display this hypercert as proof of contribution\"\n   - createdAt: new Date().toISOString()\n\n7. **collection.md** (`org.hypercerts.claim.collection`):\n   - title: \"Q1 2025 Open Source Contributions\"\n   - shortDescription: \"All open source maintenance work in Q1 2025\"\n   - claims: [{ claim: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid1\", cid: \"bafyrei...\" }, weight: \"50\" }, { claim: { uri: \"at://did:plc:abc123/org.hypercerts.claim.activity/tid2\", cid: \"bafyrei...\" }, weight: \"50\" }]\n   - createdAt: new Date().toISOString()\n\n## Writing style\n- Keep the code examples clean and minimal\n- Add a brief comment above each field explaining what it is\n- Use placeholder values that are realistic but clearly fake (did:plc:abc123, etc.)\n- Add a `{% callout %}` note above the code example: \"The SDK is in active development. Package names and API methods may change.\"\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing content on these pages — only APPEND the new section.\n- Do NOT change the page titles, frontmatter, or existing sections.\n- Do NOT modify navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent fields not documented on the page.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:49.509773+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:01:37.159464+13:00","closed_at":"2026-02-15T01:01:37.159464+13:00","close_reason":"Added code examples to all 7 Hypercerts Lexicon pages following Stripe docs pattern","dependencies":[{"issue_id":"docs-brh.1","depends_on_id":"docs-brh","type":"parent-child","created_at":"2026-02-14T20:51:49.51116+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":1,"issue_id":"docs-brh.1","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — code examples should be clean, minimal, with brief comments. No preamble. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). IMPORTANT: The file for evidence/attachment is called 'evidence.md' not 'attachment.md'. The lexicon page title is 'Evidence'. Check the actual file before modifying.","created_at":"2026-02-14T11:58:13Z"}]}
{"id":"docs-brh.2","title":"Write 'Error Handling \u0026 Constraints' reference page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Error codes\" and \"Error handling\" pages — comprehensive reference for what can go wrong and how to handle it. The hypercerts docs currently have no error handling documentation.\n\n## Files\n- documentation/pages/reference/error-handling.md (create)\n- documentation/lib/navigation.js (modify — add new \"Reference\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/error-handling.md` (100–150 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Error Handling \u0026 Constraints\ndescription: Common errors, validation rules, and how to handle them.\n---\n```\n\n**Sections:**\n\n1. **Overview** — When creating or updating records on a PDS, various errors can occur. This page documents common error scenarios and how to handle them.\n\n2. **Record Validation Errors** — Errors that occur when a record does not match its lexicon schema:\n   - Missing required fields (e.g., creating an activity claim without `title` or `startDate`)\n   - Invalid field types (e.g., passing a number where a string is expected)\n   - String length violations (`maxLength` in bytes, `maxGraphemes` in Unicode grapheme clusters)\n   - Array length violations (`maxLength` on array fields)\n   - Invalid datetime format (must be ISO 8601)\n   - Invalid strong reference format (must include both `uri` and `cid`)\n   - For each, show the error scenario and the correct fix\n\n3. **Blob Constraints** — Size limits for uploaded blobs:\n   - `smallBlob`: up to 10MB (from `org.hypercerts.defs`)\n   - `largeBlob`: up to 100MB\n   - `smallImage`: up to 5MB\n   - `largeImage`: up to 10MB\n   - What happens when you exceed these limits\n\n4. **Authentication Errors** — Common auth issues:\n   - Invalid credentials\n   - Expired session\n   - Insufficient permissions\n   - How to refresh sessions\n\n5. **Reference Errors** — Issues with strong references:\n   - Referenced record does not exist\n   - CID mismatch (record was updated since reference was created)\n   - Cross-PDS reference resolution failures\n\n6. **Rate Limits \u0026 PDS Constraints** — Operational limits:\n   - PDS may impose rate limits on record creation\n   - Repository size limits\n   - How to handle rate limit responses (retry with backoff)\n   - Add a `{% callout %}` noting that specific limits depend on the PDS implementation\n\n7. **Best Practices** — General error handling advice:\n   - Always validate records client-side before sending to PDS\n   - Use try/catch around all API calls\n   - Log errors with context (which record, which field)\n   - Show a TypeScript error handling pattern\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section called \"Reference\" AFTER the \"Architecture\" section:\n\n```javascript\n{\n  section: 'Reference',\n  children: [\n    { title: 'Error Handling \u0026 Constraints', path: '/reference/error-handling' },\n  ],\n},\n```\n\n## Writing style\n- Reference style: concise, scannable, table-heavy\n- Use tables for error codes/scenarios where appropriate\n- Use fenced code blocks for error examples and fixes\n- Use `{% callout %}` for important warnings\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent specific HTTP status codes for ATProto errors — describe error scenarios generically.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:52:12.431581+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:04:00.181048+13:00","closed_at":"2026-02-15T01:04:00.181048+13:00","close_reason":"Created Error Handling \u0026 Constraints reference page with validation errors, blob constraints, auth errors, reference errors, rate limits, and best practices. Added Reference section to navigation after Tutorials.","dependencies":[{"issue_id":"docs-brh.2","depends_on_id":"docs-brh","type":"parent-child","created_at":"2026-02-14T20:52:12.433007+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":2,"issue_id":"docs-brh.2","author":"Sharfy Adamantine","text":"NAV UPDATE: Navigation reorganized. Add the 'Reference' section AFTER 'Tutorials'. The full nav order is: Get Started → Core Concepts → Architecture → Lexicons → Tutorials → Reference.","created_at":"2026-02-14T11:24:57Z"},{"id":3,"issue_id":"docs-brh.2","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — reference style, concise, scannable, table-heavy. No preamble, no link dumps. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). NAV PLACEMENT: Add Reference section AFTER 'Tutorials'. Current nav order: Get Started → Core Concepts → Lexicons → Tools → Tutorials.","created_at":"2026-02-14T11:58:19Z"}]}
{"id":"docs-c34","title":"Epic 1: Scaffold Next.js + Markdoc Project","description":"## Summary\nSet up a Next.js project with Markdoc integration inside the existing `documentation/` directory. This is the foundation that all other migration work depends on. The final documentation site should follow a Stripe-docs-inspired design language (clean, white, professional, content-focused).\n\n## Current State of the Repository\nThe repository root is at `/Users/sharfy/Code/hypercerts-atproto-documentation`. Inside it:\n- `documentation/` -- contains the current documentation (a GitBook-managed site with NO build toolchain, NO package.json)\n- `.beads/` -- beads issue tracker database (do not modify)\n- `AGENTS.md` -- agent instructions (do not modify)\n\nThe `documentation/` directory currently contains:\n```\ndocumentation/\n├── .gitbook/\n│   └── assets/\n│       ├── hypercert erd.png\n│       └── hypercerts_for_projects.png\n├── README.md                    (landing page)\n├── SUMMARY.md                   (GitBook navigation config)\n├── deep-dive-the-work-scope.md\n├── getting-started/\n│   ├── why-were-building-hypercerts.md\n│   ├── introduction-to-impact-claims.md\n│   ├── the-impact-and-work-space.md\n│   ├── the-hypercerts-infrastructure.md\n│   └── installing-the-sdk.md\n└── lexicons/\n    ├── introduction-to-lexicons.md\n    ├── general-lexicons/\n    │   ├── README.md\n    │   ├── shared-defs.md\n    │   └── location.md\n    └── hypercerts-lexicons/\n        ├── README.md\n        ├── activity-claim.md\n        ├── contribution.md\n        ├── evaluation.md\n        ├── measurement.md\n        ├── attachment.md\n        ├── rights.md\n        └── collection.md\n```\n\nThat's 17 Markdown content files, 1 navigation file (SUMMARY.md), and 2 PNG images. There is no package.json, no JavaScript, no build toolchain.\n\n## What You Need to Do\n\n### 1. Initialize the Next.js project inside `documentation/`\nRun these commands from inside the `documentation/` directory:\n```bash\nnpm init -y\nnpm install next@latest react@latest react-dom@latest @markdoc/markdoc @markdoc/next.js\n```\n\n### 2. Create `next.config.js`\n```js\nconst withMarkdoc = require('@markdoc/next.js');\n\nmodule.exports = withMarkdoc({ mode: 'static' })({\n  pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']\n});\n```\n\n### 3. Add scripts to `package.json`\n```json\n{\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\"\n  }\n}\n```\n\n### 4. Create the directory structure\nCreate these empty directories (content will be added in later epics):\n```\ndocumentation/\n├── components/          # React components (Layout, Sidebar, etc.)\n├── markdoc/\n│   ├── tags/            # Custom Markdoc tag definitions\n│   └── nodes/           # Custom Markdoc node overrides\n├── pages/               # Next.js pages (content .md files go here)\n│   └── _app.js          # App wrapper\n├── public/\n│   └── images/          # Static assets (images)\n├── styles/\n│   └── globals.css      # Global stylesheet\n├── next.config.js\n├── package.json\n└── .gitignore\n```\n\n### 5. Create `pages/_app.js`\nA minimal app wrapper that imports global styles:\n```jsx\nimport '../styles/globals.css';\n\nexport default function App({ Component, pageProps }) {\n  return \u003cComponent {...pageProps} /\u003e;\n}\n```\nNote: The Layout component wrapping will be added in Epic 4 (Navigation \u0026 Layout). For now, just the bare wrapper is needed.\n\n### 6. Create a minimal `styles/globals.css`\nJust enough to verify the site loads:\n```css\n* { box-sizing: border-box; margin: 0; padding: 0; }\nbody { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }\n```\n\n### 7. Create a test page at `pages/index.md`\n```markdown\n---\ntitle: Test Page\n---\n\n# Hello Markdoc\n\nThis is a test page to verify the setup works.\n```\n\n### 8. Create `.gitignore`\n```\nnode_modules/\n.next/\nout/\n```\n\n### 9. Verify\n```bash\nnpm run dev    # Should start at http://localhost:3000\nnpm run build  # Should complete without errors\n```\n\nAfter verifying, you can delete the test `pages/index.md` -- it will be replaced by actual content in Epic 3.\n\n## Acceptance Criteria\n- `documentation/package.json` exists with next, react, react-dom, @markdoc/markdoc, @markdoc/next.js as dependencies\n- `documentation/next.config.js` exists with `withMarkdoc({ mode: 'static' })` and `pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']`\n- Directory structure has: `pages/`, `components/`, `markdoc/`, `markdoc/tags/`, `markdoc/nodes/`, `public/`, `public/images/`, `styles/` directories\n- `pages/_app.js` exists with a basic wrapper that imports globals.css\n- `styles/globals.css` exists with minimal reset\n- `npm run dev` starts the dev server successfully and shows the test page\n- `npm run build` completes without errors\n- `.gitignore` includes node_modules/, .next/, out/\n- The existing GitBook files (README.md, SUMMARY.md, getting-started/, lexicons/, .gitbook/, deep-dive-the-work-scope.md) are NOT deleted or moved yet -- that happens in later epics\n","status":"closed","priority":0,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:41:49.036228+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:03:51.028646+13:00","closed_at":"2026-02-14T13:03:51.028656+13:00"}
{"id":"docs-cfx","title":"Epic: Getting Started \u0026 Onboarding — Fill stubs and add missing onboarding pages","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:41.382394+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:16.301556+13:00","closed_at":"2026-02-15T01:08:16.301556+13:00","close_reason":"All children complete: cfx.1 (infrastructure), cfx.2 (SDK setup), cfx.3 (quickstart), cfx.4 (identity), cfx.5 (why atproto), cfx.6 (trim), cfx.7 (certified)"}
{"id":"docs-cfx.1","title":"Write 'The Hypercerts Infrastructure' page (fill stub)","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThe existing page at `documentation/pages/getting-started/the-hypercerts-infrastructure.md` is a stub — it contains only the heading \"Why ATProto?\" with body \"_TBD_\". It is already wired into navigation (position 4 in Getting Started section).\n\n## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n\n## What to do\n\nReplace the stub content with a full page (150–250 lines of Markdoc) covering:\n\n1. **Why ATProto?** — Explain why the Hypercerts Protocol chose AT Protocol as its data layer. Cover these three properties (already described in `documentation/pages/getting-started/why-were-building-hypercerts.md` under \"The Data Layer: AT Protocol\" section starting at line 177):\n   - Portable, user-controlled data (PDS/SDS, self-hosting, no lock-in)\n   - Shared schemas across applications (lexicons, interoperability)\n   - Decentralized trust-graph for impact (DIDs, reputation, endorsements)\n   Expand on each with 2-3 paragraphs. Do NOT just copy from the \"Why\" page — this page should go deeper into the technical details.\n\n2. **The Two-Layer Architecture** — Explain how ATProto (data layer) and blockchain (ownership/funding layer) complement each other. Cover:\n   - What lives on ATProto: claims, evidence, evaluations, measurements, trust signals\n   - What lives on-chain: ownership, tokenization, funding flows, immutability guarantees\n   - How they connect: anchoring, references between layers\n\n3. **Key Concepts for Developers** — Brief explanations of:\n   - DID (Decentralized Identifier) — what it is, how users get one\n   - PDS (Personal Data Server) — where data lives\n   - Lexicon — link to the lexicons section for details\n   - XRPC — the API protocol ATProto uses\n   - Repository — a user's collection of records\n\n4. **How Hypercerts Data Flows** — A narrative walkthrough: a contributor creates a hypercert → it's stored on their PDS → an evaluator on a different PDS references it → a funder sees both via an indexer → ownership is anchored on-chain.\n\n## Writing style\n- Match the tone of `documentation/pages/getting-started/why-were-building-hypercerts.md`: clear, accessible, avoids jargon where possible, explains technical terms when first used.\n- Use `##` for main sections, `####` for subsections (this is the pattern used in existing pages).\n- Keep the existing frontmatter format: `---\\ntitle: The Hypercerts Infrastructure\\n---`\n- Use `{% callout %}` tags for important notes or warnings.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds). The page must render without errors.\n\n## Dont\n- Do NOT modify navigation.js — the page is already wired in.\n- Do NOT add images or new components.\n- Do NOT copy text verbatim from why-were-building-hypercerts.md — rephrase and expand.\n- Do NOT invent specific technical details about the Hypercerts SDK that do not exist yet.\n- Do NOT use HTML tags — use Markdoc syntax only.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:48:23.218964+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:00:51.05707+13:00","closed_at":"2026-02-15T01:00:51.05707+13:00","close_reason":"Replaced stub with full infrastructure page covering two-layer architecture, key concepts, data flows, and integration patterns","dependencies":[{"issue_id":"docs-cfx.1","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:48:23.220708+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-cfx.1","depends_on_id":"docs-cfx.5","type":"blocks","created_at":"2026-02-14T23:35:05.578281+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":4,"issue_id":"docs-cfx.1","author":"Sharfy Adamantine","text":"SCOPE UPDATE: The 'Why ATProto?' section has been moved to a dedicated page (docs-cfx.5). This task should NO LONGER include section 1 ('Why ATProto?'). Instead, the infrastructure page should: (1) Start with 'The Two-Layer Architecture' section, (2) Link to '/getting-started/why-atproto' for the rationale, (3) Keep sections 2-4 as originally specified (Two-Layer Architecture, Key Concepts for Developers, How Hypercerts Data Flows).","created_at":"2026-02-14T10:35:00Z"},{"id":5,"issue_id":"docs-cfx.1","author":"Sharfy Adamantine","text":"NAV UPDATE: The navigation has been reorganized. 'The Hypercerts Infrastructure' is now under the 'Core Concepts' section (not 'Getting Started'). The nav entry already exists — do NOT modify navigation.js. Just fill the stub content.","created_at":"2026-02-14T11:24:28Z"},{"id":6,"issue_id":"docs-cfx.1","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, short paragraphs (1-3 sentences), code-first, no preamble ('In this page you will learn...'), no link dumps ('See also', 'Next steps'). Use numbered steps for sequential processes, tables for reference data. Study existing pages for consistency: documentation/pages/getting-started/quickstart.md and documentation/pages/getting-started/why-atproto.md. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag).","created_at":"2026-02-14T11:58:03Z"}]}
{"id":"docs-cfx.2","title":"Write 'Installing the SDK \u0026 Dev Environment Setup' page (fill stub)","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThe existing page at `documentation/pages/getting-started/installing-the-sdk.md` is a stub — it contains only the title heading with no body content. It is already wired into navigation (position 5 in Getting Started section).\n\nStripe's equivalent: \"Set up your development environment\" — covers CLI installation, SDK setup, API keys, and first API call.\n\n## Files\n- documentation/pages/getting-started/installing-the-sdk.md (modify)\n\n## What to do\n\nReplace the stub with a full page (100–180 lines of Markdoc) covering:\n\n1. **Prerequisites** — What you need before starting:\n   - Node.js (specify v18+ or v20+)\n   - An AT Protocol account (DID) — link to atproto.com for account creation\n   - A PDS (Personal Data Server) — explain that the Hypercerts Foundation runs one, or you can self-host\n\n2. **Install the SDK** — Show installation commands:\n   ```bash\n   npm install @hypercerts/sdk\n   ```\n   (Use this as a placeholder package name. Add a callout noting the SDK is in active development and the package name may change.)\n\n3. **Authentication** — Explain how to authenticate:\n   - App passwords for development\n   - OAuth for production applications\n   - Show a code snippet of creating an authenticated client (use TypeScript)\n\n4. **Your First Hypercert** — A minimal code example that:\n   - Creates an authenticated session\n   - Creates a simple activity claim record with title, shortDescription, startDate, endDate, createdAt\n   - Show the expected response structure\n   Use the lexicon schema from `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md` for field names and types.\n\n5. **Development Tools** — Brief mention of:\n   - ATProto tooling (e.g., `@atproto/api` package)\n   - How to inspect your PDS data\n   - Where to get help (link to GitHub, community)\n\n## Writing style\n- Match the tone of existing pages: clear, accessible, explains terms when first used.\n- Use `##` for main sections, `####` for subsections.\n- Use fenced code blocks with language tags (```bash, ```typescript).\n- Use `{% callout %}` for warnings about SDK being in development.\n- Keep the existing frontmatter format: `---\\ntitle: Installing the SDK\\n---`\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify navigation.js — the page is already wired in.\n- Do NOT add images or new components.\n- Do NOT invent real API endpoints or real package names that do not exist — clearly mark placeholders with callouts.\n- Do NOT use HTML tags — use Markdoc syntax only.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:48:40.431426+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T23:55:43.31715+13:00","closed_at":"2026-02-14T23:55:43.317301+13:00","dependencies":[{"issue_id":"docs-cfx.2","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:48:40.433594+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.3","title":"Write 'Quickstart Guide' page — zero to first hypercert in 5 minutes","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThis is a NEW page. Stripe's equivalent is their \"Checkout quickstart\" — a fast, copy-paste-and-run tutorial that gets developers to a working result in under 5 minutes.\n\nCurrently the docs have no quickstart. Developers land on conceptual pages and have no clear path to \"make something work.\"\n\n## Files\n- documentation/pages/getting-started/quickstart.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the quickstart page\n\nCreate `documentation/pages/getting-started/quickstart.md` (80–130 lines of Markdoc) with this structure:\n\n**Frontmatter:**\n```\n---\ntitle: Quickstart\ndescription: Create your first hypercert in under 5 minutes.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (2-3 sentences) — \"This guide walks you through creating your first hypercert. By the end, you'll have a published activity claim on your Personal Data Server.\"\n\n2. **Step 1: Get an AT Protocol Account** — Brief instructions to create a DID. Link to atproto.com. Mention the Hypercerts Foundation PDS as an option.\n\n3. **Step 2: Install the SDK** — `npm install @hypercerts/sdk` (placeholder, with callout). Link to the full \"Installing the SDK\" page for details.\n\n4. **Step 3: Authenticate** — Minimal TypeScript code to create an authenticated session using an app password.\n\n5. **Step 4: Create an Activity Claim** — TypeScript code example creating a minimal hypercert with these fields (from the activity claim lexicon at `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md`):\n   - title: \"My First Hypercert\"\n   - shortDescription: \"A test contribution to learn the protocol\"\n   - startDate: \"2025-01-01T00:00:00Z\"\n   - endDate: \"2025-12-31T23:59:59Z\"\n   - createdAt: current timestamp\n\n6. **Step 5: Verify Your Hypercert** — Show how to read back the record you just created. Show expected response shape.\n\n7. **Next Steps** — Card links to:\n   - \"Introduction to Impact Claims\" (`/getting-started/introduction-to-impact-claims`)\n   - \"The Impact and Work Space\" (`/getting-started/the-impact-and-work-space`)\n   - \"Activity Claim Lexicon\" (`/lexicons/hypercerts-lexicons/activity-claim`)\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add the quickstart as the FIRST item in the Getting Started section:\n\n```javascript\n{\n  section: 'Getting Started',\n  children: [\n    { title: 'Quickstart', path: '/getting-started/quickstart' },  // ADD THIS LINE\n    { title: \"Why We're Building Hypercerts\", path: ... },\n    // ... rest unchanged\n  ],\n},\n```\n\n## Writing style\n- Action-oriented, imperative voice: \"Install the SDK\", \"Create an activity claim\"\n- Numbered steps with clear code blocks\n- Use `{% callout %}` for prerequisites and warnings about placeholder package names\n- Use `{% card-link %}` for the Next Steps section\n- Fenced code blocks with ```typescript and ```bash language tags\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT exceed 130 lines — this must feel fast and lightweight.\n- Do NOT explain concepts in depth — link to other pages for that.\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT modify any other existing pages.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:01.554509+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:22:02.597523+13:00","closed_at":"2026-02-15T00:22:02.59753+13:00","dependencies":[{"issue_id":"docs-cfx.3","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:49:01.556173+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-cfx.3","depends_on_id":"docs-cfx.2","type":"blocks","created_at":"2026-02-14T20:54:30.488814+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":7,"issue_id":"docs-cfx.3","author":"Sharfy Adamantine","text":"IMPORTANT CONTEXT UPDATE: The Hypercerts ecosystem has its own identity provider called **Certified** (certified.app). Key facts for this task:\n\n1. **Certified** is a PDS and identity provider purpose-built for the Hypercerts ecosystem. Users sign up at certified.app to get an ATProto identity without needing to know about Bluesky or ATProto.\n2. **Bluesky accounts also work** — users with existing Bluesky accounts can use them directly with Hypercerts.\n3. The reason Certified exists: for users who don't know what Bluesky is, it would be confusing to sign up for Bluesky when they want to use Hypercerts. Certified provides a clean on-ramp.\n4. The `app.certified.*` lexicon namespace (e.g., `app.certified.location`) contains schemas shared across the entire ecosystem, not specific to the Certified platform.\n5. The real SDK packages are `@hypercerts-org/sdk-core` (Node.js) and `@hypercerts-org/sdk-react` (React). Auth is OAuth-based via `createATProtoSDK()`. See the updated Installing the SDK page for correct API patterns.\n6. In Step 1 (Get an AT Protocol Account), recommend Certified as the primary option, with Bluesky as an alternative.\n7. In Step 2 (Install the SDK), use `pnpm add @hypercerts-org/sdk-core` (not a placeholder).\n8. In Step 3 (Authenticate), use the OAuth pattern: `createATProtoSDK()` → `sdk.authorize()` → `sdk.callback()`.\n9. In Step 4 (Create an Activity Claim), use `sdk.getRepository(session)` → `repo.hypercerts.create({...})`.","created_at":"2026-02-14T11:01:33Z"}]}
{"id":"docs-cfx.4","title":"Write 'Account \u0026 Identity Setup' page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThis is a NEW page. Stripe's equivalent: \"Activate your account\" and \"Create and manage multiple accounts.\" In the ATProto world, the equivalent is setting up your DID, choosing a PDS, and understanding your identity.\n\nCurrently the docs mention DIDs and PDS in passing but never explain how to actually set one up.\n\n## Files\n- documentation/pages/getting-started/account-and-identity.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/getting-started/account-and-identity.md` (100–160 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Account \u0026 Identity Setup\ndescription: Set up your AT Protocol identity for use with Hypercerts.\n---\n```\n\n**Sections:**\n\n1. **What is an AT Protocol Identity?** (3-4 paragraphs)\n   - Every participant in the Hypercerts ecosystem has a DID (Decentralized Identifier)\n   - Your DID is your permanent identity — it stays the same even if you change servers\n   - DIDs can represent individuals OR organizations\n   - Explain the difference between `did:plc` and `did:web` briefly\n\n2. **Creating Your Account**\n   - Option A: Use the Hypercerts Foundation PDS (recommended for getting started)\n   - Option B: Use an existing ATProto account (e.g., Bluesky)\n   - Option C: Self-host a PDS\n   - For each option, provide 2-3 sentences explaining when to choose it\n\n3. **Your Personal Data Server (PDS)**\n   - What a PDS stores (your records, blobs, identity)\n   - How data portability works (you can move between PDS providers)\n   - The relationship between your DID and your PDS\n\n4. **Handles and Domain Verification**\n   - How ATProto handles work (e.g., @username.bsky.social)\n   - Custom domain handles for organizations\n   - Why this matters for trust (a handle like @numpy.org proves organizational identity)\n\n5. **Organization Accounts**\n   - Shared Data Servers (SDS) for teams\n   - How multiple contributors can write to the same repository\n   - Use case: an open-source project with multiple maintainers\n\n6. **Security Best Practices**\n   - App passwords vs. main password\n   - Rotation keys and account recovery\n   - Use `{% callout %}` for security warnings\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry in the Getting Started section AFTER \"Quickstart\" (if it exists) or as the SECOND item:\n\n```javascript\n{ title: 'Account \u0026 Identity Setup', path: '/getting-started/account-and-identity' },\n```\n\n## Writing style\n- Match existing page tone: clear, accessible, explains terms when first used\n- Use `##` for main sections, `####` for subsections\n- Use `{% callout %}` for security warnings and important notes\n- Keep the existing frontmatter format\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent specific URLs for the Hypercerts Foundation PDS — use placeholder text with a callout.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:19.581296+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:59:59.696184+13:00","closed_at":"2026-02-15T00:59:59.696184+13:00","close_reason":"Created Account \u0026 Identity Setup page with developer-focused content on DIDs, handles, domain verification, org accounts, and app passwords. Build passes.","dependencies":[{"issue_id":"docs-cfx.4","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T20:49:19.582568+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":8,"issue_id":"docs-cfx.4","author":"Sharfy Adamantine","text":"NAV UPDATE: The navigation has been reorganized into 'Get Started' (action), 'Core Concepts' (understanding), and 'Lexicons' (reference). The Account \u0026 Identity Setup page should go under 'Get Started' section, AFTER 'What is Certified?'. However — consider whether this page is still needed given that 'What is Certified?' already covers account creation and identity. If you decide to proceed, keep it very tight and focused on developer-specific identity concerns (DIDs, handles, domain verification, org accounts) rather than basic account creation.","created_at":"2026-02-14T11:24:35Z"},{"id":9,"issue_id":"docs-cfx.4","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, capability bullet list, short paragraphs (1-3 sentences), no preamble, no link dumps. Study existing pages: documentation/pages/getting-started/quickstart.md and documentation/pages/getting-started/what-is-certified.md. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). SCOPE NOTE: Given that 'What is Certified?' already covers basic account creation, focus this page on developer-specific identity concerns: DIDs, handles, domain verification, org accounts, app passwords. Keep it tight — 80-120 lines.","created_at":"2026-02-14T11:58:07Z"}]}
{"id":"docs-cfx.5","title":"Write 'Why ATProto?' dedicated page","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nThis is a NEW page. The canonical source material is the leaflet article at https://hypercerts.leaflet.pub/3m6mnb2riz22o — specifically the section titled \"The Hypercerts Architecture \u003e The Data Layer: AT Protocol.\" That same content also appears in `documentation/pages/getting-started/why-were-building-hypercerts.md` lines 177–208, but it is buried at the end of a 240-line manifesto page. This page gives the ATProto rationale its own home.\n\nThe tone should be BOTH faithful to the leaflet's arguments (portable data, shared schemas, trust-graph) AND developer-oriented — expand each property with concrete technical details a builder would care about.\n\n## Files\n- documentation/pages/getting-started/why-atproto.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/getting-started/why-atproto.md` (130–200 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Why ATProto?\ndescription: Why the Hypercerts Protocol is built on AT Protocol.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (3-4 paragraphs)\n   - Hypercerts need a data layer that is open, portable, and not controlled by any single institution.\n   - ATProto (the decentralized social data protocol that also powers Bluesky) provides this.\n   - Briefly state the three properties ATProto gives Hypercerts, then expand on each below.\n\n2. **Portable, User-Controlled Data** (3-4 paragraphs)\n   - Faithful to leaflet: Hypercerts stored on PDS/SDS. Users choose where data lives (Hypercerts Foundation servers, other platforms, self-hosted). Contributors, evaluators, and funders retain full control. Can switch providers without losing records.\n   - Developer angle: Explain what this means technically — your app reads from a PDS via XRPC, it does not own the data. Users can migrate their entire repository (all records, blobs) to a new PDS. Applications are interchangeable views over user-owned data.\n   - Contrast with alternatives: Unlike storing data in a platform's database, the user's records survive if the platform shuts down. Unlike IPFS, data has a clear owner and mutable state.\n\n3. **Shared Schemas Across Applications** (3-4 paragraphs)\n   - Faithful to leaflet: ATProto allows common data schemas (lexicons). Hypercerts use shared schemas for contributions, evidence, evaluations. Any ATProto app can understand hypercert data. A contribution recorded in one app can be evaluated in another, viewed in a third, funded elsewhere — no custom integrations needed.\n   - Developer angle: Lexicons are JSON schemas that define record structure. When you create a record with collection `org.hypercerts.claim.activity`, any app that knows that lexicon can parse it. This is like having a shared database schema across the entire network. Link to the [Introduction to Lexicons](/lexicons/introduction-to-lexicons) page for details.\n   - Why this matters: Interoperability is built in from day one, not bolted on later.\n\n4. **A Decentralized Trust-Graph for Impact** (3-4 paragraphs)\n   - Faithful to leaflet: Persistent identities (DIDs) for individuals and organizations. Identities accumulate contributions, evaluations, endorsements over time. This forms a durable trust-graph — a reputation layer that follows users across platforms. Funders can draw from an ecosystem-wide view of identity, contribution, and credibility.\n   - Developer angle: DIDs are cryptographically verifiable. A DID like `did:plc:abc123` is permanent even if the user changes handles or servers. When an evaluator creates an evaluation record, their DID is attached — you can trace their entire evaluation history across the network. This enables programmatic trust scoring.\n   - Contrast: Unlike siloed reputation systems (e.g., a single platform's star ratings), this reputation is portable and verifiable.\n\n5. **Why Not Other Technologies?** (1-2 paragraphs)\n   - Brief comparison with alternatives builders might consider:\n     - **Pure blockchain**: Too expensive for rich data, limited schema flexibility, poor for large blobs\n     - **IPFS/Filecoin**: Content-addressed but no identity layer, no mutable state, no schemas\n     - **Ceramic**: Similar goals but smaller ecosystem, less mature tooling\n     - **Traditional databases**: No portability, no interoperability, platform lock-in\n   - ATProto provides the best combination of identity, schemas, federation, and an existing growing ecosystem.\n\n6. **ATProto + Blockchain: Better Together** (2-3 paragraphs)\n   - ATProto handles the data (claims, evidence, evaluations, trust signals)\n   - Blockchain handles ownership (tokenization, funding flows, immutability guarantees)\n   - Link to [The Hypercerts Infrastructure](/getting-started/the-hypercerts-infrastructure) page for the full two-layer architecture details.\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry in the Getting Started section AFTER \"The Impact and Work Space\" and BEFORE \"The Hypercerts Infrastructure\":\n\n```javascript\n{ title: 'Why ATProto?', path: '/getting-started/why-atproto' },\n```\n\nThe Getting Started section should become:\n```\nQuickstart (if added)\nWhy We're Building Hypercerts\nIntroduction to Impact Claims\nThe Impact and Work Space\nWhy ATProto?               ← NEW\nThe Hypercerts Infrastructure\nInstalling the SDK\n```\n\n## Writing style\n- Faithful to the leaflet's structure and arguments, but expanded with developer-oriented technical details.\n- Clear, accessible, explains terms when first used.\n- Use `##` for main sections, `####` for subsections.\n- Use `{% callout %}` for key insights and comparisons.\n- Link to other docs pages where relevant.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing pages other than navigation.js (the \"Why\" page deduplication is a separate task).\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT copy the leaflet text verbatim — paraphrase and expand.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T23:34:19.736355+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T23:38:27.777392+13:00","closed_at":"2026-02-14T23:38:27.777397+13:00","dependencies":[{"issue_id":"docs-cfx.5","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T23:34:19.740869+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.6","title":"Trim ATProto section from 'Why We're Building Hypercerts' page and cross-link to 'Why ATProto?'","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site in `documentation/`. Pages are `.md` files in `documentation/pages/`.\n\nThe page `documentation/pages/getting-started/why-were-building-hypercerts.md` contains a full \"The Data Layer: AT Protocol\" section (lines 177–208) that duplicates content now covered by the dedicated \"Why ATProto?\" page at `/getting-started/why-atproto`. This task trims the duplicated section and adds a cross-link.\n\n**Dependency:** This task MUST be done AFTER `docs-cfx.5` (\"Write 'Why ATProto?' dedicated page\") is complete.\n\n## Files\n- documentation/pages/getting-started/why-were-building-hypercerts.md (modify)\n\n## What to do\n\nIn the file, find the section \"#### The Data Layer: AT Protocol\" (around line 177). It currently runs ~30 lines covering portable data, shared schemas, and trust-graph in detail.\n\nReplace that entire subsection (from \"#### The Data Layer: AT Protocol\" through the paragraph ending \"...onchain anchoring and tokenization come in.\" around line 208) with a SHORT version (~5–8 lines total):\n\n```markdown\n#### The Data Layer: AT Protocol\n\nThe Hypercerts Protocol is built on AT Protocol (ATProto), the decentralized social data layer that also powers Bluesky. ATProto gives Hypercerts three essential properties: portable, user-controlled data stored on Personal or Shared Data Servers; shared schemas (lexicons) that make hypercert data interoperable across applications; and a decentralized trust-graph built on persistent identities.\n\nFor a full explanation of why ATProto was chosen and how it compares to alternatives, see [Why ATProto?](/getting-started/why-atproto).\n```\n\nKeep the \"#### The Ownership \u0026 Funding Layer: Onchain\" section (lines ~210–220) completely unchanged.\n\n## Writing style\n- Keep it brief — the goal is to summarize in 2-3 sentences and link out.\n- Match the existing page tone.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT modify any other section of this page.\n- Do NOT modify navigation.js.\n- Do NOT change the frontmatter or title.\n- Do NOT remove the \"Ownership \u0026 Funding Layer: Onchain\" section.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T23:34:46.406677+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:57:55.596463+13:00","closed_at":"2026-02-15T00:57:55.596463+13:00","close_reason":"Already completed — ATProto section was trimmed and cross-linked in a previous session","dependencies":[{"issue_id":"docs-cfx.6","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-14T23:34:46.423629+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-cfx.6","depends_on_id":"docs-cfx.5","type":"blocks","created_at":"2026-02-14T23:34:52.880221+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cfx.7","title":"Write 'What is Certified?' page — the Hypercerts identity provider","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\n**Certified** (certified.app) is the identity provider and PDS for the Hypercerts ecosystem. It exists because:\n- The Hypercerts Protocol is built on AT Protocol (ATProto), which also powers Bluesky.\n- For users who do not know what Bluesky is, it would be confusing and jarring to sign up for Bluesky when they want to use a Hypercerts application.\n- Certified provides a clean on-ramp: users sign up at certified.app and get an ATProto identity (DID) without needing to understand Bluesky, ATProto, or decentralized protocols.\n- Users with existing Bluesky accounts can also log in to Hypercerts apps directly — Certified is not required, just recommended for newcomers.\n\nThe `app.certified.*` lexicon namespace (e.g., `app.certified.location`) contains schemas that are shared across the entire Hypercerts ecosystem, not specific to the Certified platform itself.\n\n## Files\n- documentation/pages/getting-started/what-is-certified.md (create)\n- documentation/lib/navigation.js (modify — add entry)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/getting-started/what-is-certified.md` (80–120 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: What is Certified?\ndescription: Certified is the identity provider for the Hypercerts ecosystem.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (2-3 paragraphs)\n   - Certified (certified.app) is the identity provider and Personal Data Server (PDS) for the Hypercerts ecosystem.\n   - When you create a Certified account, you get an AT Protocol identity (a DID — Decentralized Identifier) that works across all applications in the Hypercerts ecosystem.\n   - Think of it as your passport to the world of impact certificates.\n\n2. **Why Certified Exists** (2-3 paragraphs)\n   - The Hypercerts Protocol is built on AT Protocol, the same decentralized data layer that powers Bluesky.\n   - But most Hypercerts users are not Bluesky users. They are researchers, land stewards, open-source maintainers, funders, and evaluators. Asking them to \"sign up for Bluesky\" to use a funding platform would be confusing.\n   - Certified solves this by providing a purpose-built sign-up flow. Users create an account at certified.app and immediately have an identity that works with any Hypercerts application — no knowledge of Bluesky, ATProto, or decentralized protocols required.\n\n3. **What You Get** (bulleted list)\n   - A DID (Decentralized Identifier) — your permanent, portable identity\n   - A PDS (Personal Data Server) — where your hypercerts, evaluations, and other records are stored\n   - Access to the entire Hypercerts ecosystem — any app built on the protocol recognizes your Certified identity\n   - Data portability — you own your data and can migrate it to another PDS at any time\n\n4. **Already Have a Bluesky Account?** (1-2 paragraphs)\n   - If you already have a Bluesky account, you do NOT need a Certified account. Your Bluesky identity is a valid ATProto identity and works with all Hypercerts applications.\n   - You can log in to any Hypercerts app using your Bluesky handle (e.g., `alice.bsky.social`).\n   - Use `{% callout %}` to make this clear.\n\n5. **The app.certified Namespace** (1-2 paragraphs)\n   - The `app.certified.*` lexicon namespace contains schemas shared across the Hypercerts ecosystem.\n   - For example, `app.certified.location` defines how geographic locations are attached to hypercerts.\n   - These schemas are ecosystem-wide standards, not specific to the Certified platform.\n   - Link to the [Location lexicon](/lexicons/general-lexicons/location) page.\n\n6. **Getting Started** (short, with card links)\n   - Sign up at [certified.app](https://certified.app)\n   - Then follow the [Installing the SDK](/getting-started/installing-the-sdk) guide to start building\n   - Or jump to the [Quickstart](/getting-started/quickstart) for a 5-minute walkthrough\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry in the Getting Started section AFTER \"Why We're Building Hypercerts\" and BEFORE \"Introduction to Impact Claims\":\n\n```javascript\n{ title: 'What is Certified?', path: '/getting-started/what-is-certified' },\n```\n\n## Writing style\n- Friendly, welcoming tone — this page is for non-technical users too\n- Use `##` for main sections, `####` for subsections\n- Use `{% callout %}` for the \"Already have Bluesky?\" note\n- Use `{% card-link %}` for the Getting Started links\n- Keep it concise — this is an orientation page, not a deep dive\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT add images or new components.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT make Certified sound mandatory — Bluesky accounts work too.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:02:06.264262+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:12:43.897475+13:00","closed_at":"2026-02-15T00:12:43.897477+13:00","dependencies":[{"issue_id":"docs-cfx.7","depends_on_id":"docs-cfx","type":"parent-child","created_at":"2026-02-15T00:02:06.266805+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-cij","title":"Epic 6: Images and Asset Migration","description":"## Summary\nMove all image assets from the GitBook-specific `.gitbook/assets/` directory to the standard Next.js `public/images/` directory, rename files to remove spaces, update all references in content files, and delete the old `.gitbook/` directory.\n\n## Context\nThis project is a Next.js + Markdoc documentation site. The project root is `documentation/` inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`.\n\nThe current documentation was migrated from GitBook, which stores images in a `.gitbook/assets/` directory. In Next.js, static assets live in the `public/` directory and are served from the root URL path. For example, `public/images/foo.png` is accessible at `/images/foo.png`.\n\nBy the time this epic runs:\n- Epic 1 has created the `public/images/` directory\n- Epic 3 may have already updated image references in content files to use `/images/...` paths and converted `\u003cfigure\u003e` HTML to `{% figure %}` Markdoc tags. Check the current state of the files before making changes.\n\n## Current Image Assets\nThe `documentation/.gitbook/assets/` directory contains 2 PNG files:\n- `hypercerts_for_projects.png` -- referenced in the landing page\n- `hypercert erd.png` -- referenced in the landing page and the impact claims page (note: filename has a SPACE)\n\n## Files That Reference Images\nThese files contain image references (paths may already be updated by Epic 3):\n\n1. **pages/index.md** (was README.md) -- 2 image references:\n   - `.gitbook/assets/hypercerts_for_projects.png`\n   - `.gitbook/assets/hypercert erd.png`\n\n2. **pages/getting-started/introduction-to-impact-claims.md** -- 1 image reference:\n   - `../.gitbook/assets/hypercert erd.png`\n\n## Tasks\n\n### 1. Copy and rename image files\n```bash\ncp 'documentation/.gitbook/assets/hypercerts_for_projects.png' documentation/public/images/hypercerts_for_projects.png\ncp 'documentation/.gitbook/assets/hypercert erd.png' documentation/public/images/hypercert-erd.png\n```\nNote: `hypercert erd.png` is renamed to `hypercert-erd.png` (space replaced with hyphen).\n\n### 2. Update image references in content files\nIf not already done by Epic 3, update all image paths:\n- `.gitbook/assets/hypercerts_for_projects.png` -\u003e `/images/hypercerts_for_projects.png`\n- `.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n- `../.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n\nThese may appear as `{% figure src=\"...\" %}` Markdoc tags or as standard `![](...)` Markdown images or as `\u003cfigure\u003e\u003cimg src=\"...\"\u003e` HTML, depending on what Epic 3 did.\n\n### 3. Delete the .gitbook/ directory\n```bash\nrm -rf documentation/.gitbook\n```\n\n### 4. Verify\n- Confirm `documentation/public/images/` contains both PNGs\n- Run `grep -r '.gitbook/' documentation/pages/` -- should return zero results\n- Run `grep -r '.gitbook/' documentation/components/` -- should return zero results\n- Start dev server (`npm run dev`) and verify images render on the relevant pages\n\n## Acceptance Criteria\n- `documentation/public/images/hypercerts_for_projects.png` exists\n- `documentation/public/images/hypercert-erd.png` exists (no space in filename)\n- All image references in content files point to `/images/...` paths\n- `documentation/.gitbook/` directory is deleted\n- `grep -r '.gitbook/' documentation/pages/` returns zero results\n- Images render correctly when viewing pages in the browser via `npm run dev`\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:44:34.862052+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:05:11.939424+13:00","closed_at":"2026-02-14T13:05:11.939425+13:00","dependencies":[{"issue_id":"docs-cij","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:44:34.864383+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-d4r","title":"Epic 8: Build Configuration and Vercel Deployment","description":"## Summary\nVerify the Next.js build pipeline works end-to-end, fix any build errors, and configure Vercel deployment for the documentation site.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`. All commands should be run from the `documentation/` directory.\n\nBy the time this epic runs, Epics 1-7 have:\n- Scaffolded the Next.js + Markdoc project (Epic 1)\n- Created custom Markdoc tags and React components (Epic 2)\n- Migrated all 17 content files to `pages/` (Epic 3)\n- Built the navigation and layout system (Epic 4)\n- Applied Stripe-inspired styling (Epic 5)\n- Moved images to `public/images/` (Epic 6)\n- Fixed all broken links (Epic 7)\n\n## Tasks\n\n### 1. Verify Local Development Server\n```bash\ncd documentation\nnpm run dev\n```\n- Open http://localhost:3000 in a browser\n- Navigate through ALL pages via the sidebar and verify:\n  - Pages load without console errors\n  - Images display correctly\n  - Tables render with proper styling\n  - Callout boxes display with colored left borders\n  - Column layouts work (side by side on desktop)\n  - Sidebar navigation highlights the current page\n  - Right-side table of contents shows headings\n  - Prev/next pagination links work\n- Fix any runtime errors or warnings\n\n### 2. Verify Production Build\n```bash\ncd documentation\nnpm run build\n```\n- Ensure the build completes with ZERO errors\n- Common issues to watch for:\n  - Missing component imports\n  - Invalid Markdoc tag syntax in .md files\n  - Broken internal links that cause 404s during static generation\n  - CSS module import errors\n- Fix any build-time errors before proceeding\n\n### 3. Test Production Server Locally\n```bash\ncd documentation\nnpm run start\n```\n- Verify the production build serves correctly at http://localhost:3000\n- Spot-check 3-5 pages for rendering issues\n- Verify images load (they should be in `public/images/`)\n\n### 4. Configure Static Export (if desired)\nFor pure static hosting, add `output: 'export'` to `next.config.js`:\n```js\nconst withMarkdoc = require('@markdoc/next.js');\nmodule.exports = withMarkdoc({ mode: 'static' })({\n  output: 'export',\n  pageExtensions: ['md', 'mdoc', 'js', 'jsx', 'ts', 'tsx']\n});\n```\nThen `npm run build` will output static files to the `out/` directory.\n\n### 5. Verify .gitignore\nEnsure `documentation/.gitignore` contains:\n```\nnode_modules/\n.next/\nout/\n```\n\n### 6. Prepare for Vercel Deployment\nCreate or verify that the project is ready for Vercel:\n- The `documentation/` directory should be self-contained with its own `package.json`\n- `npm run build` must succeed\n- The Vercel project settings should be:\n  - **Root Directory:** `documentation`\n  - **Framework Preset:** Next.js (auto-detected)\n  - **Build Command:** `npm run build` (or auto-detected)\n  - **Output Directory:** `.next` (or `out` if using static export)\n\nNote: Actually connecting the GitHub repo to Vercel and deploying is a manual step that requires Vercel account access. This epic should ensure the project is deployment-ready.\n\n## Acceptance Criteria\n- `npm run dev` starts without errors and all 17 pages render correctly\n- `npm run build` completes with zero errors\n- `npm run start` serves the production build correctly\n- `.gitignore` excludes `node_modules/`, `.next/`, `out/`\n- All pages, images, tables, callouts, columns, sidebar navigation, and pagination work correctly\n- The project is ready to be deployed to Vercel (self-contained `documentation/` directory with valid `package.json` and build scripts)\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:45:29.358726+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:19:10.831281+13:00","closed_at":"2026-02-14T13:19:10.831287+13:00","dependencies":[{"issue_id":"docs-d4r","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:45:29.360892+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:45:29.363352+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:45:29.364147+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:45:29.364846+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-yne","type":"blocks","created_at":"2026-02-13T13:45:29.365508+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-cij","type":"blocks","created_at":"2026-02-13T13:45:29.366168+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-d4r","depends_on_id":"docs-7b4","type":"blocks","created_at":"2026-02-13T13:45:29.366821+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq","title":"Epic 10: Stripe Design Language Refinements","description":"## Goal\n\nRefine the Hypercerts documentation site to match Stripe's documentation design language — not just CSS tokens but the full design language: layout patterns, content presentation, interaction design, and structural elements.\n\n## Context\n\nAll 9 migration epics are complete. The site builds and exports correctly. The current design has the right tokens (colors, fonts, spacing) but lacks the polish and interaction patterns that make Stripe docs feel premium:\n\n1. No custom scrollbar styling — browser defaults look chunky\n2. No heading anchor links — can't easily copy section links\n3. Content area is centered with `margin: 0 auto` — looks asymmetric with sidebar + TOC\n4. `\u003cstrong\u003e` / `\u003cb\u003e` needs darker color and weight 700\n5. Links use `text-decoration: underline` on hover — Stripe uses bottom-border approach\n6. First H2 has too much top margin after H1\n7. Header is too plain — just 'Hypercerts Protocol' text\n8. No smooth transitions on hover states\n9. Landing page lacks card-style navigation links\n10. No breadcrumb navigation\n\n## Acceptance Criteria\n\n- `npm run build --prefix documentation` exits 0\n- All 11 design refinements implemented\n- No regressions to existing content rendering\n- Site remains fully static-exportable\n\n## Technical Notes\n\n- Project uses Next.js 16 + @markdoc/next.js with `--webpack` flag\n- CSS is in `documentation/styles/globals.css` (654 lines)\n- Components in `documentation/components/`\n- Markdoc nodes in `documentation/markdoc/nodes/` (currently empty)\n- `documentation/pages/_app.js` registers Markdoc components","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:23:44.58559+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:10:10.597195+13:00","closed_at":"2026-02-14T20:10:10.597195+13:00","close_reason":"Closed"}
{"id":"docs-dfq.1","title":"Custom scrollbar styling for sidebar, TOC, and code blocks","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd custom thin scrollbar styling throughout the site, matching Stripe docs pattern:\n\n1. Add a global scrollbar utility section in globals.css after the Reset section (around line 9).\n\n2. **Sidebar scrollbar** (`.sidebar`): \n   - Width: 6px\n   - Track: transparent\n   - Thumb: `rgba(0,0,0,0.15)` with border-radius 3px\n   - Thumb on hover: `rgba(0,0,0,0.25)`\n   - Auto-hide behavior: set thumb to transparent by default, show on `.sidebar:hover` (use `::-webkit-scrollbar-thumb` with transition workaround)\n   - Firefox: `scrollbar-width: thin; scrollbar-color: transparent transparent;` by default, `scrollbar-color: rgba(0,0,0,0.15) transparent;` on hover\n\n3. **TOC scrollbar** (`.toc`):\n   - Same styling as sidebar\n\n4. **Code block scrollbar** (`.layout-content pre`):\n   - Horizontal scrollbar only (already has `overflow-x: auto`)\n   - Height: 6px\n   - Track: transparent  \n   - Thumb: `rgba(0,0,0,0.12)` with border-radius 3px\n   - Always visible when content overflows (no auto-hide needed)\n\n5. Use both `-webkit-scrollbar` (Chrome/Safari/Edge) and `scrollbar-width`/`scrollbar-color` (Firefox) properties.\n\n## CSS to add (insert after line 8, before Design Tokens):\n\n```css\n/* ===== Scrollbar Styling ===== */\n/* Webkit (Chrome, Safari, Edge) */\n.sidebar::-webkit-scrollbar,\n.toc::-webkit-scrollbar {\n  width: 6px;\n}\n\n.sidebar::-webkit-scrollbar-track,\n.toc::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.sidebar::-webkit-scrollbar-thumb,\n.toc::-webkit-scrollbar-thumb {\n  background: transparent;\n  border-radius: 3px;\n}\n\n.sidebar:hover::-webkit-scrollbar-thumb,\n.toc:hover::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.15);\n}\n\n.sidebar::-webkit-scrollbar-thumb:hover,\n.toc::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.25);\n}\n\n/* Code block horizontal scrollbar */\n.layout-content pre::-webkit-scrollbar {\n  height: 6px;\n}\n\n.layout-content pre::-webkit-scrollbar-track {\n  background: transparent;\n}\n\n.layout-content pre::-webkit-scrollbar-thumb {\n  background: rgba(0, 0, 0, 0.12);\n  border-radius: 3px;\n}\n\n.layout-content pre::-webkit-scrollbar-thumb:hover {\n  background: rgba(0, 0, 0, 0.2);\n}\n\n/* Firefox */\n.sidebar,\n.toc {\n  scrollbar-width: thin;\n  scrollbar-color: transparent transparent;\n}\n\n.sidebar:hover,\n.toc:hover {\n  scrollbar-color: rgba(0, 0, 0, 0.15) transparent;\n}\n\n.layout-content pre {\n  scrollbar-width: thin;\n  scrollbar-color: rgba(0, 0, 0, 0.12) transparent;\n}\n```\n\n## Edge cases\n- Do NOT remove or modify existing `overflow-y: auto` on `.sidebar` or `overflow-x: auto` on `.layout-content pre`\n- Do NOT add scrollbar styles to the main body/html element\n- The Firefox `scrollbar-color` properties on `.sidebar` and `.toc` must be added to the EXISTING rule blocks (merge with existing selectors), OR placed after them so they cascade correctly. Since `.sidebar` already has styles at line 162, add the Firefox properties there OR use the new scrollbar section with higher specificity.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Verify visually that scrollbar styles are present in the built CSS.\n\n## Dont\n- Do not modify any JavaScript files\n- Do not change any existing CSS properties — only ADD new scrollbar-related properties\n- Do not use JavaScript-based scrollbar libraries","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:20.195548+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:50.061126+13:00","closed_at":"2026-02-14T20:03:50.061126+13:00","close_reason":"Added custom scrollbar styling for sidebar, TOC, and code blocks. Build successful.","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.1","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:20.196559+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.2","title":"Heading anchor links on hover with Markdoc node override","description":"## Files\n- documentation/markdoc/nodes/heading.markdoc.js (create)\n- documentation/components/Heading.js (create)\n- documentation/pages/_app.js (modify)\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd clickable anchor links (#) that appear on hover next to H2 and H3 headings, matching Stripe docs pattern. This requires a Markdoc heading node override.\n\n### 1. Create `documentation/markdoc/nodes/heading.markdoc.js`\n\nThis file tells @markdoc/next.js to use a custom component for heading nodes:\n\n```js\nimport { nodes } from \"@markdoc/markdoc\";\n\nconst heading = {\n  ...nodes.heading,\n  render: \"Heading\",\n};\n\nexport default heading;\n```\n\n### 2. Create `documentation/components/Heading.js`\n\nThis React component renders headings with auto-generated IDs and hover anchor links:\n\n```jsx\nimport React from \"react\";\n\nfunction generateId(children) {\n  const text = React.Children.toArray(children)\n    .filter((child) =\u003e typeof child === \"string\")\n    .join(\"\");\n  return text\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/(^-|-$)/g, \"\");\n}\n\nexport function Heading({ level = 2, children, id }) {\n  const Tag = `h${level}`;\n  const headingId = id || generateId(children);\n\n  return (\n    \u003cTag id={headingId} className=\"heading-anchor-target\"\u003e\n      {children}\n      {(level === 2 || level === 3) \u0026\u0026 (\n        \u003ca\n          href={`#${headingId}`}\n          className=\"heading-anchor\"\n          aria-label={`Link to this section`}\n          onClick={(e) =\u003e {\n            e.preventDefault();\n            const el = document.getElementById(headingId);\n            if (el) {\n              el.scrollIntoView({ behavior: \"smooth\", block: \"start\" });\n              history.pushState(null, \"\", `#${headingId}`);\n            }\n          }}\n        \u003e\n          #\n        \u003c/a\u003e\n      )}\n    \u003c/Tag\u003e\n  );\n}\n```\n\n### 3. Modify `documentation/pages/_app.js`\n\nImport the Heading component and register it in the components object:\n\nAdd this import at the top:\n```js\nimport { Heading } from \"../components/Heading\";\n```\n\nAdd `Heading` to the components object:\n```js\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n  Heading,\n};\n```\n\n### 4. Add CSS to `documentation/styles/globals.css`\n\nAdd these styles in the Typography section (after the existing heading styles, around line 416):\n\n```css\n/* Heading anchor links */\n.heading-anchor-target {\n  position: relative;\n}\n\n.heading-anchor {\n  position: absolute;\n  left: -1.2em;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-text-secondary);\n  text-decoration: none;\n  font-weight: 400;\n  opacity: 0;\n  transition: opacity 0.15s ease;\n  font-size: 0.85em;\n}\n\n.heading-anchor:hover {\n  color: var(--color-link);\n  text-decoration: none;\n}\n\n.heading-anchor-target:hover .heading-anchor {\n  opacity: 1;\n}\n```\n\n## Edge cases\n- The `generateId` function must handle children that are React elements (not just strings). Use `React.Children.toArray` and filter for strings.\n- H1 headings should NOT get anchor links (only H2 and H3).\n- H4, H5, H6 should render normally without anchor links.\n- The heading ID generation must match the existing ID generation in `TableOfContents.js` (same algorithm: lowercase, replace non-alphanumeric with hyphens, trim hyphens). The TOC component reads IDs from the DOM, so as long as the Heading component sets `id` on the element, it will work.\n- The `id` prop may be passed by Markdoc if the markdown has `{% heading id=\"custom-id\" %}` — respect it if provided.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally verify:\n```bash\ngrep -r \"heading-anchor\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep -r \"Heading\" documentation/components/Heading.js \u0026\u0026 echo \"Component OK\"\ngrep -r \"heading\" documentation/markdoc/nodes/heading.markdoc.js \u0026\u0026 echo \"Node OK\"\ngrep \"Heading\" documentation/pages/_app.js \u0026\u0026 echo \"Registration OK\"\n```\nAll four greps must produce output.\n\n## Dont\n- Do not modify TableOfContents.js — it reads IDs from the DOM and will continue to work\n- Do not add anchor links to H1 headings\n- Do not use any external libraries\n- Do not change the heading ID generation algorithm (must remain compatible with TOC scroll spy)","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:42.488252+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:48.382557+13:00","closed_at":"2026-02-14T20:03:48.382557+13:00","close_reason":"219b041 Add heading anchor links on hover - implemented Markdoc heading node override with auto-generated IDs and hover anchor links for H2/H3","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.2","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:42.502369+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.3","title":"CSS typography and link refinements","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nRefine typography and link styles to match Stripe docs design language. All changes are CSS-only.\n\n### 1. Strong/bold text styling\nAdd after the existing heading styles (around line 416 area, or wherever heading styles end):\n\n```css\n/* Bold text */\n.layout-content strong,\n.layout-content b {\n  color: var(--color-text-heading);\n  font-weight: 600;\n}\n```\n\nNote: Use `font-weight: 600` (semibold) not 700 — Stripe uses 600 for inline bold to distinguish from heading weight.\n\n### 2. Link underline refinement\nReplace the existing `.layout-content a:hover` rule (currently at line 444-447) to use border-bottom instead of text-decoration:\n\nChange FROM:\n```css\n.layout-content a:hover {\n  color: var(--color-link-hover);\n  text-decoration: underline;\n}\n```\n\nChange TO:\n```css\n.layout-content a {\n  color: var(--color-link);\n  text-decoration: none;\n  border-bottom: 1px solid transparent;\n  transition: border-color 0.15s ease, color 0.15s ease;\n}\n\n.layout-content a:hover {\n  color: var(--color-link-hover);\n  text-decoration: none;\n  border-bottom-color: var(--color-link-hover);\n}\n```\n\nThis replaces the existing `.layout-content a` (line 439-442) and `.layout-content a:hover` (line 444-447) rules entirely.\n\n### 3. First H2 tighter spacing after H1\nAdd a rule that reduces the top margin of the first H2 that follows an H1:\n\n```css\n/* Tighter coupling between H1 and first H2 */\n.layout-content h1 + h2 {\n  margin-top: var(--space-6);\n}\n```\n\nThis overrides the default `margin-top: var(--space-12)` (48px) on H2 to `var(--space-6)` (24px) when it immediately follows an H1.\n\n### 4. Paragraph spacing refinement\nThe current paragraph bottom margin is `var(--space-4)` (16px). This is correct — do NOT change it. But add a rule for the last paragraph in an article to remove bottom margin:\n\n```css\n.layout-content article \u003e p:last-child {\n  margin-bottom: 0;\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ngrep \"layout-content strong\" documentation/styles/globals.css \u0026\u0026 echo \"Strong OK\"\ngrep \"border-bottom\" documentation/styles/globals.css \u0026\u0026 echo \"Link underline OK\"\ngrep \"h1 + h2\" documentation/styles/globals.css \u0026\u0026 echo \"H2 spacing OK\"\n```\nAll three greps must produce output.\n\n## Dont\n- Do not change font sizes or line heights on headings\n- Do not modify heading colors\n- Do not change the base link color (--color-link: #0570de)\n- Do not modify any JavaScript files\n- Do not remove the existing `a:hover` rule in the Base section (line 93-96) — only modify the `.layout-content a` rules","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:24:59.393717+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:02:45.90143+13:00","closed_at":"2026-02-14T20:02:45.90143+13:00","close_reason":"95604df CSS typography and link refinements","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.3","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:24:59.395087+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.4","title":"Fix content area layout - left-align instead of center","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area currently uses `margin: 0 auto` which centers it in the available space between sidebar and TOC. This looks asymmetric — the content should be left-aligned in its column with consistent padding, like Stripe docs.\n\n### Change the `.layout-content` rule (currently at line 266-272):\n\nChange FROM:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  margin: 0 auto;\n  padding: var(--space-8);\n}\n```\n\nChange TO:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-8) var(--space-10);\n}\n```\n\nKey changes:\n- Remove `margin: 0 auto` (was centering the content)\n- Change padding from `var(--space-8)` (32px all sides) to `var(--space-8) var(--space-10)` (32px top/bottom, 40px left/right)\n- The content will now sit left-aligned in the flex container, with the remaining space naturally pushing toward the TOC\n\n### Also update the mobile responsive rule (currently at line 639-641):\n\nChange FROM:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\nChange TO:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\n(No change needed for mobile — keep as-is.)\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Verify the built CSS does NOT contain `margin: 0 auto` for `.layout-content`.\n\n## Dont\n- Do not change `max-width: var(--content-max-width)` — keep the 720px max\n- Do not change `flex: 1` or `min-width: 0`\n- Do not modify the mobile responsive padding\n- Do not modify any JavaScript files","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:10.679561+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:19.531911+13:00","closed_at":"2026-02-14T20:03:19.531911+13:00","close_reason":"7ee8f5d Fix content area layout - left-align instead of center","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.4","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:10.681171+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.5","title":"Enhanced header with breadcrumbs and visual refinement","description":"## Files\n- documentation/components/Layout.js (modify)\n- documentation/components/Breadcrumbs.js (create)\n- documentation/styles/globals.css (modify)\n\n## What to do\nEnhance the header to be more visually refined like Stripe docs. Add breadcrumb navigation below the header, and improve the header visual treatment.\n\n### 1. Create `documentation/components/Breadcrumbs.js`\n\nA breadcrumb component that shows the current page location based on the navigation tree:\n\n```jsx\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport { navigation } from \"../lib/navigation\";\n\nfunction findBreadcrumbs(nav, targetPath, trail = []) {\n  for (const item of nav) {\n    if (item.section) {\n      const result = findBreadcrumbs(item.children || [], targetPath, [\n        ...trail,\n        { title: item.section },\n      ]);\n      if (result) return result;\n    } else {\n      if (item.path === targetPath) {\n        return [...trail, { title: item.title, path: item.path }];\n      }\n      if (item.children) {\n        const result = findBreadcrumbs(item.children, targetPath, [\n          ...trail,\n          { title: item.title, path: item.path },\n        ]);\n        if (result) return result;\n      }\n    }\n  }\n  return null;\n}\n\nexport function Breadcrumbs() {\n  const router = useRouter();\n  const currentPath = router.asPath.split(\"#\")[0].split(\"?\")[0];\n\n  // Dont show breadcrumbs on home page\n  if (currentPath === \"/\") return null;\n\n  const crumbs = findBreadcrumbs(navigation, currentPath) || [];\n\n  if (crumbs.length \u003c= 1) return null;\n\n  return (\n    \u003cnav className=\"breadcrumbs\" aria-label=\"Breadcrumb\"\u003e\n      \u003col className=\"breadcrumbs-list\"\u003e\n        \u003cli className=\"breadcrumbs-item\"\u003e\n          \u003cLink href=\"/\" className=\"breadcrumbs-link\"\u003e\n            Docs\n          \u003c/Link\u003e\n        \u003c/li\u003e\n        {crumbs.slice(0, -1).map((crumb, i) =\u003e (\n          \u003cli key={i} className=\"breadcrumbs-item\"\u003e\n            \u003cspan className=\"breadcrumbs-separator\"\u003e/\u003c/span\u003e\n            {crumb.path ? (\n              \u003cLink href={crumb.path} className=\"breadcrumbs-link\"\u003e\n                {crumb.title}\n              \u003c/Link\u003e\n            ) : (\n              \u003cspan className=\"breadcrumbs-text\"\u003e{crumb.title}\u003c/span\u003e\n            )}\n          \u003c/li\u003e\n        ))}\n        \u003cli className=\"breadcrumbs-item\"\u003e\n          \u003cspan className=\"breadcrumbs-separator\"\u003e/\u003c/span\u003e\n          \u003cspan className=\"breadcrumbs-current\"\u003e{crumbs[crumbs.length - 1].title}\u003c/span\u003e\n        \u003c/li\u003e\n      \u003c/ol\u003e\n    \u003c/nav\u003e\n  );\n}\n```\n\n### 2. Modify `documentation/components/Layout.js`\n\nAdd the Breadcrumbs component import and render it inside the `\u003cmain\u003e` element, before the `\u003carticle\u003e`:\n\nAdd import at top:\n```js\nimport { Breadcrumbs } from \"./Breadcrumbs\";\n```\n\nInside the JSX, change the `\u003cmain\u003e` section from:\n```jsx\n\u003cmain className=\"layout-content\"\u003e\n  \u003carticle\u003e{children}\u003c/article\u003e\n```\n\nTo:\n```jsx\n\u003cmain className=\"layout-content\"\u003e\n  \u003cBreadcrumbs /\u003e\n  \u003carticle\u003e{children}\u003c/article\u003e\n```\n\n### 3. Add CSS to `documentation/styles/globals.css`\n\nAdd a new section after the Header styles (after line ~153) for breadcrumbs:\n\n```css\n/* ===== Breadcrumbs ===== */\n.breadcrumbs {\n  margin-bottom: var(--space-4);\n}\n\n.breadcrumbs-list {\n  display: flex;\n  align-items: center;\n  flex-wrap: wrap;\n  list-style: none;\n  padding: 0;\n  margin: 0;\n  font-size: 13px;\n  line-height: 1.4;\n}\n\n.breadcrumbs-item {\n  display: flex;\n  align-items: center;\n}\n\n.breadcrumbs-separator {\n  margin: 0 6px;\n  color: var(--color-text-secondary);\n  font-size: 12px;\n}\n\n.breadcrumbs-link {\n  color: var(--color-text-secondary);\n  text-decoration: none;\n  transition: color 0.15s ease;\n}\n\n.breadcrumbs-link:hover {\n  color: var(--color-link);\n  text-decoration: none;\n}\n\n.breadcrumbs-text {\n  color: var(--color-text-secondary);\n}\n\n.breadcrumbs-current {\n  color: var(--color-text-primary);\n  font-weight: 500;\n}\n```\n\nAlso enhance the header visual treatment. Add a subtle backdrop blur to the header. Modify the existing `.layout-header` rule (line 110-117):\n\nChange FROM:\n```css\n.layout-header {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  height: var(--header-height);\n  background: var(--color-bg);\n  border-bottom: 1px solid var(--color-border);\n}\n```\n\nChange TO:\n```css\n.layout-header {\n  position: sticky;\n  top: 0;\n  z-index: 100;\n  height: var(--header-height);\n  background: rgba(255, 255, 255, 0.95);\n  backdrop-filter: blur(8px);\n  -webkit-backdrop-filter: blur(8px);\n  border-bottom: 1px solid var(--color-border);\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ntest -f documentation/components/Breadcrumbs.js \u0026\u0026 echo \"Breadcrumbs component OK\"\ngrep \"Breadcrumbs\" documentation/components/Layout.js \u0026\u0026 echo \"Layout import OK\"\ngrep \"breadcrumbs\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep \"backdrop-filter\" documentation/styles/globals.css \u0026\u0026 echo \"Header blur OK\"\n```\nAll four checks must pass.\n\n## Dont\n- Do not modify the header height or padding\n- Do not add a search bar (out of scope for this task)\n- Do not modify navigation.js\n- Do not modify Sidebar.js or TableOfContents.js\n- Do not change the logo text or link","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:33.805204+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:55.98582+13:00","closed_at":"2026-02-14T20:03:55.98582+13:00","close_reason":"77ec8dc Enhanced header with breadcrumbs and visual refinement","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.5","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:33.806485+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.6","title":"Transition and hover state polish","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd smooth transitions and refined hover states throughout the site, matching Stripe docs interaction patterns. All changes are CSS-only.\n\n### 1. Global transition timing\nAdd a CSS custom property for the standard transition in the `:root` design tokens section (around line 69, before the closing `}`):\n\n```css\n  --transition-fast: 150ms ease;\n  --transition-normal: 200ms cubic-bezier(0, 0.09, 0.4, 1);\n```\n\n### 2. Sidebar link transitions\nUpdate the existing `.sidebar-link` rule (line ~214-225). Add/modify the transition property:\n\nChange FROM:\n```css\n  transition: background 0.1s ease;\n```\n\nChange TO:\n```css\n  transition: background var(--transition-fast), color var(--transition-fast);\n```\n\n### 3. Sidebar active indicator\nAdd a left border indicator for the active sidebar link. Modify `.sidebar-link-active` (line ~233-237):\n\nChange FROM:\n```css\n.sidebar-link-active {\n  font-weight: 600;\n  color: var(--color-text-title);\n  background: var(--hover-bg);\n}\n```\n\nChange TO:\n```css\n.sidebar-link-active {\n  font-weight: 600;\n  color: var(--color-link);\n  background: var(--active-bg);\n  border-left: 2px solid var(--color-link);\n  padding-left: calc(var(--space-3) - 2px);\n}\n```\n\nAlso update `a.sidebar-link-active:hover` (line ~239-242):\n\nChange FROM:\n```css\na.sidebar-link-active:hover {\n  background: var(--hover-bg);\n  color: var(--color-text-title);\n}\n```\n\nChange TO:\n```css\na.sidebar-link-active:hover {\n  background: var(--active-bg);\n  color: var(--color-link);\n}\n```\n\n### 4. Pagination hover enhancement\nUpdate the `.pagination-link` transition (line ~354):\n\nChange FROM:\n```css\n  transition: border-color 0.15s ease, box-shadow 0.15s ease;\n```\n\nChange TO:\n```css\n  transition: border-color var(--transition-normal), box-shadow var(--transition-normal), transform var(--transition-normal);\n```\n\nAdd a subtle lift on hover. Update `.pagination-link:hover` (line ~357-361):\n\nChange FROM:\n```css\n.pagination-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 1px 4px rgba(5, 112, 222, 0.08);\n  text-decoration: none;\n}\n```\n\nChange TO:\n```css\n.pagination-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 2px 8px rgba(5, 112, 222, 0.12);\n  text-decoration: none;\n  transform: translateY(-1px);\n}\n```\n\n### 5. TOC link transitions\nUpdate the `.toc-link` transition (line ~315):\n\nChange FROM:\n```css\n  transition: color 0.15s ease, border-color 0.15s ease;\n```\n\nChange TO:\n```css\n  transition: color var(--transition-fast), border-color var(--transition-fast);\n```\n\n### 6. Callout subtle left border animation\nAdd a transition to callout on hover:\n\n```css\n.callout {\n  transition: box-shadow var(--transition-normal);\n}\n\n.callout:hover {\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.04);\n}\n```\n\nAdd these rules after the existing `.callout` rule (line ~533-537). Do NOT modify the existing `.callout` rule — add the transition property to a NEW `.callout` rule block that will merge via cascade, OR add the `transition` property directly into the existing `.callout` block.\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ngrep \"transition-fast\" documentation/styles/globals.css \u0026\u0026 echo \"Tokens OK\"\ngrep \"transition-normal\" documentation/styles/globals.css \u0026\u0026 echo \"Tokens OK\"\ngrep \"translateY\" documentation/styles/globals.css \u0026\u0026 echo \"Pagination lift OK\"\ngrep \"border-left.*solid.*color-link\" documentation/styles/globals.css \u0026\u0026 echo \"Active indicator OK\"\n```\nAll four checks must pass.\n\n## Dont\n- Do not add page transition animations (route changes) — that requires JavaScript\n- Do not modify any JavaScript files\n- Do not change colors or font sizes\n- Do not add animation keyframes — only use CSS transitions\n- Do not modify the mobile responsive section","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:25:54.998064+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:03:35.256599+13:00","closed_at":"2026-02-14T20:03:35.256599+13:00","close_reason":"Implemented all transition and hover state polish: added transition timing variables, updated sidebar/TOC/pagination transitions, added active indicator with border-left, and callout hover effects","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.6","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:25:54.998941+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.7","title":"Landing page card-style navigation links","description":"## Files\n- documentation/pages/index.md (modify)\n- documentation/components/CardLink.js (create)\n- documentation/markdoc/tags/card-link.markdoc.js (create)\n- documentation/pages/_app.js (modify)\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd card-style navigation links to the landing page, similar to Stripe docs landing pages that have categorized link cards with titles, descriptions, and hover effects.\n\n### 1. Create `documentation/components/CardLink.js`\n\nA card component for navigation links:\n\n```jsx\nimport Link from \"next/link\";\n\nexport function CardLink({ title, href, children }) {\n  return (\n    \u003cLink href={href} className=\"card-link\"\u003e\n      \u003cspan className=\"card-link-title\"\u003e{title}\u003c/span\u003e\n      {children \u0026\u0026 \u003cspan className=\"card-link-desc\"\u003e{children}\u003c/span\u003e}\n      \u003cspan className=\"card-link-arrow\"\u003e→\u003c/span\u003e\n    \u003c/Link\u003e\n  );\n}\n```\n\n### 2. Create `documentation/markdoc/tags/card-link.markdoc.js`\n\nRegister the CardLink as a Markdoc tag:\n\n```js\nexport default {\n  render: \"CardLink\",\n  attributes: {\n    title: { type: String, required: true },\n    href: { type: String, required: true },\n  },\n};\n```\n\n### 3. Modify `documentation/pages/_app.js`\n\nAdd import and register:\n\n```js\nimport { CardLink } from \"../components/CardLink\";\n```\n\nAdd to components object:\n```js\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n  Heading,  // (if heading task is done, otherwise omit)\n  CardLink,\n};\n```\n\n**IMPORTANT**: The components object may already contain `Heading` if task docs-dfq.2 was completed first. If `Heading` is already there, keep it. If not, do NOT add it — only add `CardLink`.\n\n### 4. Add CSS to `documentation/styles/globals.css`\n\nAdd a new section after the Figure component styles (around line ~597):\n\n```css\n/* ===== Component: CardLink ===== */\n.card-link {\n  display: block;\n  padding: var(--space-4) var(--space-5);\n  border: 1px solid var(--color-border);\n  border-radius: var(--radius-lg);\n  text-decoration: none;\n  transition: border-color 0.2s ease, box-shadow 0.2s ease, transform 0.2s ease;\n  position: relative;\n  margin-bottom: var(--space-3);\n}\n\n.card-link:hover {\n  border-color: var(--color-link);\n  box-shadow: 0 2px 8px rgba(5, 112, 222, 0.1);\n  text-decoration: none;\n  transform: translateY(-1px);\n}\n\n.card-link-title {\n  display: block;\n  font-size: 15px;\n  font-weight: 600;\n  color: var(--color-link);\n  margin-bottom: var(--space-1);\n}\n\n.card-link-desc {\n  display: block;\n  font-size: 14px;\n  color: var(--color-text-secondary);\n  line-height: 1.5;\n}\n\n.card-link-arrow {\n  position: absolute;\n  right: var(--space-4);\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--color-link);\n  font-size: 16px;\n  opacity: 0;\n  transition: opacity 0.15s ease, transform 0.15s ease;\n}\n\n.card-link:hover .card-link-arrow {\n  opacity: 1;\n  transform: translateY(-50%) translateX(2px);\n}\n```\n\n### 5. Modify `documentation/pages/index.md`\n\nAdd a \"Quick Start\" section with card links after the existing content. Append to the end of the file:\n\n```markdown\n\n## Quick Start\n\n{% card-link title=\"Why We're Building Hypercerts\" href=\"/getting-started/why-were-building-hypercerts\" %}\nUnderstand the motivation behind the hypercerts protocol\n{% /card-link %}\n\n{% card-link title=\"Introduction to Impact Claims\" href=\"/getting-started/introduction-to-impact-claims\" %}\nLearn about impact claims and how they work\n{% /card-link %}\n\n{% card-link title=\"The Hypercerts Infrastructure\" href=\"/getting-started/the-hypercerts-infrastructure\" %}\nExplore the technical architecture\n{% /card-link %}\n\n{% card-link title=\"Introduction to Lexicons\" href=\"/lexicons/introduction-to-lexicons\" %}\nUnderstand the data schemas that power hypercerts\n{% /card-link %}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0. Additionally:\n```bash\ntest -f documentation/components/CardLink.js \u0026\u0026 echo \"Component OK\"\ntest -f documentation/markdoc/tags/card-link.markdoc.js \u0026\u0026 echo \"Tag OK\"\ngrep \"CardLink\" documentation/pages/_app.js \u0026\u0026 echo \"Registration OK\"\ngrep \"card-link\" documentation/styles/globals.css \u0026\u0026 echo \"CSS OK\"\ngrep \"card-link\" documentation/pages/index.md \u0026\u0026 echo \"Content OK\"\n```\nAll five checks must pass.\n\n## Dont\n- Do not modify existing content on the landing page — only append new content\n- Do not remove the existing columns/figures layout\n- Do not use any external icon libraries\n- Do not modify navigation.js\n- Do not add more than 4 card links","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:26:17.319286+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:07:08.03882+13:00","closed_at":"2026-02-14T20:07:08.03882+13:00","close_reason":"9969a9b Landing page card-style navigation links","labels":["scope:small"],"dependencies":[{"issue_id":"docs-dfq.7","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:26:17.320306+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-dfq.8","title":"Integration: verify all refinements build and render correctly","description":"## Files\n- (no files to create/modify — verification only)\n\n## What to do\nAfter all other tasks in Epic 10 are complete, verify the full integration:\n\n1. Run `cd documentation \u0026\u0026 npm run build` — must exit 0 with no errors\n2. Verify all 17 pages are in the static export\n3. Spot-check that no CSS conflicts exist between the various refinements\n4. Verify the landing page renders with card links\n5. Verify breadcrumbs appear on non-home pages\n\n## Test\n```bash\ncd documentation \u0026\u0026 npm run build 2\u003e\u00261 | grep -c \"●\" | xargs test 17 -eq\n```\nMust show exactly 17 SSG pages.\n\n```bash\ncd documentation \u0026\u0026 npm run build\n```\nMust exit 0.\n\n## Dont\n- Do not modify any files\n- This is a verification-only task","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T14:26:25.677169+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T20:10:10.53275+13:00","closed_at":"2026-02-14T20:10:10.53275+13:00","close_reason":"Closed","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq","type":"parent-child","created_at":"2026-02-14T14:26:25.678222+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.1","type":"blocks","created_at":"2026-02-14T14:26:31.650675+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.2","type":"blocks","created_at":"2026-02-14T14:26:31.749901+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.3","type":"blocks","created_at":"2026-02-14T14:26:31.849858+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.4","type":"blocks","created_at":"2026-02-14T14:26:31.950473+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.5","type":"blocks","created_at":"2026-02-14T14:26:32.047374+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.6","type":"blocks","created_at":"2026-02-14T14:26:32.141096+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-dfq.8","depends_on_id":"docs-dfq.7","type":"blocks","created_at":"2026-02-14T14:26:32.236529+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-jss","title":"Epic: Add project-level README.md and DEVELOPMENT.md","description":"The documentation project lacks the standard project-level README.md and DEVELOPMENT.md files that our other repos (like hypercerts-scaffold-atproto) have. This epic adds both files following the same structure and style: comprehensive README with quick start, prerequisites, project structure, architecture; and DEVELOPMENT.md with local dev workflow, content authoring guide, Markdoc conventions, contributing, and troubleshooting. Success: a new contributor can clone the repo, run the docs site locally, and add a new page — all by reading README + DEVELOPMENT only.","status":"closed","priority":2,"issue_type":"epic","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","created_at":"2026-02-20T18:12:19.646036+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:14:51.247295+08:00","closed_at":"2026-02-20T18:14:51.247299+08:00","labels":["scope:medium"]}
{"id":"docs-jss.1","title":"Create README.md at project root","description":"## Files\n- README.md (create)\n\n## What to do\nCreate a comprehensive README.md at the repo root following the structure and style of hypercerts-scaffold-atproto/README.md. The file must include these sections in order:\n\n1. **Title \u0026 description** — \"Hypercerts Documentation\" heading. One paragraph: this is the official documentation site for the Hypercerts protocol, built with Next.js and Markdoc, deployed on Vercel.\n\n2. **Prerequisites** — Node.js 20+, npm (not pnpm — the project uses npm per vercel.json and package-lock.json).\n\n3. **Quick Start** — Clone, cd documentation/documentation, npm install, npm run dev. Note the nested directory structure (the actual Next.js app lives in documentation/documentation/).\n\n4. **Project Structure** — ASCII tree showing:\n```\n├── documentation/          # Next.js documentation site\n│   ├── components/         # React components (Layout, Sidebar, CodeBlock, etc.)\n│   ├── lib/                # Navigation config and helpers\n│   ├── markdoc/            # Markdoc tag and node definitions\n│   │   ├── nodes/          # Custom node renderers (fence, heading)\n│   │   └── tags/           # Custom tags (callout, card-link, columns, figure)\n│   ├── pages/              # Documentation content (.md files)\n│   │   ├── architecture/\n│   │   ├── core-concepts/\n│   │   ├── ecosystem/\n│   │   ├── getting-started/\n│   │   ├── lexicons/\n│   │   ├── reference/\n│   │   └── tools/\n│   ├── public/             # Static assets\n│   └── styles/             # CSS\n├── heartbeads-agents/      # (reserved)\n├── AGENTS.md               # Agent workflow instructions\n└── .beads/                 # Issue tracking\n```\n\n5. **Content Sections** — Table listing the 7 doc sections (Get Started, Core Concepts, Tools, Architecture, Reference/Lexicons, Ecosystem \u0026 Vision) with one-line descriptions, matching the style of the scaffold README tables.\n\n6. **Deployment** — State that the site is deployed on Vercel. The build command is `next build --webpack`, install command is `npm install`. Static export via `output: \"export\"` in next.config.js.\n\n7. **Learn More** — Links to: Hypercerts website (https://hypercerts.org), ATProto docs (https://atproto.com/docs), Markdoc docs (https://markdoc.dev), Next.js docs (https://nextjs.org/docs), DEVELOPMENT.md for contributor guide.\n\n## Don't\n- Do NOT mention pnpm — this project uses npm\n- Do NOT include any authentication, OAuth, or SDK content (this is a docs site, not an application)\n- Do NOT copy scaffold-specific sections (environment variables, Redis, JWK keys, etc.)\n- Do NOT add a License section (there is none currently)\n- Keep it under 150 lines","acceptance_criteria":"1. README.md exists at /Users/david/Projects/gainforest/documentation/README.md\n2. Contains all 7 sections listed in spec: title, prerequisites, quick start, project structure, content sections, deployment, learn more\n3. Quick Start instructions work: cd documentation/documentation \u0026\u0026 npm install \u0026\u0026 npm run dev starts the dev server\n4. References npm (not pnpm) throughout\n5. Project structure ASCII tree accurately reflects actual directory layout\n6. No scaffold-specific content (no Redis, OAuth, JWK, SDK references)\n7. File is under 150 lines\n8. All links in Learn More section are valid URLs","status":"closed","priority":2,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":30,"created_at":"2026-02-20T18:12:47.807873+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:14:51.095793+08:00","closed_at":"2026-02-20T18:14:51.095815+08:00","labels":["scope:small"],"dependencies":[{"issue_id":"docs-jss.1","depends_on_id":"docs-jss","type":"parent-child","created_at":"2026-02-20T18:12:47.809207+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-jss.2","title":"Create DEVELOPMENT.md at project root","description":"## Files\n- DEVELOPMENT.md (create)\n\n## What to do\nCreate a comprehensive DEVELOPMENT.md at the repo root following the structure and style of hypercerts-scaffold-atproto/DEVELOPMENT.md. The file must include these sections in order:\n\n1. **Local Development Workflow** heading, then:\n   - **Prerequisites** — Node.js 20+, npm, Git\n   - **First-time Setup** — Step-by-step: clone, cd documentation/documentation, npm install, npm run dev, open http://localhost:3000. Note the nested directory structure.\n   - **Daily Development** — Just `npm run dev` in the documentation/documentation/ directory.\n   - **Build for production** — `npm run build` (produces static export in `out/` directory).\n\n2. **Adding Documentation Pages** — This is the content authoring guide:\n   - Explain that pages are Markdoc files (.md) in `documentation/pages/`\n   - File location determines URL path (e.g., `pages/getting-started/quickstart.md` → `/getting-started/quickstart`)\n   - Every page needs YAML frontmatter with `title` (required) and `description` (optional)\n   - Show a template:\n     ```markdown\n     ---\n     title: Page Title\n     description: One-line description.\n     ---\n\n     # Page Title\n\n     Content goes here.\n     ```\n   - After creating a page, add it to the navigation in `documentation/lib/navigation.js`\n   - Explain navigation.js structure briefly: top-level items have `title` + `path`, sections have `section` + `children` array, nesting is supported\n\n3. **Markdoc Custom Tags** — List available custom tags with usage examples:\n   - `{% callout type=\"note|warning|caution\" %}...{% /callout %}` — callout boxes\n   - `{% card-link title=\"...\" href=\"...\" %}...{% /card-link %}` — linked cards\n   - `{% columns %}{% column %}...{% /column %}{% column %}...{% /column %}{% /columns %}` — multi-column layout\n   - `{% figure src=\"...\" alt=\"...\" caption=\"...\" /%}` — images with captions\n\n4. **Project Architecture** — Brief explanation:\n   - Next.js with Markdoc plugin for static site generation\n   - `output: \"export\"` produces fully static HTML (no server needed)\n   - `pageExtensions: [\"md\", \"mdoc\", \"js\", \"jsx\", \"ts\", \"tsx\"]` — Markdoc files are treated as pages\n   - Components in `components/` provide the layout shell (Layout.js), sidebar navigation (Sidebar.js), syntax highlighting (CodeBlock.js), breadcrumbs, etc.\n\n5. **Troubleshooting** — Common issues:\n   - \"Module not found\" → run `npm install`\n   - Page not appearing in sidebar → check navigation.js\n   - Markdoc syntax errors → check tag matching ({% tag %}...{% /tag %})\n   - Build fails → ensure Node.js 20+\n\n6. **Contributing** — Follow the same structure as the scaffold:\n   - Fork, branch, make changes, test with `npm run build`, open PR\n   - Content PRs: new/updated .md files + navigation.js update\n   - Component PRs: test visually with `npm run dev`\n\n## Don't\n- Do NOT mention pnpm — this project uses npm\n- Do NOT include SDK, OAuth, Redis, or application-specific content\n- Do NOT copy the \"Updating the Vendor SDK Package\" section from the scaffold\n- Do NOT invent Markdoc tags that do not exist in the markdoc/tags/ directory — only document callout, card-link, columns/column, and figure\n- Keep it under 250 lines","acceptance_criteria":"1. DEVELOPMENT.md exists at /Users/david/Projects/gainforest/documentation/DEVELOPMENT.md\n2. Contains all 6 sections: local dev workflow, adding pages, markdoc custom tags, project architecture, troubleshooting, contributing\n3. First-time setup instructions work: cd documentation/documentation \u0026\u0026 npm install \u0026\u0026 npm run dev\n4. Markdoc tags documented match exactly what exists in documentation/markdoc/tags/: callout, card-link, columns/column, figure (no extras, no missing)\n5. Navigation.js path is correctly referenced as documentation/lib/navigation.js\n6. References npm (not pnpm) throughout\n7. Frontmatter template shows title (required) and description (optional)\n8. File is under 250 lines\n9. No SDK, OAuth, Redis, or application-specific content","status":"closed","priority":2,"issue_type":"task","assignee":"einstein.climateai.org","owner":"einstein.climateai.org","estimated_minutes":45,"created_at":"2026-02-20T18:13:19.095143+08:00","created_by":"einstein.climateai.org","updated_at":"2026-02-20T18:14:51.173268+08:00","closed_at":"2026-02-20T18:14:51.173274+08:00","labels":["scope:small"],"dependencies":[{"issue_id":"docs-jss.2","depends_on_id":"docs-jss","type":"parent-child","created_at":"2026-02-20T18:13:19.096301+08:00","created_by":"einstein.climateai.org"}]}
{"id":"docs-l7r","title":"Epic: Ecosystem, Community \u0026 Reference Materials","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:56.489643+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:20.711096+13:00","closed_at":"2026-02-15T01:08:20.711096+13:00","close_reason":"All children complete: l7r.1 (glossary + FAQ), l7r.2 (building on hypercerts)"}
{"id":"docs-l7r.1","title":"Write 'Glossary' and 'FAQ' reference pages","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe has inline glossary definitions throughout and extensive support articles. Hypercerts uses many domain-specific terms (DID, PDS, lexicon, work scope, strong reference, etc.) but never defines them in one place. This task creates two pages.\n\n## Files\n- documentation/pages/reference/glossary.md (create)\n- documentation/pages/reference/faq.md (create)\n- documentation/lib/navigation.js (modify — add entries under Reference section)\n\n## What to do\n\n### 1. Create the Glossary page\n\nCreate `documentation/pages/reference/glossary.md` (80–120 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Glossary\ndescription: Key terms and definitions used in the Hypercerts Protocol.\n---\n```\n\nDefine these terms (alphabetical order), each as `#### Term` followed by 1-3 sentence definition:\n\n- **Activity Claim** — The central record in the hypercerts data model. Describes who did what, when, and where. Lexicon: `org.hypercerts.claim.activity`.\n- **AT Protocol (ATProto)** — A decentralized social data protocol. The data layer for Hypercerts. Provides portable identity, shared schemas, and federation.\n- **CID** — Content Identifier. A cryptographic hash of a record's content, used in strong references to ensure tamper-evidence.\n- **Collection** — A group of hypercerts with a shared property, where each claim has a weight. Lexicon: `org.hypercerts.claim.collection`.\n- **Contribution** — A record describing a specific contributor's role in an activity claim. Lexicon: `org.hypercerts.claim.contribution`.\n- **DID (Decentralized Identifier)** — A persistent, cryptographically verifiable identifier for a person or organization. Format: `did:plc:...` or `did:web:...`.\n- **Evaluation** — A third-party assessment of a hypercert or other claim. Created on the evaluator's own PDS. Lexicon: `org.hypercerts.claim.evaluation`.\n- **Evidence** — A piece of supporting documentation attached to a hypercert. Can be a URI or uploaded blob. Lexicon: `org.hypercerts.claim.evidence`.\n- **Hypercert** — A structured digital record of a contribution: who did what, when, where, and with what evidence. The core primitive of the protocol.\n- **Indexer (App View)** — A service that reads from relays and builds queryable views of hypercert data across many PDS instances.\n- **Lexicon** — An ATProto schema definition that specifies the structure of a record type. Like a form template with required and optional fields.\n- **Measurement** — A quantitative observation attached to a claim. Lexicon: `org.hypercerts.claim.measurement`.\n- **PDS (Personal Data Server)** — A server that stores a user's ATProto data. Users can self-host or use a provider.\n- **Relay** — An ATProto service that aggregates data from many PDS instances and streams it to indexers.\n- **Rights** — A record describing what rights a holder has to a hypercert (display, transfer, etc.). Lexicon: `org.hypercerts.claim.rights`.\n- **SDS (Shared Data Server)** — Like a PDS but for organizations. Multiple users can write to the same repository.\n- **Strong Reference** — An ATProto reference that includes both the AT URI and CID of the target record, ensuring the reference is tamper-evident.\n- **Work Scope** — The \"what\" dimension of a hypercert, defined using logical operators (allOf, anyOf, noneOf) to precisely bound the work being claimed.\n- **XRPC** — The RPC protocol used by ATProto for client-server communication.\n\n### 2. Create the FAQ page\n\nCreate `documentation/pages/reference/faq.md` (80–120 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Frequently Asked Questions\ndescription: Common questions about the Hypercerts Protocol.\n---\n```\n\nAnswer these questions (use `##` for each question, 2-4 sentences per answer):\n\n1. **What is a hypercert?** — A structured digital record of a contribution. It captures who did what, when, where, and with what evidence.\n2. **How is this different from the previous (EVM-based) Hypercerts?** — The new protocol is built on AT Protocol instead of purely on-chain. This gives data portability, richer schemas, and lower costs, while still using blockchain for ownership and funding.\n3. **Do I need a blockchain wallet?** — Not to create or evaluate hypercerts. You need an ATProto account (DID). A wallet is only needed if you want to tokenize or fund hypercerts on-chain.\n4. **Is my data public?** — Yes. All ATProto records are public by default. Do not store sensitive personal information in hypercert records.\n5. **Can I delete a hypercert?** — You can delete records from your PDS. However, cached copies may persist in indexers and relays.\n6. **Who can evaluate my hypercert?** — Anyone with an ATProto account. Evaluations are separate records on the evaluator's PDS, linked via strong references.\n7. **How do I fund a hypercert?** — Funding happens on-chain through tokenized ownership. The specific mechanisms depend on the platform you use.\n8. **Can I use my Bluesky account?** — Yes. Bluesky accounts are ATProto accounts. Your existing DID works with Hypercerts.\n9. **What chains are supported?** — The protocol is chain-agnostic for the ownership layer. Specific chain support depends on the implementation.\n10. **How do I get help?** — Link to GitHub repository, community channels (use placeholder URLs with a callout).\n\n### 3. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Glossary', path: '/reference/glossary' },\n{ title: 'FAQ', path: '/reference/faq' },\n```\nIf the Reference section does not yet exist, create it after Architecture.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent features or capabilities not described in the existing documentation.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:54:01.702733+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:06:09.77014+13:00","closed_at":"2026-02-15T01:06:09.77014+13:00","close_reason":"Created Glossary and FAQ reference pages with proper navigation","dependencies":[{"issue_id":"docs-l7r.1","depends_on_id":"docs-l7r","type":"parent-child","created_at":"2026-02-14T20:54:01.704171+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":10,"issue_id":"docs-l7r.1","author":"Sharfy Adamantine","text":"NAV UPDATE: Add under 'Reference' section. Full nav order: Get Started → Core Concepts → Architecture → Lexicons → Tutorials → Reference.","created_at":"2026-02-14T11:25:02Z"},{"id":11,"issue_id":"docs-l7r.1","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — concise definitions, scannable. No preamble, no link dumps. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). NAV PLACEMENT: Add under Reference section AFTER 'Tutorials'.","created_at":"2026-02-14T11:58:22Z"}]}
{"id":"docs-l7r.2","title":"Write 'Building on Hypercerts' ecosystem guide page","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Stripe Apps\" and \"Partners\" pages — guides for third parties who want to build on the platform. The hypercerts \"Why\" page mentions that the protocol is designed for many platforms to build on, but there is no guide for platform builders.\n\n## Files\n- documentation/pages/reference/building-on-hypercerts.md (create)\n- documentation/lib/navigation.js (modify — add entry under Reference section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/building-on-hypercerts.md` (100–150 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Building on Hypercerts\ndescription: A guide for platforms and tools that want to integrate the Hypercerts Protocol.\n---\n```\n\n**Sections:**\n\n1. **Who This Is For** — Platform builders, funding tool developers, evaluation services, dashboards, and anyone building applications that read or write hypercert data.\n\n2. **What You Can Build** — Categories of applications:\n   - **Funding Platforms**: Crowdfunding, retroactive funding, milestone-based payouts using tokenized hypercerts\n   - **Evaluation Tools**: Services that help domain experts create structured evaluations\n   - **Dashboards \u0026 Explorers**: Interfaces that aggregate and display hypercerts across the ecosystem\n   - **Impact Portfolios**: Tools that let funders track their portfolio of funded contributions\n   - **Automated Agents**: AI systems that create measurements, flag inconsistencies, or assist evaluators\n\n3. **Integration Patterns** — How to integrate:\n   - **Read-only**: Query an indexer to display hypercerts (simplest). No PDS needed.\n   - **Write via user PDS**: Your app authenticates users via OAuth and writes records to their PDS on their behalf.\n   - **Write via platform SDS**: Your platform runs its own Shared Data Server and creates records under its own DID.\n   - For each pattern, provide 3-4 sentences explaining when to use it and a brief code sketch.\n\n4. **Running an Indexer** — Brief overview:\n   - Subscribe to the relay firehose for hypercert lexicon records\n   - Build a queryable database (PostgreSQL, etc.)\n   - Expose an API for your application\n   - Note: link to ATProto docs for relay subscription details\n\n5. **Interoperability Principles** — What makes the ecosystem work:\n   - Use standard lexicons — do not create custom record types for data that fits existing schemas\n   - Use strong references — always include CID for tamper-evidence\n   - Respect data ownership — records belong to the DID that created them\n   - Build for federation — do not assume all data lives on one PDS\n\n6. **Contributing to the Protocol** — How to propose changes:\n   - Lexicon evolution process (propose → discuss → implement)\n   - Link to GitHub repository (placeholder URL with callout)\n   - How to contribute to the SDK\n\n### 2. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Building on Hypercerts', path: '/reference/building-on-hypercerts' },\n```\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent specific indexer APIs or relay endpoints.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:54:24.391792+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:05:12.774851+13:00","closed_at":"2026-02-15T01:05:12.774851+13:00","close_reason":"Created Building on Hypercerts guide page with integration patterns, interoperability principles, and contribution guidelines. Build passes.","dependencies":[{"issue_id":"docs-l7r.2","depends_on_id":"docs-l7r","type":"parent-child","created_at":"2026-02-14T20:54:24.393036+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":12,"issue_id":"docs-l7r.2","author":"Sharfy Adamantine","text":"NAV UPDATE: Add under 'Reference' section. Full nav order: Get Started → Core Concepts → Architecture → Lexicons → Tutorials → Reference.","created_at":"2026-02-14T11:25:03Z"},{"id":13,"issue_id":"docs-l7r.2","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, capability bullet list, code-first, short paragraphs, no preamble, no link dumps. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). NAV PLACEMENT: Add under Reference section AFTER 'Tutorials'.","created_at":"2026-02-14T11:58:23Z"}]}
{"id":"docs-nuw","title":"Epic: Architecture \u0026 Infrastructure Deep Dives","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:44.339166+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:17.134655+13:00","closed_at":"2026-02-15T01:08:17.134655+13:00","close_reason":"All children complete: nuw.1 (architecture overview), nuw.2 (data flow \u0026 lifecycle)"}
{"id":"docs-nuw.1","title":"Write 'Architecture Overview' page with system diagram","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"How Stripe works\" — a high-level architecture page showing all the pieces and how they connect. The hypercerts docs currently describe architecture scattered across the \"Why\" page but have no dedicated architecture overview.\n\n## Files\n- documentation/pages/architecture/overview.md (create)\n- documentation/lib/navigation.js (modify — add new \"Architecture\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/architecture/overview.md` (150–220 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Architecture Overview\ndescription: How the Hypercerts Protocol stack fits together.\n---\n```\n\n**Sections:**\n\n1. **The Hypercerts Stack** — High-level overview (3-4 paragraphs). The protocol has three layers:\n   - **Application Layer** — Platforms, dashboards, funding tools that users interact with\n   - **Data Layer (AT Protocol)** — Where claims, evidence, evaluations live. Includes PDS/SDS, lexicons, indexers/relays.\n   - **Ownership Layer (Blockchain)** — Where tokenized ownership, funding flows, and immutability guarantees live.\n   \n   Describe this as a text-based diagram using a Markdoc code block (no images needed):\n   ```\n   ┌─────────────────────────────────────────┐\n   │         Application Layer               │\n   │   Funding platforms, dashboards, tools  │\n   ├─────────────────────────────────────────┤\n   │         Data Layer (AT Protocol)        │\n   │   PDS/SDS → Relay → App View/Indexer   │\n   ├─────────────────────────────────────────┤\n   │      Ownership Layer (Blockchain)       │\n   │   Tokenization, funding, rights         │\n   └─────────────────────────────────────────┘\n   ```\n\n2. **Data Layer Deep Dive** — How ATProto components work together:\n   - PDS (Personal Data Server): stores user's records\n   - Relay (formerly BGS): aggregates data across PDS instances\n   - App View / Indexer: reads from relay, builds queryable views\n   - Lexicons: shared schemas that define record structure\n   - Explain the flow: user writes to PDS → relay picks it up → indexer makes it searchable\n\n3. **Ownership Layer Deep Dive** — How blockchain components work:\n   - Anchoring: linking ATProto records to on-chain state\n   - Tokenization: representing hypercerts as transferable tokens\n   - Funding mechanisms: how tokens enable various funding models\n   - Multi-chain support: different chains for different communities\n\n4. **How the Layers Connect** — The bridge between ATProto and on-chain:\n   - A hypercert's content lives on ATProto (the claim, evidence, evaluations)\n   - Its ownership and funding state lives on-chain\n   - References between layers (ATProto URI ↔ on-chain token ID)\n   - Why this separation matters (data portability + financial guarantees)\n\n5. **Key Design Decisions** — Why the architecture is the way it is:\n   - Why not fully on-chain? (cost, flexibility, data portability)\n   - Why not fully off-chain? (ownership guarantees, funding mechanisms)\n   - Why ATProto over IPFS/Ceramic/other? (identity, federation, existing ecosystem)\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section AFTER the \"Lexicons\" section and BEFORE \"Deep Dive: The Work Scope\":\n\n```javascript\n{\n  section: 'Architecture',\n  children: [\n    { title: 'Architecture Overview', path: '/architecture/overview' },\n  ],\n},\n```\n\n## Writing style\n- Technical but accessible — a developer should understand this without prior ATProto knowledge\n- Use `##` for main sections, `####` for subsections\n- Use text-based diagrams in fenced code blocks (no images)\n- Use `{% callout %}` for important design rationale\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add image files — use text-based diagrams only.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT create more than one page — just the overview.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:49:44.483676+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:01:28.941433+13:00","closed_at":"2026-02-15T01:01:28.941433+13:00","close_reason":"Created Architecture Overview page with system diagram, added to navigation after Tools section","dependencies":[{"issue_id":"docs-nuw.1","depends_on_id":"docs-nuw","type":"parent-child","created_at":"2026-02-14T20:49:44.485585+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":14,"issue_id":"docs-nuw.1","author":"Sharfy Adamantine","text":"NAV UPDATE: Navigation reorganized. Add the 'Architecture' section AFTER 'Core Concepts' and BEFORE 'Lexicons'. The new nav structure is: Get Started → Core Concepts → Architecture (new) → Lexicons.","created_at":"2026-02-14T11:24:41Z"},{"id":15,"issue_id":"docs-nuw.1","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, short paragraphs (1-3 sentences), no preamble, no link dumps. Use text-based diagrams in code blocks. Study existing pages: documentation/pages/getting-started/why-atproto.md. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). NAV PLACEMENT: Add Architecture section AFTER 'Tools' and BEFORE 'Tutorials'. Current nav order: Get Started → Core Concepts → Lexicons → Tools → Tutorials.","created_at":"2026-02-14T11:58:10Z"}]}
{"id":"docs-nuw.2","title":"Write 'Data Flow \u0026 Lifecycle' page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Payment lifecycle\" — shows how a payment moves through states from creation to completion. This page does the same for a hypercert.\n\n## Files\n- documentation/pages/architecture/data-flow-and-lifecycle.md (create)\n- documentation/lib/navigation.js (modify — add entry under Architecture section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/architecture/data-flow-and-lifecycle.md` (120–180 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Data Flow \u0026 Lifecycle\ndescription: How a hypercert moves from creation through evaluation to funding.\n---\n```\n\n**Sections:**\n\n1. **The Lifecycle of a Hypercert** — Overview of the stages:\n   - **Creation** — A contributor creates an activity claim on their PDS\n   - **Enrichment** — Evidence, measurements, and contributions are attached\n   - **Evaluation** — Third parties create evaluation records referencing the claim\n   - **Discovery** — Indexers aggregate claims; platforms surface them to funders\n   - **Funding** — Ownership is tokenized on-chain; funders acquire shares\n   - **Accumulation** — More evaluations and evidence accrue over time\n\n2. **Stage 1: Creation** — What happens when a hypercert is created:\n   - The contributor writes an `org.hypercerts.claim.activity` record to their PDS\n   - The record gets a unique AT URI (e.g., `at://did:plc:abc123/org.hypercerts.claim.activity/tid`)\n   - The PDS signs the record and includes it in the user's repository\n   - The relay picks up the new record\n\n3. **Stage 2: Enrichment** — Attaching supporting data:\n   - Contribution records (`org.hypercerts.claim.contribution`) are created and linked via strong references\n   - Evidence records (`org.hypercerts.claim.evidence`) are attached\n   - Measurement records (`org.hypercerts.claim.measurement`) provide quantitative data\n   - Rights records (`org.hypercerts.claim.rights`) define what rights holders have\n   - Location records (`app.certified.location`) anchor work geographically\n   - These can live on the SAME PDS or DIFFERENT PDS instances\n\n4. **Stage 3: Evaluation** — Third-party assessment:\n   - An evaluator creates an `org.hypercerts.claim.evaluation` record on THEIR OWN PDS\n   - The evaluation references the original activity claim via a strong reference (`subject` field)\n   - Multiple evaluators can independently evaluate the same claim\n   - Evaluations accumulate over time — they are never \"final\"\n\n5. **Stage 4: Discovery \u0026 Indexing** — How data becomes findable:\n   - Relays aggregate records from many PDS instances\n   - Indexers (App Views) read from relays and build searchable databases\n   - Platforms query indexers to surface hypercerts to users\n   - Different indexers can build different views of the same data\n\n6. **Stage 5: Funding \u0026 Ownership** — The on-chain layer:\n   - A hypercert can be anchored on-chain, creating a token\n   - The token represents ownership shares of the contribution\n   - Funders acquire shares through various mechanisms (direct purchase, retroactive funding, etc.)\n   - On-chain state references the ATProto URI of the original claim\n\n7. **Cross-PDS References** — How records on different servers reference each other:\n   - Strong references include both URI and CID (content hash)\n   - This ensures references are tamper-evident\n   - A record on PDS-A can reference a record on PDS-B\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add this entry under the Architecture section (which should already exist from the Architecture Overview task):\n\n```javascript\n{ title: 'Data Flow \u0026 Lifecycle', path: '/architecture/data-flow-and-lifecycle' },\n```\n\nIf the Architecture section does not yet exist, create it after the Lexicons section.\n\n## Writing style\n- Narrative, walkthrough style — follow a single hypercert through its lifecycle\n- Use `##` for main sections, `####` for subsections\n- Use text-based flow diagrams in fenced code blocks where helpful\n- Reference specific lexicon IDs (e.g., `org.hypercerts.claim.activity`) and link to their documentation pages\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add image files.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT duplicate content from the Architecture Overview page — reference it instead.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:50:08.992973+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:04:48.551227+13:00","closed_at":"2026-02-15T01:04:48.551227+13:00","close_reason":"Completed: Created Data Flow \u0026 Lifecycle page with 6-stage narrative walkthrough, added navigation entry, build passes","dependencies":[{"issue_id":"docs-nuw.2","depends_on_id":"docs-nuw","type":"parent-child","created_at":"2026-02-14T20:50:08.994666+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-nuw.2","depends_on_id":"docs-nuw.1","type":"blocks","created_at":"2026-02-14T20:54:30.68945+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":16,"issue_id":"docs-nuw.2","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, short paragraphs, no preamble, no link dumps. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag).","created_at":"2026-02-14T11:58:17Z"}]}
{"id":"docs-qsc","title":"Epic 3: Content Migration - Convert All 17 Markdown Files","description":"## Summary\nConvert all 17 GitBook Markdown files to Markdoc-compatible format and move them into the Next.js `pages/` directory. This involves replacing GitBook-proprietary syntax with Markdoc tags, cleaning up HTML artifacts, fixing frontmatter, and restructuring file paths for Next.js routing.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory at the repo root (`/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`).\n\nThe current GitBook content files are at the `documentation/` root level (e.g., `documentation/README.md`, `documentation/getting-started/why-were-building-hypercerts.md`). They need to be moved into `documentation/pages/` for Next.js file-based routing.\n\nBy the time this epic runs:\n- Epic 1 (Scaffold) has created the `pages/`, `components/`, `markdoc/`, etc. directories\n- Epic 2 (Custom Tags) has created Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`\n- A basic `pages/_app.js` and `pages/index.md` (test page) exist\n\n### Key routing rules:\n- `pages/index.md` -\u003e renders at `/`\n- `pages/getting-started/why-were-building-hypercerts.md` -\u003e renders at `/getting-started/why-were-building-hypercerts`\n- `README.md` files must be renamed to `index.md` (Next.js convention for directory index pages)\n- Internal links should NOT include `.md` extensions\n\n## Content Files to Migrate (17 total)\n\n### File mapping (source -\u003e destination):\n```\ndocumentation/README.md                                    -\u003e documentation/pages/index.md\ndocumentation/deep-dive-the-work-scope.md                  -\u003e documentation/pages/deep-dive-the-work-scope.md\ndocumentation/getting-started/why-were-building-hypercerts.md          -\u003e documentation/pages/getting-started/why-were-building-hypercerts.md\ndocumentation/getting-started/introduction-to-impact-claims.md         -\u003e documentation/pages/getting-started/introduction-to-impact-claims.md\ndocumentation/getting-started/the-impact-and-work-space.md             -\u003e documentation/pages/getting-started/the-impact-and-work-space.md\ndocumentation/getting-started/the-hypercerts-infrastructure.md         -\u003e documentation/pages/getting-started/the-hypercerts-infrastructure.md\ndocumentation/getting-started/installing-the-sdk.md                    -\u003e documentation/pages/getting-started/installing-the-sdk.md\ndocumentation/lexicons/introduction-to-lexicons.md                     -\u003e documentation/pages/lexicons/introduction-to-lexicons.md\ndocumentation/lexicons/general-lexicons/README.md                      -\u003e documentation/pages/lexicons/general-lexicons/index.md\ndocumentation/lexicons/general-lexicons/shared-defs.md                 -\u003e documentation/pages/lexicons/general-lexicons/shared-defs.md\ndocumentation/lexicons/general-lexicons/location.md                    -\u003e documentation/pages/lexicons/general-lexicons/location.md\ndocumentation/lexicons/hypercerts-lexicons/README.md                   -\u003e documentation/pages/lexicons/hypercerts-lexicons/index.md\ndocumentation/lexicons/hypercerts-lexicons/activity-claim.md           -\u003e documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md\ndocumentation/lexicons/hypercerts-lexicons/contribution.md             -\u003e documentation/pages/lexicons/hypercerts-lexicons/contribution.md\ndocumentation/lexicons/hypercerts-lexicons/evaluation.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/evaluation.md\ndocumentation/lexicons/hypercerts-lexicons/measurement.md              -\u003e documentation/pages/lexicons/hypercerts-lexicons/measurement.md\ndocumentation/lexicons/hypercerts-lexicons/attachment.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/attachment.md\ndocumentation/lexicons/hypercerts-lexicons/rights.md                   -\u003e documentation/pages/lexicons/hypercerts-lexicons/rights.md\ndocumentation/lexicons/hypercerts-lexicons/collection.md               -\u003e documentation/pages/lexicons/hypercerts-lexicons/collection.md\n```\n\n## Global Transformations (apply to ALL files)\n\n1. **Remove all `\u0026#x20;` HTML entities** (trailing space artifacts from GitBook) -- found in 6 files, ~9 instances\n2. **Remove all zero-width space characters** (`\\u200b`) from table cells -- found in activity-claim.md, rights.md\n3. **Remove all GitBook anchor tags from headings**: `\u003ca href=\"#...\" id=\"...\"\u003e\u003c/a\u003e` -- found in why-were-building-hypercerts.md (15 instances), activity-claim.md (3 instances)\n4. **Remove trailing `\u003cbr\u003e` tags** at end of files -- found in 6 files\n5. **Convert GitBook layout frontmatter** to simple `title`/`description` frontmatter. The GitBook frontmatter looks like:\n```yaml\nlayout:\n  width: default\n  title:\n    visible: true\n  ...\nmetaLinks:\n  alternates:\n    - https://app.gitbook.com/s/...\n```\nReplace with:\n```yaml\ntitle: Page Title Here\ndescription: Optional description\n```\n6. **Rename README.md -\u003e index.md** (3 files: root, general-lexicons, hypercerts-lexicons)\n7. **Update all internal links** to use Next.js-compatible paths (remove `.md` extensions, use absolute paths from root)\n8. **Add frontmatter** to every file that lacks it (at minimum: `title`)\n\n## File-Specific Transformations\n\n### README.md -\u003e pages/index.md\n- Replace the entire GitBook layout frontmatter block with: `title: Welcome to the Hypercerts Protocol`\n- Convert `{% columns %}`/`{% column %}`/`{% endcolumn %}`/`{% endcolumns %}` to Markdoc syntax: `{% columns %}`/`{% column %}`/`{% /column %}`/`{% /columns %}`\n- Convert 2 `\u003cfigure\u003e\u003cimg src=\".gitbook/assets/...\"\u003e` tags to `{% figure src=\"/images/...\" /%}`:\n  - `.gitbook/assets/hypercerts_for_projects.png` -\u003e `/images/hypercerts_for_projects.png`\n  - `.gitbook/assets/hypercert erd.png` -\u003e `/images/hypercert-erd.png`\n- Remove or fix broken link `/broken/pages/gNQzZ9R1b3NKrJoQ0Iqa` (read surrounding text to determine intent; if undeterminable, remove the link and keep the text)\n- Remove trailing `\u003cbr\u003e`\n\n### deep-dive-the-work-scope.md -\u003e pages/deep-dive-the-work-scope.md\n- Add frontmatter: `title: \"Deep Dive: The Work Scope\"`\n- Convert `{% hint style=\"info\" %}...{% endhint %}` to `{% callout type=\"info\" %}...{% /callout %}`\n\n### getting-started/why-were-building-hypercerts.md\n- Keep existing `description` frontmatter, add `title: \"Why We're Building Hypercerts\"`\n- Remove all 15 anchor `\u003ca href=\"#...\" id=\"...\"\u003e\u003c/a\u003e` tags from headings\n- Remove trailing `\u003cbr\u003e`\n\n### getting-started/introduction-to-impact-claims.md\n- Replace `icon: bolt` frontmatter with `title: Introduction to Impact Claims`\n- Remove `\u0026#x20;` entities (3 instances)\n- Convert `\u003cfigure\u003e\u003cimg src=\"../.gitbook/assets/hypercert erd.png\"\u003e` to `{% figure src=\"/images/hypercert-erd.png\" alt=\"Hypercert ERD\" /%}`\n\n### getting-started/the-impact-and-work-space.md\n- Add frontmatter: `title: The Impact and Work Space`\n- Remove `\u0026#x20;` entity\n- Fix broken self-referencing anchor link `the-impact-and-work-space.md#the-impact-space` -- the heading `#the-impact-space` does not exist. Check what heading was intended and fix.\n\n### getting-started/the-hypercerts-infrastructure.md\n- Add frontmatter: `title: The Hypercerts Infrastructure`\n- Content is just \"TBD\" -- leave as-is\n\n### getting-started/installing-the-sdk.md\n- Add frontmatter: `title: Installing the SDK`\n- Remove `\u003cbr\u003e`. Content is empty -- leave as-is\n\n### lexicons/introduction-to-lexicons.md\n- Add frontmatter: `title: Introduction to Lexicons`\n- Remove `\u0026#x20;`\n- Fix 2 broken links: `/broken/pages/3UwgsMpD20ErXurhzmTh` and `/broken/pages/FdVczwFhTBj7n5nszh0P` -- read surrounding text to determine intent. If undeterminable, remove the links and keep the text.\n\n### lexicons/general-lexicons/README.md -\u003e pages/lexicons/general-lexicons/index.md\n- Add frontmatter: `title: General Lexicons`\n\n### lexicons/general-lexicons/shared-defs.md\n- Add frontmatter: `title: Shared Definitions`\n- Remove `\u0026#x20;`\n\n### lexicons/general-lexicons/location.md\n- Add frontmatter: `title: Location`\n- Remove `\u0026#x20;` (3 instances)\n- Fix inline HTML in table cell: `\u003cp\u003e\u003ccode\u003eunion\u003c/code\u003e\u003cbr\u003e...\u003c/p\u003e` -\u003e clean Markdown equivalent\n- Fix broken anchor link `location.md#locationtype` -\u003e `#location-type` (the heading is \"### Location Type\" which generates anchor `#location-type`)\n\n### lexicons/hypercerts-lexicons/README.md -\u003e pages/lexicons/hypercerts-lexicons/index.md\n- Add frontmatter: `title: Hypercerts Lexicons`\n\n### lexicons/hypercerts-lexicons/activity-claim.md\n- Add frontmatter: `title: Activity Claim`\n- Remove 3 anchor `\u003ca\u003e` tags from headings\n- Fix malformed table: the table is missing a proper header row. The first data row currently acts as the header. Add a real header row with columns: Property, Type, Required, Description, Comments\n- Remove zero-width space characters (`\\u200b`) from table cells\n- Replace broken GitBook editor URL `https://app.gitbook.com/o/uxU8o4s6mrp88yBisLn5/s/8dkOAon1uQbyqL8RomaJ/hypercert-claim-lexicons/the-impact-and-work-space` with relative link `/getting-started/the-impact-and-work-space`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/contribution.md\n- Add frontmatter: `title: Contribution`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/evaluation.md\n- Add frontmatter: `title: Evaluation`\n- Remove trailing `\u003cbr\u003e`\n\n### lexicons/hypercerts-lexicons/measurement.md\n- Add frontmatter: `title: Measurement`\n- Remove `\u0026#x20;`\n\n### lexicons/hypercerts-lexicons/attachment.md\n- Add frontmatter: `title: Evidence`\n- No special syntax changes needed\n\n### lexicons/hypercerts-lexicons/rights.md\n- Add frontmatter: `title: Rights`\n- Fix malformed table: add proper header row (same issue as activity-claim.md)\n- Remove zero-width space characters from table cells\n\n### lexicons/hypercerts-lexicons/collection.md\n- Add frontmatter: `title: Collection`\n- No special syntax changes needed\n\n## Acceptance Criteria\n- All 17 files are in `documentation/pages/` directory with correct paths\n- README.md files renamed to index.md (3 files)\n- No GitBook-specific syntax remains (`{% hint %}`, `{% endcolumns %}`, `{% endcolumn %}`, `{% endhint %}`, etc.)\n- No `\u0026#x20;` entities, no zero-width spaces, no orphan `\u003ca\u003e` anchor tags, no trailing `\u003cbr\u003e`\n- All files have proper YAML frontmatter with at minimum a `title` field\n- All broken links either resolved to correct targets or removed with text preserved\n- Malformed tables in activity-claim.md and rights.md have proper header rows\n- All image paths updated from `.gitbook/assets/` to `/images/`\n- All internal links use paths without `.md` extensions\n- All files render correctly via `npm run dev`\n","status":"closed","priority":0,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:42:41.246087+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:13:55.289826+13:00","closed_at":"2026-02-14T13:13:55.289831+13:00","dependencies":[{"issue_id":"docs-qsc","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:42:41.247806+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-qsc","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:42:41.24883+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-r1z","title":"Epic 9: Cleanup and Verification","description":"## Summary\nFinal cleanup pass to remove all GitBook artifacts, verify link integrity, perform visual QA against the Stripe-inspired design language, and ensure the project is clean and production-ready.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory inside the repository at `/Users/sharfy/Code/hypercerts-atproto-documentation/documentation/`.\n\nBy the time this epic runs, Epics 1-8 have completed:\n- Next.js + Markdoc project scaffolded (Epic 1)\n- Custom Markdoc tags created: callout, columns, column, figure (Epic 2)\n- All 17 content files migrated to `pages/` with cleaned syntax (Epic 3)\n- Three-column layout with sidebar, content, and right TOC built (Epic 4)\n- Stripe-inspired CSS styling applied (Epic 5)\n- Images moved to `public/images/` and `.gitbook/` deleted (Epic 6)\n- All broken links fixed (Epic 7)\n- Build verified and deployment configured (Epic 8)\n\nThis epic is the final quality gate before the migration is considered complete.\n\n## Tasks\n\n### 1. Remove GitBook Artifacts\n\nDelete all files and directories that are GitBook-specific and no longer needed:\n\n```bash\n# Verify .gitbook/ is already deleted (should be gone from Epic 6)\nls -la documentation/.gitbook 2\u003e\u00261  # Should say \"No such file or directory\"\n\n# Delete SUMMARY.md (replaced by programmatic navigation in Epic 4)\nrm -f documentation/SUMMARY.md\n\n# Delete the original GitBook content files that were copied to pages/\n# These are the OLD files at the documentation/ root level (NOT the ones in pages/)\nrm -f documentation/README.md\nrm -f documentation/deep-dive-the-work-scope.md\nrm -rf documentation/getting-started/\nrm -rf documentation/lexicons/\n```\n\n**Important:** Only delete the old root-level files. Do NOT delete anything inside `documentation/pages/`, `documentation/components/`, `documentation/markdoc/`, etc.\n\nAlso check for and remove any remaining GitBook-specific frontmatter in content files. GitBook frontmatter looks like:\n```yaml\nlayout:\n  width: default\n  title:\n    visible: true\nmetaLinks:\n  alternates:\n    - https://app.gitbook.com/s/...\n```\nIf any of this remains in any file under `pages/`, strip it and leave only `title` and `description` fields.\n\n### 2. Run Artifact Grep Checks\n\nSearch all content files for leftover GitBook artifacts. Every one of these commands should return ZERO results:\n\n```bash\n# GitBook broken page links\ngrep -r '/broken/pages/' documentation/pages/\n\n# GitBook editor URLs\ngrep -r 'app.gitbook.com' documentation/pages/\n\n# GitBook asset paths\ngrep -r '.gitbook/' documentation/pages/\ngrep -r '.gitbook/' documentation/components/\n\n# HTML entity artifacts\ngrep -r '\u0026#x20;' documentation/pages/\n\n# Zero-width spaces (use hex search)\ngrep -rP '\\x{200b}' documentation/pages/ 2\u003e/dev/null || grep -r $'\\u200b' documentation/pages/\n\n# GitBook proprietary tag syntax (should all be converted to Markdoc)\ngrep -r '{% hint' documentation/pages/\ngrep -r '{% endhint' documentation/pages/\ngrep -r '{% endcolumn' documentation/pages/\ngrep -r '{% endcolumns' documentation/pages/\n\n# Orphan HTML tags\ngrep -r '\u003cbr\u003e$' documentation/pages/\ngrep -r '\u003ca href=\"#' documentation/pages/\n```\n\nFix any remaining issues found.\n\n### 3. Verify All Internal Links\n\nStart the dev server and manually navigate to every page via the sidebar:\n\n```bash\ncd documentation \u0026\u0026 npm run dev\n```\n\nPages to check (17 total):\n1. `/` (Welcome / landing page)\n2. `/getting-started/why-were-building-hypercerts`\n3. `/getting-started/introduction-to-impact-claims`\n4. `/getting-started/the-impact-and-work-space`\n5. `/getting-started/the-hypercerts-infrastructure`\n6. `/getting-started/installing-the-sdk`\n7. `/lexicons/introduction-to-lexicons`\n8. `/lexicons/general-lexicons`\n9. `/lexicons/general-lexicons/shared-defs`\n10. `/lexicons/general-lexicons/location`\n11. `/lexicons/hypercerts-lexicons`\n12. `/lexicons/hypercerts-lexicons/activity-claim`\n13. `/lexicons/hypercerts-lexicons/contribution`\n14. `/lexicons/hypercerts-lexicons/evaluation`\n15. `/lexicons/hypercerts-lexicons/measurement`\n16. `/lexicons/hypercerts-lexicons/attachment`\n17. `/lexicons/hypercerts-lexicons/rights`\n18. `/lexicons/hypercerts-lexicons/collection`\n19. `/deep-dive-the-work-scope`\n\nFor each page verify:\n- Page loads without errors (check browser console)\n- No 404s for any internal links on the page\n- Anchor links (e.g., `#location-type`) scroll to the correct heading\n\n### 4. Visual QA Against Stripe Design Language\n\nFor each page, verify the design matches the Stripe-inspired patterns:\n\n**Layout:**\n- [ ] Three-column layout on desktop: left sidebar (~240px), content (~720px max), right TOC (~200px)\n- [ ] Sidebar has subtle 1px right border (#ebeef1), not a heavy shadow\n- [ ] Content area is well-centered with comfortable padding\n- [ ] Header is minimal with site title and 1px bottom border\n\n**Typography:**\n- [ ] Body text is 16px, dark gray (#414552), NOT pure black\n- [ ] Headings use proper hierarchy (H1 largest, H2 with large top margin creating section breaks)\n- [ ] System font stack is used (no custom font loading delays)\n- [ ] Text is anti-aliased (`-webkit-font-smoothing: antialiased`)\n- [ ] Line height is comfortable (~1.65 for body)\n\n**Colors:**\n- [ ] Page background is pure white\n- [ ] Links are blue (#0570de), darken on hover\n- [ ] The page is overwhelmingly neutral/grayscale -- color appears only for links, callouts, and interactive elements\n- [ ] No decorative elements, no gradients, no heavy shadows\n\n**Components:**\n- [ ] Tables are clean: no outer borders, header has bottom border only, no zebra striping\n- [ ] Code blocks have light gray background (#f6f8fa), rounded corners, monospace font\n- [ ] Inline code has subtle gray background pill\n- [ ] Callout boxes (on deep-dive page) have colored left border and tinted background\n- [ ] Column layouts (on landing page) display side-by-side on desktop, stack on mobile\n- [ ] Images render correctly with proper sizing\n\n**Navigation:**\n- [ ] Sidebar section headers are small, semibold, secondary gray\n- [ ] Active page is highlighted in sidebar (bold text + subtle background)\n- [ ] Right TOC shows H2 headings and highlights current section on scroll\n- [ ] Prev/next pagination works at bottom of content area\n- [ ] On mobile (\u003c 768px): sidebar collapses, content goes full width\n\n### 5. Verify Heading Anchor IDs\n\nMarkdoc auto-generates heading IDs from heading text. Verify that the generation is consistent:\n- \"### Location Type\" should generate `#location-type` (lowercase, hyphenated)\n- Any in-page anchor links should match the generated IDs\n- Click each anchor link on pages that have them to confirm they work\n\n### 6. Final File Inventory\n\nVerify the project structure is clean:\n```\ndocumentation/\n├── components/\n│   ├── Callout.js\n│   ├── Column.js\n│   ├── Columns.js\n│   ├── Figure.js\n│   ├── Layout.js\n│   ├── Sidebar.js\n│   └── TableOfContents.js\n├── lib/\n│   └── navigation.js\n├── markdoc/\n│   ├── tags/\n│   │   ├── callout.markdoc.js\n│   │   ├── column.markdoc.js\n│   │   ├── columns.markdoc.js\n│   │   ├── figure.markdoc.js\n│   │   └── index.js\n│   └── nodes/          (may be empty or have heading overrides)\n├── pages/\n│   ├── _app.js\n│   ├── index.md\n│   ├── deep-dive-the-work-scope.md\n│   ├── getting-started/\n│   │   ├── why-were-building-hypercerts.md\n│   │   ├── introduction-to-impact-claims.md\n│   │   ├── the-impact-and-work-space.md\n│   │   ├── the-hypercerts-infrastructure.md\n│   │   └── installing-the-sdk.md\n│   └── lexicons/\n│       ├── introduction-to-lexicons.md\n│       ├── general-lexicons/\n│       │   ├── index.md\n│       │   ├── shared-defs.md\n│       │   └── location.md\n│       └── hypercerts-lexicons/\n│           ├── index.md\n│           ├── activity-claim.md\n│           ├── contribution.md\n│           ├── evaluation.md\n│           ├── measurement.md\n│           ├── attachment.md\n│           ├── rights.md\n│           └── collection.md\n├── public/\n│   └── images/\n│       ├── hypercerts_for_projects.png\n│       └── hypercert-erd.png\n├── styles/\n│   └── globals.css\n├── next.config.js\n├── package.json\n├── package-lock.json\n└── .gitignore\n```\n\nConfirm:\n- No `.gitbook/` directory\n- No `SUMMARY.md`\n- No root-level `.md` content files (only inside `pages/`)\n- No orphaned files outside the standard Next.js structure\n\n### 7. Final Build Check\n```bash\ncd documentation\nnpm run build\n```\nMust succeed with zero errors after all cleanup.\n\n## Acceptance Criteria\n- Zero grep hits for `/broken/pages/`, `app.gitbook.com`, `.gitbook/`, `\u0026#x20;`, zero-width spaces, `{% hint`, `{% endhint`, `{% endcolumn`, `{% endcolumns` in content files\n- `SUMMARY.md` is deleted\n- `.gitbook/` directory is deleted\n- Old root-level content files (README.md, getting-started/, lexicons/, deep-dive-the-work-scope.md) are deleted\n- All 17+ pages render correctly in the browser with no console errors\n- All internal links resolve correctly (no 404s)\n- All heading anchor links work\n- The visual design matches the Stripe-inspired patterns (white bg, gray text, blue links, clean tables, colored callouts, three-column layout)\n- The project directory structure is clean with no orphaned files\n- `npm run build` succeeds with zero errors\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:46:01.998664+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:19:59.577445+13:00","closed_at":"2026-02-14T13:19:59.577453+13:00","dependencies":[{"issue_id":"docs-r1z","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:46:02.000863+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:46:02.002015+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-qsc","type":"blocks","created_at":"2026-02-13T13:46:02.002729+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:46:02.003372+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-yne","type":"blocks","created_at":"2026-02-13T13:46:02.004004+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-cij","type":"blocks","created_at":"2026-02-13T13:46:02.004627+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-7b4","type":"blocks","created_at":"2026-02-13T13:46:02.00526+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-r1z","depends_on_id":"docs-d4r","type":"blocks","created_at":"2026-02-13T13:46:02.005893+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-rsa","title":"Epic: Rewrite scaffold starter app documentation","description":"Rewrite the scaffold docs page (documentation/pages/tools/scaffold.md) to be genuinely useful for developers. Current docs are too shallow — missing architecture, OAuth flow, tech stack, and have placeholder screenshots. New structure: Tech Stack → Screenshots → Env Vars → Local Setup → Architecture (OAuth, server-side data boundary, Constellation backlinks) → Comprehensive Project Structure → Feature Walkthrough. Remove code snippets (too shallow, will break with SDK changes) and repo context/DID resolution docs (being removed from codebase). Success: a developer can clone the scaffold, understand the architecture, and start building without reading source code.","status":"closed","priority":1,"issue_type":"epic","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","created_at":"2026-02-17T12:00:47.006934865+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:15:39.14809733+06:00","closed_at":"2026-02-17T12:15:39.14809733+06:00","close_reason":"7267eca All 6 child tasks completed — scaffold docs rewritten","labels":["scope:medium"]}
{"id":"docs-rsa.1","title":"Add tech stack table to scaffold docs","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nAdd a \"Tech Stack\" section immediately after the intro paragraph (after the live/source links, before everything else). Format as a table with two columns: Category and Technology.\n\nCategories and values:\n| Category | Technology |\n|----------|-----------|\n| Framework | Next.js 16 (App Router), React 19, TypeScript |\n| Styling | Tailwind CSS 4, shadcn/ui (Radix primitives) |\n| State Management | TanStack React Query v5 |\n| Auth / Protocol | AT Protocol OAuth, `@atproto/oauth-client-node` |\n| Hypercerts SDK | `@hypercerts-org/sdk-core` (pre-release) |\n| Infrastructure | Redis (session + OAuth state storage) |\n| Fonts | Geist, Geist Mono, Syne, Outfit (via next/font) |\n| Icons | Lucide React |\n\n## Dont\n- Add version numbers that will go stale quickly (except where meaningful like \"Next.js 16\" or \"React 19\")\n- Add dev dependencies or build tools\n- Change any other section of the doc","acceptance_criteria":"1. Tech Stack section exists immediately after the intro paragraph\n2. Table has Category and Technology columns\n3. All 8 categories listed above are present\n4. No other sections of the doc are modified","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-17T12:01:01.278350786+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:06:33.685300718+06:00","closed_at":"2026-02-17T12:06:33.685300718+06:00","close_reason":"43cfd75 Add tech stack table to scaffold docs","labels":["scope:small"],"dependencies":[{"issue_id":"docs-rsa.1","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:01:01.280099149+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-rsa.2","title":"Reorder sections: move env vars and local setup above architecture","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nRestructure the document so sections appear in this order:\n\n1. H1 title + intro paragraph (with live/source links) — keep as-is\n2. ## Tech Stack — (added by docs-rsa.1)\n3. ## What the app does — keep existing content with figure tags\n4. ## Environment Variables — move up from current position, keep table as-is\n5. ## Run it locally — move up, keep content as-is, sits right after env vars\n6. ## Architecture — (will be added by later tasks, leave placeholder: `## Architecture\\n\\n*Coming soon.*`)\n7. ## Project Structure — keep existing but will be rewritten by later task\n8. Remove the \"Key patterns\" section entirely (the getRepoContext, creating a hypercert, and listing hypercerts code snippets)\n\nThe \"What the app does\" section with screenshots stays between Tech Stack and Env Vars because a developer wants to see what they are building before setting it up.\n\n## Dont\n- Rewrite any section content (just move them)\n- Remove the figure tags in \"What the app does\"\n- Remove the callout notes (127.0.0.1 note, pre-release SDK note)\n- Remove the \"Screenshots needed\" callout (will be removed when screenshots are added)","acceptance_criteria":"1. Sections appear in order: Title/intro → Tech Stack → What the app does → Environment Variables → Run it locally → Architecture (placeholder) → Project Structure\n2. Key patterns section (getRepoContext, create, list code snippets) is completely removed\n3. All existing content in kept sections is unchanged (just moved)\n4. The 127.0.0.1 callout note remains with the Run it locally section\n5. The pre-release SDK callout is removed (it was in Key patterns)","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-17T12:01:16.627412001+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:08:01.546927714+06:00","closed_at":"2026-02-17T12:08:01.546927714+06:00","close_reason":"88b2d2e Reorder sections: env vars and local setup above architecture","labels":["scope:small"],"dependencies":[{"issue_id":"docs-rsa.2","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:01:16.628684422+06:00","created_by":"karma.gainforest.id"},{"issue_id":"docs-rsa.2","depends_on_id":"docs-rsa.1","type":"blocks","created_at":"2026-02-17T12:01:16.630931017+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-rsa.3","title":"Write OAuth flow architecture section","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nReplace the Architecture placeholder with a full \"## Architecture\" section. The first subsection is \"### OAuth Flow\". Write a clear, end-to-end explanation of how ATProto OAuth works in the scaffold. This is the most important section of the entire doc — developers struggle most with auth.\n\nCover these steps in order:\n\n1. **Client metadata discovery** — The ATProto authorization server fetches `\u003cbase-url\u003e/client-metadata.json` (served by `app/client-metadata.json/route.ts`). This returns RFC 7591 client metadata: client_id, redirect_uris, scopes (`atproto transition:generic`), DPoP-bound access tokens. Mention that for loopback dev the client_id format differs from production.\n\n2. **JWKS endpoint** — `\u003cbase-url\u003e/jwks.json` (served by `app/jwks.json/route.ts`) exposes the public key. The auth server uses this to verify client assertion JWTs. The private key comes from `ATPROTO_JWK_PRIVATE` env var (ES256).\n\n3. **Login initiation** — User enters handle → client calls `POST /api/auth/login` → server calls `sdk.authorize(handle)` → returns an authorization URL → browser redirects to the users PDS for consent.\n\n4. **OAuth callback** — PDS redirects back to `/api/auth/callback` with auth code → server calls `sdk.callback(params)` to exchange code for session → session (tokens, refresh tokens) stored in Redis via `RedisSessionStore` (key: `session:\u003cdid\u003e`, no TTL) → `user-did` httpOnly cookie set → user redirected to app.\n\n5. **Session restore on subsequent requests** — Every server-side request reads the `user-did` cookie → calls `sdk.restoreSession(did)` which reads from Redis → tokens auto-refreshed if expired. This is wrapped in Reacts `cache()` for per-request deduplication (multiple calls in one request only hit Redis once).\n\n6. **Temporary OAuth state** — During the auth flow, temporary state is stored in Redis via `RedisStateStore` (key: `oauth-state:\u003cstate\u003e`, 10-minute TTL). This prevents CSRF and is cleaned up automatically.\n\n7. **Logout** — `GET /api/auth/logout` → `session.signOut()` revokes tokens → Redis session deleted → `user-did` cookie deleted.\n\n8. **Loopback compliance** — ATProto OAuth requires `127.0.0.1` not `localhost` per RFC 8252. The app has a proxy that auto-redirects. The `config.ts` auto-detects loopback vs production and adjusts client_id format accordingly.\n\nWrite in prose with subheadings, not as a numbered list. Use a callout for the 127.0.0.1/RFC 8252 note. Do NOT include code snippets — describe the flow conceptually with file paths as references.\n\n## Dont\n- Include TypeScript code blocks — this is architecture docs, not a code tutorial\n- Document the repo-context or DID resolution chain (being removed)\n- Change any section outside of Architecture","acceptance_criteria":"1. Architecture section exists with an OAuth Flow subsection\n2. All 8 steps listed above are covered in prose\n3. File paths are mentioned as references (e.g. app/api/auth/callback/route.ts)\n4. No TypeScript code blocks\n5. RFC 8252 / 127.0.0.1 note is in a callout\n6. Redis role in session + state storage is explained\n7. The cache() deduplication pattern is mentioned","status":"closed","priority":1,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":60,"created_at":"2026-02-17T12:01:42.60171065+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:09:53.172089509+06:00","closed_at":"2026-02-17T12:09:53.172089509+06:00","close_reason":"c6a57c7 docs: write OAuth flow architecture section","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-rsa.3","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:01:42.602975023+06:00","created_by":"karma.gainforest.id"},{"issue_id":"docs-rsa.3","depends_on_id":"docs-rsa.2","type":"blocks","created_at":"2026-02-17T12:01:42.605286027+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-rsa.4","title":"Write server-side data boundary architecture section","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nAdd a \"### Server-Side Data Boundary\" subsection inside the Architecture section, after the OAuth Flow subsection.\n\nThe core insight to communicate: **ALL data fetching in this app happens server-side.** The ATProto session (tokens, refresh logic) lives on the server in Redis and is only accessible via server-side code. Client components never talk to the PDS directly.\n\nCover these points:\n\n1. **Why server-only** — The ATProto OAuth session is stored in Redis and accessed via an httpOnly cookie. There is no browser-side session. This means any operation that needs authentication (reading/writing hypercerts, profiles, etc.) must go through the server.\n\n2. **Two server-side patterns** — The app uses two ways to run server-side code:\n   - **API Routes** (`app/api/`) — Traditional REST-style endpoints. Used for operations that need FormData (file uploads for evidence, images) or complex request/response handling. Examples: `POST /api/certs/create`, `POST /api/certs/add-attachment`, `POST /api/profile/update`.\n   - **Server Actions** (`lib/create-actions.ts`, marked with `\"use server\"`) — Called directly from client components without an HTTP round-trip. Used for simpler operations like fetching profile info, adding evaluations/measurements. Examples: `getActiveProfileInfo()`, `addEvaluation()`, `addMeasurement()`.\n\n3. **Client-side data layer** — Client components use TanStack React Query hooks (in `queries/`) to call these server-side endpoints. The pattern is three tiers:\n   - **API client** (`lib/api/client.ts`) — Base fetch wrappers with consistent error handling\n   - **Domain functions** (`lib/api/hypercerts.ts`, `lib/api/profile.ts`, etc.) — Construct requests and call the API client\n   - **Query hooks** (`queries/hypercerts/`, `queries/profile/`, etc.) — TanStack Query wrappers that manage caching, loading states, error toasts, and cache invalidation on mutations\n\n4. **Server components fetch directly** — Pages like `/hypercerts` and `/hypercerts/[uri]` are server components that call the SDK directly on the server (no API route needed). They pass the fetched data as props to client components for interactivity.\n\nWrite in prose. No code blocks. Reference file paths.\n\n## Dont\n- Include code snippets\n- Document specific API request/response shapes\n- Mention repo-context or DID resolution (being removed)\n- Change any section outside of Architecture","acceptance_criteria":"1. Server-Side Data Boundary subsection exists after OAuth Flow\n2. Explains WHY data fetching is server-only (session in Redis, httpOnly cookie)\n3. Describes both API Routes and Server Actions as the two server-side patterns\n4. Describes the 3-tier client data layer (API client → domain functions → query hooks)\n5. Mentions that server components fetch directly without API routes\n6. No code blocks\n7. File paths referenced for each layer","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":45,"created_at":"2026-02-17T12:02:02.796441287+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:11:56.446804532+06:00","closed_at":"2026-02-17T12:11:56.446804532+06:00","close_reason":"9b5cfd7 docs: add server-side data boundary architecture section","labels":["scope:small"],"dependencies":[{"issue_id":"docs-rsa.4","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:02:02.798609989+06:00","created_by":"karma.gainforest.id"},{"issue_id":"docs-rsa.4","depends_on_id":"docs-rsa.3","type":"blocks","created_at":"2026-02-17T12:02:02.801339312+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-rsa.5","title":"Write Constellation backlinks architecture section","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nAdd a \"### Constellation Backlinks\" subsection inside the Architecture section, after the Server-Side Data Boundary subsection.\n\nExplain how the scaffold discovers related records for a hypercert. In ATProto, records reference other records via strong references (AT-URIs), but there is no built-in reverse lookup. The scaffold uses Constellation (an external backlinks service at `https://constellation.microcosm.blue`) to solve this.\n\nCover:\n\n1. **The problem** — When viewing a hypercert detail page, the app needs to find all evidence, evaluations, and measurements that reference that hypercert. ATProto does not provide reverse lookups natively.\n\n2. **How Constellation works** — Constellation indexes ATProto records and provides a backlinks API. You query it with a subject URI (the hypercert AT-URI) and a source collection path, and it returns all records that reference that subject. The scaffold queries three source paths:\n   - Evidence: `org.hypercerts.claim.attachment:subjects[com.atproto.repo.strongRef].uri`\n   - Evaluations: `org.hypercerts.claim.evaluation:subject.uri`\n   - Measurements: `org.hypercerts.claim.measurement:subject.uri`\n\n3. **Where this happens in the code** — The client-side API layer (`lib/api/external/constellation.ts`) calls Constellation. TanStack Query hooks (`queries/hypercerts/use-evidence-query.ts`, `use-evaluations-query.ts`, `use-measurements-query.ts`) use a two-step pattern: first fetch backlinks from Constellation to get record URIs, then fetch each record individually via server actions to get the full data.\n\nWrite in prose. Keep it concise — this is a shorter subsection.\n\n## Dont\n- Include code snippets\n- Explain the Constellation API in detail (link to it if needed)\n- Change any section outside of Architecture","acceptance_criteria":"1. Constellation Backlinks subsection exists after Server-Side Data Boundary\n2. Explains the reverse-lookup problem in ATProto\n3. Lists the three source paths queried (evidence, evaluations, measurements)\n4. Mentions the two-step pattern (backlinks → individual record fetch)\n5. References the relevant file paths\n6. No code blocks","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":30,"created_at":"2026-02-17T12:02:18.640700877+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:13:18.724095484+06:00","closed_at":"2026-02-17T12:13:18.724095484+06:00","close_reason":"a17a0d1 Add Constellation backlinks architecture section","labels":["scope:small"],"dependencies":[{"issue_id":"docs-rsa.5","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:02:18.641962933+06:00","created_by":"karma.gainforest.id"},{"issue_id":"docs-rsa.5","depends_on_id":"docs-rsa.4","type":"blocks","created_at":"2026-02-17T12:02:18.6442514+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-rsa.6","title":"Rewrite project structure section with comprehensive annotated tree","description":"## Files\n- documentation/pages/tools/scaffold.md (modify)\n\n## What to do\nReplace the existing shallow \"Project structure\" section with a comprehensive, annotated directory tree. Group by concern and explain what each directory/file does.\n\nUse a code block for the tree, with inline comments. Structure:\n\n```\nhypercerts-scaffold/\n├── app/\n│   ├── layout.tsx                    # Root layout (server component, wraps providers)\n│   ├── page.tsx                      # Landing page (server component)\n│   ├── client-metadata.json/\n│   │   └── route.ts                  # OAuth client metadata endpoint (RFC 7591)\n│   ├── jwks.json/\n│   │   └── route.ts                  # JWKS public key endpoint for OAuth\n│   ├── api/\n│   │   ├── auth/\n│   │   │   ├── login/route.ts        # POST — initiate OAuth login\n│   │   │   ├── callback/route.ts     # GET — OAuth callback, sets session\n│   │   │   └── logout/route.ts       # GET — revoke session, clear cookie\n│   │   ├── certs/\n│   │   │   ├── create/route.ts       # POST — create hypercert (FormData)\n│   │   │   ├── add-location/route.ts # POST — attach location to hypercert\n│   │   │   └── add-attachment/route.ts # POST — attach evidence/files\n│   │   └── profile/\n│   │       ├── update/route.ts       # POST — update Certified profile\n│   │       └── bsky/update/route.ts  # POST — update Bluesky profile\n│   ├── hypercerts/\n│   │   ├── page.tsx                  # List all hypercerts (server component)\n│   │   ├── create/page.tsx           # Multi-step creation wizard (client component)\n│   │   └── [hypercertUri]/page.tsx   # Hypercert detail view (server component)\n│   ├── profile/page.tsx              # Certified profile editor\n│   └── bsky-profile/page.tsx         # Bluesky profile editor\n│\n├── lib/\n│   ├── config.ts                     # Centralized config, env validation, URL detection\n│   ├── hypercerts-sdk.ts             # SDK singleton initialization\n│   ├── atproto-session.ts            # Session restore helpers (server-only, cached)\n│   ├── redis.ts                      # Redis client singleton (server-only)\n│   ├── redis-state-store.ts          # Redis-backed OAuth state + session stores\n│   ├── create-actions.ts             # Server Actions (\"use server\")\n│   ├── blob-utils.ts                 # Blob/image URL resolution (server-only)\n│   ├── utils.ts                      # Shared utilities (cn, validators)\n│   ├── types.ts                      # Core TypeScript types\n│   └── api/                          # Client-side API layer\n│       ├── client.ts                 # Base fetch wrappers (JSON, FormData)\n│       ├── auth.ts                   # Auth API functions\n│       ├── hypercerts.ts             # Hypercert API functions\n│       ├── profile.ts               # Profile API functions\n│       ├── query-keys.ts            # Centralized TanStack Query key factory\n│       └── external/\n│           ├── bluesky.ts            # Bluesky public API (search, profiles)\n│           └── constellation.ts      # Constellation backlinks API\n│\n├── providers/\n│   ├── AllProviders.tsx              # QueryClientProvider (client component)\n│   └── SignedInProvider.tsx           # Auth gate + Navbar (server component)\n│\n├── queries/                          # TanStack Query hooks (all client-side)\n│   ├── auth/                         # Login/logout mutations\n│   ├── hypercerts/                   # Create, attach, list queries/mutations\n│   ├── profile/                      # Profile update mutations\n│   └── external/                     # Bluesky search, Constellation queries\n│\n├── components/\n│   ├── ui/                           # shadcn/ui primitives (button, dialog, etc.)\n│   ├── navbar.tsx                    # Top navigation\n│   ├── login-dialog.tsx              # Login form\n│   ├── hypercerts-create-form.tsx    # Create wizard wrapper\n│   ├── evidence-form.tsx             # Evidence step\n│   ├── locations-form.tsx            # Location step\n│   ├── measurement-form.tsx          # Measurement step\n│   ├── evaluation-form.tsx           # Evaluation step\n│   ├── hypercert-detail-view.tsx     # Detail page client component\n│   ├── profile-form.tsx              # Certified profile form\n│   └── bsky-profile-form.tsx         # Bluesky profile form\n│\n├── lexicons/                         # Auto-generated ATProto lexicon types\n│   └── types/org/hypercerts/claim/   # Hypercert record type definitions\n│\n├── scripts/\n│   └── generate-jwk.mjs             # JWK key pair generator (ES256)\n│\n└── vendor/                           # Packed SDK tarballs (pre-release)\n```\n\nAfter the tree, add a brief paragraph explaining the key architectural boundaries:\n- `app/` contains pages (server components by default) and API routes\n- `lib/` is split: top-level files are server-only, `lib/api/` is the client-side fetch layer\n- `providers/` has one server component (SignedInProvider) and one client component (AllProviders)\n- `queries/` is entirely client-side TanStack Query hooks\n- `components/` is entirely client-side React components\n- `lexicons/` is auto-generated — do not edit manually\n\n## Dont\n- List every single file in components/ui/ (just say \"shadcn/ui primitives\")\n- List loading.tsx or layout.tsx files unless they do something meaningful\n- Include the tests/ directory (minimal, not useful for docs)\n- Change any section outside of Project Structure","acceptance_criteria":"1. Project structure section contains a comprehensive annotated tree in a code block\n2. All directories listed above are present with inline comments\n3. A summary paragraph after the tree explains the server/client boundaries\n4. components/ui/ is summarized, not listed file-by-file\n5. No other sections are modified","status":"closed","priority":2,"issue_type":"task","assignee":"karma.gainforest.id","owner":"karma.gainforest.id","estimated_minutes":45,"created_at":"2026-02-17T12:02:50.906045436+06:00","created_by":"karma.gainforest.id","updated_at":"2026-02-17T12:14:39.474919695+06:00","closed_at":"2026-02-17T12:14:39.474919695+06:00","close_reason":"bf30776 Rewrite project structure section with comprehensive annotated tree","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-rsa.6","depends_on_id":"docs-rsa","type":"parent-child","created_at":"2026-02-17T12:02:50.907462063+06:00","created_by":"karma.gainforest.id"},{"issue_id":"docs-rsa.6","depends_on_id":"docs-rsa.5","type":"blocks","created_at":"2026-02-17T12:02:50.909892906+06:00","created_by":"karma.gainforest.id"}]}
{"id":"docs-scg","title":"Epic: Bug Fixes \u0026 Design Polish","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:01.764873+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:13:13.114836+13:00","closed_at":"2026-02-14T21:13:13.114836+13:00","close_reason":"All 9 tasks complete. All acceptance tests pass. Build succeeds."}
{"id":"docs-scg.1","title":"Fix SSR hydration mismatch in Layout.js — guard localStorage with typeof window check","description":"## Files\n- documentation/components/Layout.js (modify)\n\n## What to do\nLine 21 calls `localStorage.getItem(\"sidebar-collapsed\")` inside a `useEffect` without guarding against SSR. While `useEffect` only runs client-side in React, Next.js static export can still trigger hydration warnings if the initial render differs from server render.\n\nFix: Wrap the `localStorage` access in a `typeof window !== \"undefined\"` check inside the existing `useEffect` on lines 20-25. Also wrap the `localStorage.setItem` call on line 30 in the same guard.\n\nBefore (line 20-25):\n```js\nuseEffect(() =\u003e {\n  const stored = localStorage.getItem(\"sidebar-collapsed\");\n  if (stored === \"true\") {\n    setSidebarCollapsed(true);\n  }\n}, []);\n```\n\nAfter:\n```js\nuseEffect(() =\u003e {\n  if (typeof window === \"undefined\") return;\n  const stored = localStorage.getItem(\"sidebar-collapsed\");\n  if (stored === \"true\") {\n    setSidebarCollapsed(true);\n  }\n}, []);\n```\n\nAlso update `toggleCollapsed` (line 27-31):\n```js\nconst toggleCollapsed = () =\u003e {\n  const next = !sidebarCollapsed;\n  setSidebarCollapsed(next);\n  if (typeof window !== \"undefined\") {\n    localStorage.setItem(\"sidebar-collapsed\", String(next));\n  }\n};\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/Layout.js\\\", \\\"utf8\\\");\nconst hasGuard = src.includes(\\\"typeof window\\\");\nif (!hasGuard) { console.error(\\\"FAIL: missing typeof window guard\\\"); process.exit(1); }\nconsole.log(\\\"PASS: localStorage guarded with typeof window check\\\");\n\"\n```\n\n## Dont\n- Do not change any other component files\n- Do not change the sidebar collapse behavior or UX\n- Do not add try/catch around localStorage (the guard is sufficient)\n- Do not remove the useEffect or change its dependency array","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:16.432116+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:35.991575+13:00","closed_at":"2026-02-14T21:10:35.991575+13:00","close_reason":"e4a6983 guard localStorage with typeof window check in Layout.js","dependencies":[{"issue_id":"docs-scg.1","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:16.433467+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.2","title":"Fix IntersectionObserver memory leak in TableOfContents.js","description":"## Files\n- documentation/components/TableOfContents.js (modify)\n\n## What to do\nThe IntersectionObserver cleanup in the second useEffect (lines 28-59) is not fully robust. If the component unmounts while headings are being observed, the observer ref may not be properly nullified. Additionally, the observer should be disconnected and nullified in the cleanup function.\n\nFix the cleanup function (lines 54-58) to also null out the ref after disconnecting:\n\nBefore:\n```js\nreturn () =\u003e {\n  if (observerRef.current) {\n    observerRef.current.disconnect();\n  }\n};\n```\n\nAfter:\n```js\nreturn () =\u003e {\n  if (observerRef.current) {\n    observerRef.current.disconnect();\n    observerRef.current = null;\n  }\n};\n```\n\nAlso add a guard at the top of the first useEffect (lines 9-25) for SSR safety:\n```js\nuseEffect(() =\u003e {\n  if (typeof window === \"undefined\") return;\n  const article = document.querySelector(\".layout-content article\");\n  // ... rest unchanged\n}, []);\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/TableOfContents.js\\\", \\\"utf8\\\");\nconst hasNullify = src.includes(\\\"observerRef.current = null\\\");\nif (!hasNullify) { console.error(\\\"FAIL: observer ref not nullified in cleanup\\\"); process.exit(1); }\nconsole.log(\\\"PASS: IntersectionObserver cleanup is robust\\\");\n\"\n```\n\n## Dont\n- Do not change the IntersectionObserver options (rootMargin, threshold)\n- Do not change the scroll spy logic or active heading detection\n- Do not change the JSX/rendering\n- Do not add any new dependencies","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:26.158667+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:11:16.194047+13:00","closed_at":"2026-02-14T21:11:16.194047+13:00","close_reason":"e4a6983 - Changes already implemented in docs-scg.1 commit (SSR guard and observer ref nullification)","dependencies":[{"issue_id":"docs-scg.2","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:26.15979+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.3","title":"Fix router event listener leak in Sidebar.js — stabilize onClose callback","description":"## Files\n- documentation/components/Sidebar.js (modify)\n\n## What to do\nIn the Sidebar component (lines 116-122), the useEffect registers a `routeChangeComplete` event listener that calls `onClose`. The dependency array includes `[router, onClose]`. Since `onClose` is `() =\u003e setSidebarOpen(false)` — an inline arrow function created each render in Layout.js — this causes the listener to be torn down and re-registered on every render.\n\nFix: Use a ref to hold the latest `onClose` callback, so the effect only depends on `router`. This prevents unnecessary re-registration.\n\nReplace lines 116-122 with:\n```js\nconst onCloseRef = useRef(onClose);\nuseEffect(() =\u003e {\n  onCloseRef.current = onClose;\n});\n\nuseEffect(() =\u003e {\n  const handleRouteChange = () =\u003e {\n    if (onCloseRef.current) onCloseRef.current();\n  };\n  router.events.on(\"routeChangeComplete\", handleRouteChange);\n  return () =\u003e router.events.off(\"routeChangeComplete\", handleRouteChange);\n}, [router]);\n```\n\nYou will also need to add `useRef` to the import on line 1:\n```js\nimport { useState, useEffect, useRef } from \"react\";\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst src = fs.readFileSync(\\\"components/Sidebar.js\\\", \\\"utf8\\\");\nconst hasRef = src.includes(\\\"useRef\\\") \u0026\u0026 src.includes(\\\"onCloseRef\\\");\nconst noOnCloseInDeps = !src.match(/\\\\[router,\\\\s*onClose\\\\]/);\nif (!hasRef) { console.error(\\\"FAIL: missing useRef for onClose\\\"); process.exit(1); }\nif (!noOnCloseInDeps) { console.error(\\\"FAIL: onClose still in useEffect deps\\\"); process.exit(1); }\nconsole.log(\\\"PASS: router event listener stabilized with ref\\\");\n\"\n```\n\n## Dont\n- Do not change the NavItem or NavSection components\n- Do not change the sidebar JSX structure or CSS classes\n- Do not remove the routeChangeComplete listener (it is needed for mobile sidebar close)\n- Do not change the navigation import or data","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:36.189703+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:39.443531+13:00","closed_at":"2026-02-14T21:10:39.443531+13:00","close_reason":"d5eb099 stabilize onClose callback with useRef in Sidebar.js","dependencies":[{"issue_id":"docs-scg.3","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:36.191148+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.4","title":"Fix Evidence nav link — rename title or file to match","description":"## Files\n- documentation/lib/navigation.js (modify)\n\n## What to do\nIn navigation.js line 33, the nav entry has title \"Evidence\" but links to path `/lexicons/hypercerts-lexicons/attachment`. The actual file is `documentation/pages/lexicons/hypercerts-lexicons/attachment.md` which exists. The mismatch is that the nav title says \"Evidence\" but the URL says \"attachment\" — this is confusing but technically works.\n\nThe fix: Rename the file to match the nav title. Create `evidence.md` from `attachment.md` and update the nav path.\n\nSteps:\n1. Copy `documentation/pages/lexicons/hypercerts-lexicons/attachment.md` to `documentation/pages/lexicons/hypercerts-lexicons/evidence.md`\n2. In the new `evidence.md`, update the frontmatter title to \"Evidence\" if it says \"Attachment\"\n3. Update `documentation/lib/navigation.js` line 33: change `path: \"/lexicons/hypercerts-lexicons/attachment\"` to `path: \"/lexicons/hypercerts-lexicons/evidence\"`\n4. Delete the old `attachment.md` file\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst nav = fs.readFileSync(\\\"lib/navigation.js\\\", \\\"utf8\\\");\nconst hasEvidence = nav.includes(\\\"/lexicons/hypercerts-lexicons/evidence\\\");\nconst noAttachment = !nav.includes(\\\"/lexicons/hypercerts-lexicons/attachment\\\");\nconst fileExists = fs.existsSync(\\\"pages/lexicons/hypercerts-lexicons/evidence.md\\\");\nconst oldGone = !fs.existsSync(\\\"pages/lexicons/hypercerts-lexicons/attachment.md\\\");\nif (!hasEvidence) { console.error(\\\"FAIL: nav missing evidence path\\\"); process.exit(1); }\nif (!noAttachment) { console.error(\\\"FAIL: nav still has attachment path\\\"); process.exit(1); }\nif (!fileExists) { console.error(\\\"FAIL: evidence.md does not exist\\\"); process.exit(1); }\nif (!oldGone) { console.error(\\\"FAIL: attachment.md still exists\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Evidence nav link and file are consistent\\\");\n\"\n```\n\n## Dont\n- Do not change any other navigation entries\n- Do not change the content of the file (only the frontmatter title if needed)\n- Do not modify any other files besides navigation.js and the renamed markdown file","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:06:49.936961+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:46.051008+13:00","closed_at":"2026-02-14T21:10:46.051008+13:00","close_reason":"494906a Renamed attachment.md to evidence.md and updated navigation link to match","dependencies":[{"issue_id":"docs-scg.4","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:06:49.938055+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.5","title":"Add placeholder content to stub pages (infrastructure + SDK)","description":"## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n- documentation/pages/getting-started/installing-the-sdk.md (modify)\n\n## What to do\nTwo stub pages have no real content. Add meaningful placeholder content that is accurate based on the rest of the documentation. These pages are about the Hypercerts protocol built on ATProto.\n\n### the-hypercerts-infrastructure.md\nReplace the current stub (just \"### Why ATProto?\" and \"_TBD_\") with:\n\n```markdown\n---\ntitle: The Hypercerts Infrastructure\n---\n\n# The Hypercerts Infrastructure\n\nThe Hypercerts protocol is built on top of the AT Protocol (ATProto), a decentralized social networking framework. This page explains the infrastructure choices and how they enable the hypercerts system.\n\n## Why ATProto?\n\nThe AT Protocol provides several properties that make it ideal for hypercerts:\n\n- **Decentralized identity**: Users control their own identity through DIDs (Decentralized Identifiers), ensuring that impact claims are tied to verifiable actors\n- **Lexicon-based schemas**: ATProto uses Lexicons to define data schemas, providing a structured and extensible way to represent hypercerts data\n- **Federation**: Data is stored across federated servers (Personal Data Servers), giving users data sovereignty while maintaining interoperability\n- **Content addressing**: Records are content-addressed, making hypercerts tamper-evident and auditable\n\n## Architecture Overview\n\nThe hypercerts infrastructure consists of:\n\n1. **Personal Data Servers (PDS)**: Store user data including hypercert records, evaluations, and contributions\n2. **Lexicon schemas**: Define the structure of all hypercert-related records (see [Lexicons](/lexicons/introduction-to-lexicons))\n3. **Record types**: Activity claims, contributions, evaluations, measurements, evidence, rights, and collections\n\n## Data Flow\n\nWhen a user creates a hypercert:\n\n1. The claim is structured according to the relevant lexicon schema\n2. The record is stored on the user's PDS\n3. Other users can reference, evaluate, or contribute to the claim using linked records\n4. All records maintain cryptographic integrity through ATProto's content addressing\n```\n\n### installing-the-sdk.md\nReplace the empty stub with:\n\n```markdown\n---\ntitle: Installing the SDK\n---\n\n# Installing the SDK\n\nThis page covers how to set up your development environment for working with the Hypercerts protocol.\n\n## Prerequisites\n\nBefore getting started, ensure you have:\n\n- **Node.js** (v18 or later)\n- **npm** or **yarn** package manager\n- An AT Protocol account (e.g., a Bluesky account)\n\n## Installation\n\nInstall the hypercerts SDK via npm:\n\n```\nnpm install @hypercerts/sdk\n```\n\nOr with yarn:\n\n```\nyarn add @hypercerts/sdk\n```\n\n## Configuration\n\nAfter installation, configure the SDK with your ATProto credentials:\n\n```\nimport { HypercertsClient } from \"@hypercerts/sdk\";\n\nconst client = new HypercertsClient({\n  service: \"https://bsky.social\",\n  // Additional configuration options\n});\n```\n\n## Next Steps\n\n- Learn about the [lexicon schemas](/lexicons/introduction-to-lexicons) that define hypercert data structures\n- Explore the [work scope](/deep-dive-the-work-scope) concept in depth\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst infra = fs.readFileSync(\\\"pages/getting-started/the-hypercerts-infrastructure.md\\\", \\\"utf8\\\");\nconst sdk = fs.readFileSync(\\\"pages/getting-started/installing-the-sdk.md\\\", \\\"utf8\\\");\nconst infraHasContent = infra.length \u003e 200 \u0026\u0026 !infra.includes(\\\"_TBD_\\\");\nconst sdkHasContent = sdk.length \u003e 200 \u0026\u0026 sdk.includes(\\\"npm\\\");\nif (!infraHasContent) { console.error(\\\"FAIL: infrastructure page still a stub\\\"); process.exit(1); }\nif (!sdkHasContent) { console.error(\\\"FAIL: SDK page still a stub\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Both stub pages have meaningful content\\\");\n\"\n```\n\n## Dont\n- Do not change the frontmatter title fields\n- Do not add any Markdoc custom tags (use standard markdown only)\n- Do not modify any other pages\n- Do not change navigation.js","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:10.12344+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:10:58.791793+13:00","closed_at":"2026-02-14T21:10:58.791793+13:00","close_reason":"1e42be8 filled stub pages with meaningful content for infrastructure and SDK","dependencies":[{"issue_id":"docs-scg.5","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:10.124804+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.6","title":"Reduce content max-width from 1175px to 800px for readability","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area max-width is currently 1175px (line 110: `--content-max-width: 1175px`). This is too wide for comfortable reading. Reduce it to 800px.\n\nChange line 110 in globals.css:\n\nBefore:\n```css\n--content-max-width: 1175px;\n```\n\nAfter:\n```css\n--content-max-width: 800px;\n```\n\nThat is the ONLY change needed. The CSS variable is already used by `.layout-content` on line 445.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst match = css.match(/--content-max-width:\\\\s*(\\\\d+)px/);\nif (!match) { console.error(\\\"FAIL: content-max-width variable not found\\\"); process.exit(1); }\nconst width = parseInt(match[1]);\nif (width \u003e 850) { console.error(\\\"FAIL: content-max-width is \\\" + width + \\\"px, expected \u003c= 850\\\"); process.exit(1); }\nif (width \u003c 700) { console.error(\\\"FAIL: content-max-width is \\\" + width + \\\"px, too narrow\\\"); process.exit(1); }\nconsole.log(\\\"PASS: content-max-width is \\\" + width + \\\"px\\\");\n\"\n```\n\n## Dont\n- Do not change any other CSS variables\n- Do not change the .layout-content rule itself\n- Do not modify any component files\n- Only touch the single CSS variable declaration","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:19.971101+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:11:59.877268+13:00","closed_at":"2026-02-14T21:11:59.877268+13:00","close_reason":"Already completed - max-width changed to 800px in commit 1e42be8","dependencies":[{"issue_id":"docs-scg.6","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:19.97185+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.7","title":"Increase content padding — 40px top, 48px sides","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe content area padding is currently `var(--space-6) var(--space-6)` which is `24px 24px` (line 446). Increase to 40px top and 48px sides for better breathing room.\n\nChange line 446 in globals.css:\n\nBefore:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-6) var(--space-6);\n}\n```\n\nAfter:\n```css\n.layout-content {\n  flex: 1;\n  min-width: 0;\n  max-width: var(--content-max-width);\n  padding: var(--space-10) var(--space-12);\n}\n```\n\nNote: `--space-10` = 40px, `--space-12` = 48px (these variables already exist in the design tokens).\n\nAlso update the mobile responsive override on line 916:\nBefore:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n\nAfter:\n```css\n.layout-content {\n  padding: var(--space-6) var(--space-4);\n}\n```\n(Keep mobile padding the same — 24px top, 16px sides is fine for mobile.)\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\n// Find the .layout-content rule (not inside @media)\nconst contentRule = css.match(/\\\\.layout-content\\\\s*\\\\{[^}]*padding:\\\\s*var\\\\(--space-10\\\\)\\\\s+var\\\\(--space-12\\\\)/);\nif (!contentRule) { console.error(\\\"FAIL: .layout-content padding not updated to space-10 space-12\\\"); process.exit(1); }\nconsole.log(\\\"PASS: Content padding increased to 40px 48px\\\");\n\"\n```\n\n## Dont\n- Do not change the mobile responsive padding (keep it as-is)\n- Do not change any other properties in .layout-content\n- Do not modify any component files\n- Do not change the design token values themselves","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:29.179182+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:12:00.942832+13:00","closed_at":"2026-02-14T21:12:00.942832+13:00","close_reason":"Already completed - padding changed to space-10/space-12 in commit 1e42be8","dependencies":[{"issue_id":"docs-scg.7","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:29.180577+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.8","title":"Reduce H3 font-size from 20px to 18px for heading hierarchy","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nH3 and H2 are both 20px, which breaks visual hierarchy. Reduce H3 to 18px.\n\nChange the `.layout-content h3` rule (lines 576-583):\n\nBefore:\n```css\n.layout-content h3 {\n  font-size: 20px;\n  font-weight: 600;\n  color: var(--color-text-heading);\n  line-height: 1.4;\n  margin-top: var(--space-8);\n  margin-bottom: var(--space-2);\n}\n```\n\nAfter:\n```css\n.layout-content h3 {\n  font-size: 18px;\n  font-weight: 600;\n  color: var(--color-text-heading);\n  line-height: 1.4;\n  margin-top: var(--space-8);\n  margin-bottom: var(--space-2);\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst h3Match = css.match(/\\\\.layout-content\\\\s+h3\\\\s*\\\\{[^}]*font-size:\\\\s*(\\\\d+)px/);\nconst h2Match = css.match(/\\\\.layout-content\\\\s+h2\\\\s*\\\\{[^}]*font-size:\\\\s*(\\\\d+)px/);\nif (!h3Match) { console.error(\\\"FAIL: h3 font-size not found\\\"); process.exit(1); }\nif (!h2Match) { console.error(\\\"FAIL: h2 font-size not found\\\"); process.exit(1); }\nconst h3Size = parseInt(h3Match[1]);\nconst h2Size = parseInt(h2Match[1]);\nif (h3Size \u003e= h2Size) { console.error(\\\"FAIL: h3 (\\\" + h3Size + \\\"px) should be smaller than h2 (\\\" + h2Size + \\\"px)\\\"); process.exit(1); }\nif (h3Size !== 18) { console.error(\\\"FAIL: h3 is \\\" + h3Size + \\\"px, expected 18px\\\"); process.exit(1); }\nconsole.log(\\\"PASS: h3 is 18px, h2 is \\\" + h2Size + \\\"px — proper hierarchy\\\");\n\"\n```\n\n## Dont\n- Do not change H2 font-size (keep at 20px)\n- Do not change H1 or H4 styles\n- Do not change any other H3 properties (weight, color, line-height, margins)\n- Do not modify any component files","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:37.278427+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:12:02.042186+13:00","closed_at":"2026-02-14T21:12:02.042186+13:00","close_reason":"Already completed - H3 font-size changed to 18px in commit 1e42be8","dependencies":[{"issue_id":"docs-scg.8","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:37.279736+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-scg.9","title":"Increase sidebar section divider spacing from 8px to 20px","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe sidebar section dividers (`.sidebar-section`) have `margin-top: var(--space-2)` and `padding-top: var(--space-2)` which is only 8px each. This makes sections feel cramped. Increase to 20px each.\n\nChange the `.sidebar-section` rule (lines 349-354):\n\nBefore:\n```css\n.sidebar-section {\n  margin-top: var(--space-2);\n  padding-top: var(--space-2);\n  border-top: 1px solid var(--color-border);\n  list-style: none;\n}\n```\n\nAfter:\n```css\n.sidebar-section {\n  margin-top: var(--space-5);\n  padding-top: var(--space-5);\n  border-top: 1px solid var(--color-border);\n  list-style: none;\n}\n```\n\nNote: `--space-5` = 20px (already defined in design tokens).\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst sectionRule = css.match(/\\\\.sidebar-section\\\\s*\\\\{[^}]*margin-top:\\\\s*var\\\\(--space-(\\\\d+)\\\\)/);\nif (!sectionRule) { console.error(\\\"FAIL: sidebar-section margin-top not found\\\"); process.exit(1); }\nconst spaceNum = parseInt(sectionRule[1]);\nif (spaceNum \u003c 4) { console.error(\\\"FAIL: sidebar-section spacing too tight (space-\\\" + spaceNum + \\\")\\\"); process.exit(1); }\nconsole.log(\\\"PASS: sidebar-section uses space-\\\" + spaceNum + \\\" for margin-top\\\");\n\"\n```\n\n## Dont\n- Do not change the border-top style\n- Do not change the :first-child override (lines 356-360)\n- Do not change any other sidebar styles\n- Do not modify any component files","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T21:07:44.340001+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T21:12:03.031038+13:00","closed_at":"2026-02-14T21:12:03.031038+13:00","close_reason":"Already completed - sidebar spacing changed to space-5 in commit 1e42be8","dependencies":[{"issue_id":"docs-scg.9","depends_on_id":"docs-scg","type":"parent-child","created_at":"2026-02-14T21:07:44.34153+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-urb","title":"Epic: Tutorials \u0026 Use Cases","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:47.564891+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:18.099134+13:00","closed_at":"2026-02-15T01:08:18.099134+13:00","close_reason":"All children complete: urb.1 (common use cases), urb.2 (creating first hypercert), urb.3 (working with evaluations)"}
{"id":"docs-urb.1","title":"Write 'Common Use Cases' page with 4 real-world scenarios","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: Their \"Common use cases\" section with pages like \"Accept simple payments as a startup\", \"Sell subscriptions as a SaaS startup\", etc. Each shows a concrete scenario with the relevant API calls.\n\nThe hypercerts docs currently have examples embedded in lexicon pages (NumPy maintainers, forest stewardship) but no dedicated use-case pages that show the full workflow.\n\n## Files\n- documentation/pages/tutorials/common-use-cases.md (create)\n- documentation/lib/navigation.js (modify — add new \"Tutorials\" section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/common-use-cases.md` (180–260 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Common Use Cases\ndescription: See how hypercerts work for different types of contributions.\n---\n```\n\n**Sections:**\n\n1. **Introduction** (2-3 paragraphs) — Hypercerts are domain-agnostic. This page shows four concrete scenarios to illustrate how the protocol adapts to different types of work.\n\n2. **Use Case 1: Open-Source Software Maintenance** \n   - Scenario: A team of 5 developers maintained NumPy throughout 2025\n   - What they create:\n     - Activity claim: title=\"NumPy Maintenance 2025\", workScope with allOf=[\"numpy\", \"maintenance\"], startDate/endDate for 2025\n     - Contributions: one per developer, each with their DID, role=\"maintainer\"\n     - Evidence: links to GitHub commits, release notes, CI dashboards\n     - Measurements: lines of code, issues resolved, releases published\n   - Show the JSON for the activity claim record (use the schema from `documentation/pages/lexicons/hypercerts-lexicons/activity-claim.md`)\n   - Who funds this: foundations like the NumFOCUS, corporate sponsors\n\n3. **Use Case 2: Regenerative Land Stewardship**\n   - Scenario: A community organization stewarded 500 hectares of forest in Costa Rica from 2020-2025\n   - What they create:\n     - Activity claim with location reference, workScope with allOf=[\"forest-stewardship\", \"biodiversity\"]\n     - Evidence: satellite imagery, biodiversity surveys\n     - Measurements: hectares restored, species count, carbon sequestered\n     - Location record using the `app.certified.location` lexicon with geojson-point\n   - Who funds this: climate funds, carbon credit buyers, government grants\n\n4. **Use Case 3: Scientific Research**\n   - Scenario: A research group published a breakthrough paper on mRNA delivery mechanisms\n   - What they create:\n     - Activity claim for the research project\n     - Contributions for each researcher with roles (PI, postdoc, lab technician)\n     - Evidence: published paper DOI, dataset links, preprint\n     - Evaluations: peer reviews from other scientists\n   - Who funds this: research foundations, universities, retroactive public goods funding\n\n5. **Use Case 4: Community Event Organization**\n   - Scenario: A local group organized a series of 12 monthly coding workshops for underrepresented groups\n   - What they create:\n     - Activity claim for the workshop series\n     - Contributions for organizers and volunteer instructors\n     - Evidence: attendance records, participant feedback, curriculum materials\n     - Measurements: number of workshops, total attendees, completion rates\n   - Who funds this: corporate diversity programs, community foundations\n\n6. **Choosing the Right Structure** — Brief guidance on:\n   - When to use one hypercert vs. multiple (granularity)\n   - How to scope work appropriately (link to deep-dive-the-work-scope)\n   - When to use collections to group related hypercerts\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add a new top-level section AFTER \"Getting Started\" and BEFORE \"Lexicons\":\n\n```javascript\n{\n  section: 'Tutorials',\n  children: [\n    { title: 'Common Use Cases', path: '/tutorials/common-use-cases' },\n  ],\n},\n```\n\n## Writing style\n- Concrete and practical — show actual JSON records, not just descriptions\n- Each use case should feel like a mini-tutorial\n- Use `##` for main sections (each use case), `####` for subsections within\n- Use fenced code blocks with ```json for record examples\n- Link to relevant lexicon pages when referencing specific record types\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields that do not exist — use only fields documented in the existing lexicon pages.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:50:37.291363+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:30:16.317876+13:00","closed_at":"2026-02-15T00:30:16.317884+13:00","dependencies":[{"issue_id":"docs-urb.1","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:50:37.292573+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":17,"issue_id":"docs-urb.1","author":"Sharfy Adamantine","text":"NAV UPDATE: Navigation reorganized. Add the 'Tutorials' section AFTER 'Lexicons'. Use real SDK patterns: @hypercerts-org/sdk-core, createATProtoSDK(), repo.hypercerts.create(). Reference certified.app for account creation. No 'See also' sections.","created_at":"2026-02-14T11:24:46Z"}]}
{"id":"docs-urb.2","title":"Write 'Creating Your First Hypercert' tutorial page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe's equivalent: \"Accept a payment\" tutorial — a step-by-step walkthrough that goes deeper than the quickstart. While the quickstart (separate task) shows the minimal path, this tutorial explains each step, shows variations, and covers edge cases.\n\n## Files\n- documentation/pages/tutorials/creating-your-first-hypercert.md (create)\n- documentation/lib/navigation.js (modify — add entry under Tutorials section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/creating-your-first-hypercert.md` (150–220 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Creating Your First Hypercert\ndescription: A step-by-step guide to creating a complete hypercert with contributions, evidence, and evaluations.\n---\n```\n\n**Sections:**\n\n1. **Introduction** — This tutorial walks through creating a complete hypercert for an open-source project. Unlike the quickstart (which creates a minimal claim), this tutorial shows how to attach contributions, evidence, and measurements.\n\n2. **Prerequisites** — Link to the Installing the SDK page. Assume the reader has a working SDK setup and authenticated session.\n\n3. **Step 1: Plan Your Hypercert** — Before writing code, decide:\n   - What work are you claiming? (scope)\n   - Who contributed? (contributors)\n   - What time period? (start/end dates)\n   - What evidence do you have? (links, documents)\n   - Use a concrete example: \"Documenting the Hypercerts Protocol, Q1 2025\"\n\n4. **Step 2: Create the Activity Claim** — Full TypeScript code example:\n   - Create an `org.hypercerts.claim.activity` record\n   - Include all fields: title, shortDescription, description, workScope (with allOf/anyOf/noneOf), startDate, endDate, createdAt\n   - Show the workScope object with concrete values\n   - Explain each field with inline comments\n   - Show the response (AT URI and CID)\n\n5. **Step 3: Add Contributions** — Create contribution records:\n   - Create an `org.hypercerts.claim.contribution` record for each contributor\n   - Show how to set contributors (array of DIDs), role, description\n   - Show how to link contributions to the activity claim using strong references\n   - Explain that contributions can be on the same or different PDS\n\n6. **Step 4: Attach Evidence** — Create evidence records:\n   - Create an `org.hypercerts.claim.evidence` record\n   - Show both URI-based evidence (linking to a GitHub repo) and blob-based evidence (uploading a document)\n   - Link evidence to the activity claim\n\n7. **Step 5: Add Measurements** — Create measurement records:\n   - Create an `org.hypercerts.claim.measurement` record\n   - Show a concrete example: metric=\"documentation-pages-written\", value=\"15\"\n   - Link to the activity claim\n\n8. **Step 6: Verify Everything** — Read back all records and show how they connect:\n   - List all records in the activity claim collection\n   - Show how strong references link records together\n   - Verify the complete hypercert structure\n\n9. **What's Next** — Card links to:\n   - \"Common Use Cases\" for more scenarios\n   - \"Evaluation\" lexicon for how others can evaluate your hypercert\n   - \"Collections\" for grouping multiple hypercerts\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add under the Tutorials section (which should exist from the Common Use Cases task):\n\n```javascript\n{ title: 'Creating Your First Hypercert', path: '/tutorials/creating-your-first-hypercert' },\n```\n\n## Writing style\n- Tutorial style: \"we\" voice, step-by-step, explain as you go\n- Every code block should be complete and runnable (with placeholder auth)\n- Use `{% callout %}` for tips and important notes\n- Use fenced code blocks with ```typescript for code, ```json for data structures\n- Reference lexicon field names exactly as documented in existing lexicon pages\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields that do not exist in the existing lexicon documentation.\n- Do NOT duplicate the quickstart content — this goes deeper.","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:00.775834+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:32:22.691723+13:00","closed_at":"2026-02-15T00:32:22.691728+13:00","dependencies":[{"issue_id":"docs-urb.2","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:51:00.777066+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-urb.2","depends_on_id":"docs-cfx.3","type":"blocks","created_at":"2026-02-14T20:54:30.584248+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":18,"issue_id":"docs-urb.2","author":"Sharfy Adamantine","text":"NAV UPDATE: Navigation reorganized. Add under 'Tutorials' section (after 'Lexicons' in nav). Use real SDK patterns: @hypercerts-org/sdk-core, createATProtoSDK(), repo.hypercerts.create(). Reference certified.app for account creation. No 'See also' sections. Keep it Stripe-style: action-first, code-heavy, minimal preamble.","created_at":"2026-02-14T11:24:52Z"}]}
{"id":"docs-urb.3","title":"Write 'Working with Evaluations' tutorial page","description":"## Context\n\nThis project is a documentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. The site lives in `documentation/`. Pages are Markdoc `.md` files in `documentation/pages/`. Navigation is defined in `documentation/lib/navigation.js`. Available Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nEvaluations are a core differentiator of the Hypercerts Protocol — they allow third parties to assess claims. The existing evaluation lexicon page (`documentation/pages/lexicons/hypercerts-lexicons/evaluation.md`) documents the schema but does not show how to use it in practice.\n\n## Files\n- documentation/pages/tutorials/working-with-evaluations.md (create)\n- documentation/lib/navigation.js (modify — add entry under Tutorials section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/tutorials/working-with-evaluations.md` (120–170 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Working with Evaluations\ndescription: Learn how to evaluate hypercerts and build trust in the ecosystem.\n---\n```\n\n**Sections:**\n\n1. **What are Evaluations?** (3-4 paragraphs)\n   - Evaluations are third-party assessments of hypercert claims\n   - They are separate records on the evaluator's own PDS (not embedded in the original claim)\n   - Multiple evaluators can independently assess the same claim\n   - Evaluations accumulate over time — they are never \"final\"\n   - Reference the evaluation lexicon: `org.hypercerts.claim.evaluation`\n\n2. **Creating an Evaluation** — TypeScript code walkthrough:\n   - Authenticate as the evaluator (different DID from the claim creator)\n   - Create an `org.hypercerts.claim.evaluation` record\n   - Set the `subject` field as a strong reference to the activity claim being evaluated\n   - Set `evaluators` array with the evaluator's DID(s)\n   - Write a `summary` \n   - Optionally link to detailed evaluation documents via `evaluations` array (URIs or blobs)\n   - Show the complete code and expected response\n\n3. **Evaluation Patterns** — Common approaches:\n   - **Expert Review**: A domain expert evaluates a single claim in depth\n   - **Community Assessment**: Multiple community members each create lightweight evaluations\n   - **Automated Evaluation**: An AI or automated system creates evaluations based on data analysis\n   - For each pattern, show a brief code snippet or JSON example\n\n4. **Linking Measurements to Evaluations** — How measurements support evaluations:\n   - Measurements (`org.hypercerts.claim.measurement`) provide quantitative data\n   - Evaluations can reference measurements as supporting evidence\n   - Show how an evaluator might create measurements first, then reference them in their evaluation\n\n5. **Querying Evaluations** — How to find evaluations for a given hypercert:\n   - Explain that indexers aggregate evaluations across PDS instances\n   - Show a conceptual query: \"find all evaluations where subject references this activity claim\"\n   - Note that the specific query API depends on the indexer implementation\n\n6. **Trust and Reputation** — How evaluations build trust:\n   - Evaluator identity is tied to their DID\n   - Over time, evaluators build a track record\n   - Platforms can weight evaluations based on evaluator reputation\n   - This creates incentives for high-quality, honest evaluations\n\n### 2. Add to navigation\n\nIn `documentation/lib/navigation.js`, add under the Tutorials section:\n\n```javascript\n{ title: 'Working with Evaluations', path: '/tutorials/working-with-evaluations' },\n```\n\n## Writing style\n- Tutorial style with conceptual depth\n- Use `##` for main sections, `####` for subsections\n- Use fenced code blocks with ```typescript for code, ```json for data\n- Reference the evaluation lexicon page: link to `/lexicons/hypercerts-lexicons/evaluation`\n- Use `{% callout %}` for important conceptual points\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0 (static export succeeds).\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify any existing pages other than navigation.js.\n- Do NOT use HTML tags — use Markdoc syntax only.\n- Do NOT invent lexicon fields not in the existing evaluation/measurement lexicon docs.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:51:21.622368+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:30:20.611995+13:00","closed_at":"2026-02-15T00:30:20.611998+13:00","dependencies":[{"issue_id":"docs-urb.3","depends_on_id":"docs-urb","type":"parent-child","created_at":"2026-02-14T20:51:21.623548+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-uxs","title":"Epic: Testing, Security \u0026 Operations","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:47:53.388787+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:08:19.713621+13:00","closed_at":"2026-02-15T01:08:19.713621+13:00","close_reason":"All children complete: uxs.1 (testing \u0026 security)"}
{"id":"docs-uxs.1","title":"Write 'Testing \u0026 Security' page","description":"## Context\n\nDocumentation site for the Hypercerts Protocol, built with Next.js 16 + Markdoc. Site lives in `documentation/`. Pages are `.md` files in `documentation/pages/`. Nav in `documentation/lib/navigation.js`. Markdoc tags: `{% callout %}`, `{% columns %}`, `{% column %}`, `{% figure %}`, `{% card-link %}`.\n\nStripe has dedicated \"Testing\" and \"Security\" pages. Hypercerts has neither. This single page covers both since the protocol is earlier-stage than Stripe.\n\n## Files\n- documentation/pages/reference/testing-and-security.md (create)\n- documentation/lib/navigation.js (modify — add entry under Reference section)\n\n## What to do\n\n### 1. Create the page\n\nCreate `documentation/pages/reference/testing-and-security.md` (120–170 lines of Markdoc):\n\n**Frontmatter:**\n```\n---\ntitle: Testing \u0026 Security\ndescription: How to test your integration and understand the security model.\n---\n```\n\n**Sections:**\n\n1. **Testing Your Integration** (~50 lines)\n   - **Local Development**: How to run a local PDS for testing (link to ATProto docs for self-hosting). Use `{% callout %}` to note this is the recommended approach.\n   - **Test Identities**: Create throwaway DIDs for testing. Do not use production identities.\n   - **Sandbox Pattern**: Create test activity claims with a workScope tag like \"test\" so they are easily identifiable and can be cleaned up.\n   - **Verifying Records**: Show a TypeScript snippet that reads back a record by AT URI using `com.atproto.repo.getRecord` and asserts the fields match expectations.\n   - **Cleanup**: How to delete test records using `com.atproto.repo.deleteRecord`.\n\n2. **Security Model** (~40 lines)\n   - **Signed Repositories**: Every PDS repository is a signed Merkle tree. Records are tamper-evident.\n   - **Strong References**: References include a CID (content hash), so you can verify the referenced record has not changed.\n   - **Identity Verification**: DIDs are cryptographically verifiable. Handles can be verified via DNS (did:web) or PLC directory (did:plc).\n   - **Data Integrity**: How the combination of signed repos + CID references creates an auditable chain of claims and evaluations.\n\n3. **Authentication Best Practices** (~30 lines)\n   - Use app passwords, never main passwords, in code\n   - Rotate app passwords regularly\n   - Store credentials in environment variables, never in source code\n   - Use `{% callout type=\"warning\" %}` for the credential storage warning\n   - OAuth for production applications (brief mention, link to ATProto OAuth docs)\n\n4. **Privacy Considerations** (~20 lines)\n   - All ATProto records are public by default — do not store sensitive personal data in hypercert records\n   - What to include vs. what to keep off-protocol\n   - GDPR considerations: right to deletion exists (records can be deleted from PDS), but cached copies may persist in indexers\n   - Use `{% callout type=\"warning\" %}` for the \"records are public\" warning\n\n5. **Going Live Checklist** (~15 lines) — Bulleted checklist:\n   - [ ] Verified your DID and handle are correct\n   - [ ] Tested record creation and reading in a sandbox\n   - [ ] Confirmed all required fields pass validation\n   - [ ] Stored credentials securely (env vars, not source)\n   - [ ] Reviewed records for accidental PII\n   - [ ] Tested cross-PDS references if applicable\n\n### 2. Add to navigation\n\nAdd under the Reference section in `documentation/lib/navigation.js`:\n```javascript\n{ title: 'Testing \u0026 Security', path: '/reference/testing-and-security' },\n```\nIf the Reference section does not yet exist, create it after Architecture.\n\n## Test\n```\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5\n```\nMust exit 0.\n\n## Dont\n- Do NOT add images or new components.\n- Do NOT modify existing pages other than navigation.js.\n- Do NOT use HTML tags.\n- Do NOT invent ATProto API methods that do not exist — `com.atproto.repo.getRecord`, `createRecord`, `deleteRecord` are real.","status":"closed","priority":2,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-14T20:53:28.975298+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T01:04:35.690648+13:00","closed_at":"2026-02-15T01:04:35.690648+13:00","close_reason":"Completed: Created Testing \u0026 Security reference page with local dev setup, test patterns, security model, auth best practices, privacy considerations, and go-live checklist. Added nav entry under Reference section. Build passes.","dependencies":[{"issue_id":"docs-uxs.1","depends_on_id":"docs-uxs","type":"parent-child","created_at":"2026-02-14T20:53:28.976166+13:00","created_by":"Sharfy Adamantine"}],"comments":[{"id":19,"issue_id":"docs-uxs.1","author":"Sharfy Adamantine","text":"NAV UPDATE: Add under 'Reference' section. Full nav order: Get Started → Core Concepts → Architecture → Lexicons → Tutorials → Reference.","created_at":"2026-02-14T11:25:02Z"},{"id":20,"issue_id":"docs-uxs.1","author":"Sharfy Adamantine","text":"DESIGN LANGUAGE: Follow Stripe docs (docs.stripe.com) patterns — one-sentence opener, code-first, short paragraphs, no preamble, no link dumps. BUILD COMMAND FIX: Use 'cd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5' (must include --webpack flag). NAV PLACEMENT: Add under Reference section AFTER 'Tutorials'.","created_at":"2026-02-14T11:58:20Z"}]}
{"id":"docs-vbw","title":"Epic 2: Build Custom Markdoc Tags and React Components","description":"## Summary\nCreate custom Markdoc tag definitions and corresponding React components to replace all GitBook-proprietary syntax used in the documentation. These tags will be used when converting content files in later epics.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. The previous documentation was built with GitBook, which uses proprietary template tags. We need Markdoc equivalents.\n\nThe project uses `@markdoc/next.js` which automatically discovers tag definitions in `markdoc/tags/` and makes them available in `.md` files.\n\n### GitBook syntax that needs Markdoc replacements:\n\n1. **Columns layout** -- Used in `README.md` (2 column groups):\n```\n{% columns %}\n{% column %}\nContent here\n{% endcolumn %}\n{% column %}\nMore content\n{% endcolumn %}\n{% endcolumns %}\n```\n\n2. **Hint/callout boxes** -- Used in `deep-dive-the-work-scope.md` (1 instance):\n```\n{% hint style=\"info\" %}\nThis is an informational callout.\n{% endhint %}\n```\n\n3. **Figure/image with caption** -- Used in `README.md` (2 instances) and `introduction-to-impact-claims.md` (1 instance):\n```html\n\u003cfigure\u003e\u003cimg src=\".gitbook/assets/image.png\" alt=\"\"\u003e\u003cfigcaption\u003e\u003c/figcaption\u003e\u003c/figure\u003e\n```\n\n### How Markdoc tags work with @markdoc/next.js:\n\n1. Tag definitions go in `markdoc/tags/*.markdoc.js` -- these define the tag name, allowed attributes, and which React component to render\n2. React components go in `components/` -- these render the actual HTML\n3. `@markdoc/next.js` auto-discovers tag files in `markdoc/tags/` and wires them up\n4. Components are registered in `pages/_app.js` via a components mapping passed to the renderer\n\n## What You Need to Create\n\n### 1. Callout Tag\n\n**Tag definition** -- `markdoc/tags/callout.markdoc.js`:\n```js\nexport const callout = {\n  render: 'Callout',\n  children: ['paragraph', 'tag', 'list'],\n  attributes: {\n    type: {\n      type: String,\n      default: 'info',\n      matches: ['info', 'warning', 'danger', 'success'],\n      errorLevel: 'critical'\n    },\n    title: {\n      type: String\n    }\n  }\n};\n```\n\n**React component** -- `components/Callout.js`:\n\nVisual design (Stripe-inspired):\n- Container with a 4px left border in accent color\n- Light tinted background matching the type\n- Border-radius: 6px on the right side (or all corners)\n- Padding: 16px\n- Body text in regular weight, dark gray\n- If title provided, render it bold above the body\n\nColor mapping by type:\n- `info`: blue left border (#0570de), very light blue background (#f0f7ff)\n- `warning`: orange left border (#c84801), very light orange background (#fef9f0)\n- `danger`: red left border (#df1b41), very light red background (#fef0f4)\n- `success`: green left border (#228403), very light green background (#f0fef0)\n\nThe component should accept `type`, `title`, and `children` props.\n\n**Markdoc usage** (what content authors will write):\n```\n{% callout type=\"info\" %}\nThis is an informational callout.\n{% /callout %}\n```\n\n### 2. Columns / Column Tags\n\n**Tag definitions** -- `markdoc/tags/columns.markdoc.js`:\n```js\nexport const columns = {\n  render: 'Columns',\n  children: ['tag'],\n  attributes: {\n    gap: {\n      type: String,\n      default: '24px'\n    }\n  }\n};\n```\n\n`markdoc/tags/column.markdoc.js`:\n```js\nexport const column = {\n  render: 'Column',\n  children: ['paragraph', 'tag', 'list', 'heading', 'image', 'fence'],\n};\n```\n\n**React components**:\n\n`components/Columns.js`:\n- CSS flexbox container: `display: flex; gap: 24px;`\n- On mobile (\u003c 768px): `flex-direction: column` (stack vertically)\n- On desktop: `flex-direction: row` (side by side)\n\n`components/Column.js`:\n- `flex: 1` (equal width columns)\n- Renders children directly\n\n**Markdoc usage**:\n```\n{% columns %}\n{% column %}\nLeft content\n{% /column %}\n{% column %}\nRight content\n{% /column %}\n{% /columns %}\n```\n\n### 3. Figure Tag\n\n**Tag definition** -- `markdoc/tags/figure.markdoc.js`:\n```js\nexport const figure = {\n  render: 'Figure',\n  selfClosing: true,\n  attributes: {\n    src: { type: String, required: true },\n    alt: { type: String, default: '' },\n    caption: { type: String }\n  }\n};\n```\n\n**React component** -- `components/Figure.js`:\n\nVisual design:\n- Centered container (`text-align: center; margin: 24px 0`)\n- Image with `max-width: 100%; height: auto; border-radius: 6px`\n- Caption (if provided) rendered below in small text (13px), secondary gray color (#687385), margin-top: 8px\n\n**Markdoc usage**:\n```\n{% figure src=\"/images/hypercert-erd.png\" alt=\"Hypercert ERD\" caption=\"Entity relationship diagram\" /%}\n```\n\n### 4. Export all tags -- `markdoc/tags/index.js`:\n```js\nexport { callout } from './callout.markdoc';\nexport { columns } from './columns.markdoc';\nexport { column } from './column.markdoc';\nexport { figure } from './figure.markdoc';\n```\n\n### 5. Register components in `pages/_app.js`:\nUpdate the existing `_app.js` to pass components:\n```jsx\nimport '../styles/globals.css';\nimport { Callout } from '../components/Callout';\nimport { Columns } from '../components/Columns';\nimport { Column } from '../components/Column';\nimport { Figure } from '../components/Figure';\n\nconst components = {\n  Callout,\n  Columns,\n  Column,\n  Figure,\n};\n\nexport default function App({ Component, pageProps }) {\n  return \u003cComponent {...pageProps} components={components} /\u003e;\n}\n```\n\nNote: With `@markdoc/next.js`, components can also be passed via the Markdoc config. Check the @markdoc/next.js docs if the above pattern doesn't wire up correctly -- the alternative is to use a `markdoc/config.js` file.\n\n### 6. Verify\nCreate a test page `pages/test-tags.md` with all three tags to verify they render:\n```markdown\n---\ntitle: Tag Test\n---\n\n# Tag Test\n\n{% callout type=\"info\" %}\nThis is an info callout.\n{% /callout %}\n\n{% callout type=\"warning\" title=\"Warning\" %}\nThis is a warning.\n{% /callout %}\n\n{% columns %}\n{% column %}\n**Left column** with some content.\n{% /column %}\n{% column %}\n**Right column** with some content.\n{% /column %}\n{% /columns %}\n\n{% figure src=\"/images/hypercert-erd.png\" alt=\"Test image\" caption=\"A test caption\" /%}\n```\n\nRun `npm run dev` and verify all tags render correctly. Delete the test page after verification.\n\n## Acceptance Criteria\n- `markdoc/tags/callout.markdoc.js` exists with type attribute (info, warning, danger, success)\n- `components/Callout.js` renders a styled callout box with 4px colored left border and tinted background\n- `markdoc/tags/columns.markdoc.js` and `markdoc/tags/column.markdoc.js` exist\n- `components/Columns.js` renders a CSS flexbox multi-column layout that stacks on mobile\n- `components/Column.js` renders individual column content with flex: 1\n- `markdoc/tags/figure.markdoc.js` exists as a self-closing tag with src, alt, caption attributes\n- `components/Figure.js` renders a centered image with optional gray caption text\n- `markdoc/tags/index.js` exports all tags\n- Components are registered in `pages/_app.js` so Markdoc can render them\n- All tags render correctly when used in .md files via `npm run dev`\n","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:42:05.192802+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:04:51.759083+13:00","closed_at":"2026-02-14T13:04:51.759115+13:00","dependencies":[{"issue_id":"docs-vbw","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:42:05.194443+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-vuj","title":"Epic: Reorganize Infrastructure Page \u0026 Glossary","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-16T11:31:03.804651+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-16T12:07:13.683828+13:00","closed_at":"2026-02-16T12:07:13.683828+13:00","close_reason":"All 4 children completed: glossary enhanced, infrastructure split into 4 pages, navigation updated with collapsible group, build verified"}
{"id":"docs-vuj.1","title":"Enhance glossary with developer key concepts from infrastructure page","description":"## Files\n- documentation/pages/reference/glossary.md (modify)\n\n## What to do\n\nThe 'Key Concepts for Developers' section in the-hypercerts-infrastructure.md has richer, developer-oriented definitions for DID, PDS, Lexicon, XRPC, and Repository. Merge this content into the existing glossary page.\n\n### Specific changes:\n\n1. **DID entry** — Replace the current 1-line definition with the 2-paragraph version from infrastructure page. Keep the format: `did:plc:abc123xyz` example. Add the note about persistent identity across platforms.\n\n2. **PDS entry** — Replace with the 2-paragraph version. Include the note about XRPC, data portability, and that apps are views over your data.\n\n3. **Lexicon entry** — Replace with the version that includes the concrete example (`org.hypercerts.claim.activity` with field names). Add cross-link to [Introduction to Lexicons](/lexicons/introduction-to-lexicons).\n\n4. **XRPC entry** — Replace with the version that mentions `com.atproto.repo.createRecord` and `com.atproto.repo.getRecord` examples. Add note about SDK wrapping XRPC calls.\n\n5. **Repository** — Add new entry (does not exist in current glossary). Include the Merkle Search Tree description, versioning via commits, CID content hashing, and tamper-evidence.\n\n### Format rules:\n- Keep alphabetical ordering of all entries\n- Each entry: `#### Term Name` followed by 1-2 paragraphs\n- Keep existing entries that are NOT being replaced (Activity Claim, CID, Collection, Contribution, Evaluation, Evidence, Hypercert, Indexer, Measurement, Relay, Rights, SDS, Strong Reference, Work Scope)\n- Do NOT add any new terms beyond the 5 listed above\n- Cross-link to other docs pages where the infrastructure page did (e.g., Lexicon entry links to Introduction to Lexicons)\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require('fs');\nconst content = fs.readFileSync('pages/reference/glossary.md', 'utf8');\nconst required = ['#### Repository', 'Merkle Search Tree', 'org.hypercerts.claim.activity', 'com.atproto.repo.createRecord', 'did:plc:', 'Introduction to Lexicons'];\nconst missing = required.filter(r =\u003e !content.includes(r));\nif (missing.length) { console.error('Missing:', missing); process.exit(1); }\n// Check alphabetical order of #### headings\nconst headings = [...content.matchAll(/^#### (.+)$/gm)].map(m =\u003e m[1]);\nconst sorted = [...headings].sort((a, b) =\u003e a.localeCompare(b));\nif (JSON.stringify(headings) !== JSON.stringify(sorted)) { console.error('Not alphabetical:', headings); process.exit(1); }\nconsole.log('PASS: glossary enhanced correctly');\n\"\n```\n\n## Don't\n- Remove any existing glossary entries\n- Change the page title or frontmatter\n- Add entries not listed above (no new terms)\n- Change the H4 heading format for entries","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-16T11:31:33.853221+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-16T12:01:19.279813+13:00","closed_at":"2026-02-16T12:01:19.279813+13:00","close_reason":"91a76a2 Enhanced glossary with richer developer-oriented definitions from infrastructure page","labels":["scope:small"],"dependencies":[{"issue_id":"docs-vuj.1","depends_on_id":"docs-vuj","type":"parent-child","created_at":"2026-02-16T11:31:33.855+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-vuj.2","title":"Split infrastructure page into 4 sub-pages under infrastructure/ directory","description":"## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify — becomes short overview)\n- documentation/pages/getting-started/infrastructure/indexers-and-discovery.md (create)\n- documentation/pages/getting-started/infrastructure/blockchain-integration.md (create)\n- documentation/pages/getting-started/infrastructure/portability-and-scaling.md (create)\n\n## What to do\n\nThe current infrastructure page is ~193 lines covering 9 sections. Split it into a short overview page + 3 sub-pages. The overview keeps the core architecture explanation; sub-pages get the deep-dive topics.\n\n### 1. Rewrite `the-hypercerts-infrastructure.md` to be a SHORT overview (~60 lines max)\n\nKeep these sections from the original:\n- **The Two-Layer Architecture** (lines 11-29) — keep as-is\n- **How Hypercerts Data Flows** (lines 63-87) — keep as-is\n- **Data Integrity and Trust** (lines 89-103) — keep as-is\n\nREMOVE these sections entirely:\n- **Key Concepts for Developers** (lines 31-61) — being moved to glossary by another task. Replace with a single line: `For definitions of DID, PDS, Lexicon, XRPC, and Repository, see the [Glossary](/reference/glossary).`\n- **Developer Resources** (lines 189-192) — fold into a callout at the bottom\n\nAdd a \"Keep reading\" section at the bottom with links to the 3 sub-pages:\n```\n## Keep Reading\n\n- [Indexers \u0026 Discovery](/getting-started/infrastructure/indexers-and-discovery) — how data is aggregated and queried across the network\n- [Blockchain Integration](/getting-started/infrastructure/blockchain-integration) — minting patterns and on-chain ownership\n- [Portability \u0026 Scaling](/getting-started/infrastructure/portability-and-scaling) — PDS migration, performance, and privacy\n```\n\n### 2. Create `infrastructure/indexers-and-discovery.md`\n\nFrontmatter:\n```yaml\n---\ntitle: Indexers \u0026 Discovery\n---\n```\n\nContent: Move the **Indexers and Discovery** section (lines 105-121) from the original page. Keep all 3 subsections (Why indexers?, What indexers do, Running your own indexer). Keep the code-style API endpoint examples.\n\n### 3. Create `infrastructure/blockchain-integration.md`\n\nFrontmatter:\n```yaml\n---\ntitle: Blockchain Integration\n---\n```\n\nContent: Move the **Blockchain Integration Patterns** section (lines 123-139) from the original page. Keep all 4 patterns (Mint-on-create, Lazy minting, Batch anchoring, Hybrid ownership). Keep the cross-link to the Rights lexicon.\n\n### 4. Create `infrastructure/portability-and-scaling.md`\n\nFrontmatter:\n```yaml\n---\ntitle: Portability \u0026 Scaling\n---\n```\n\nContent: Combine these 3 sections from the original page:\n- **Migration and Portability** (lines 141-158)\n- **Performance and Scalability** (lines 160-172)\n- **Privacy and Access Control** (lines 174-186)\n\nKeep all subsections and content. Use H2 headings for the 3 major sections.\n\n### Format rules:\n- Each new page starts with `# {% $markdoc.frontmatter.title %}` after frontmatter\n- Use H2 (##) for major sections, H4 (####) for subsections (matching existing style)\n- Preserve all cross-links to other pages\n- No content should be lost — every paragraph from the original must appear in exactly one of the 4 files\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require('fs');\nconst path = require('path');\n\n// Check all files exist\nconst files = [\n  'pages/getting-started/the-hypercerts-infrastructure.md',\n  'pages/getting-started/infrastructure/indexers-and-discovery.md',\n  'pages/getting-started/infrastructure/blockchain-integration.md',\n  'pages/getting-started/infrastructure/portability-and-scaling.md',\n];\nfor (const f of files) {\n  if (!fs.existsSync(f)) { console.error('Missing:', f); process.exit(1); }\n}\n\n// Check overview is short\nconst overview = fs.readFileSync(files[0], 'utf8');\nconst overviewLines = overview.split('\\n').length;\nif (overviewLines \u003e 80) { console.error('Overview too long:', overviewLines, 'lines (max 80)'); process.exit(1); }\n\n// Check Key Concepts removed from overview\nif (overview.includes('## Key Concepts for Developers')) { console.error('Key Concepts section still in overview'); process.exit(1); }\n\n// Check glossary link added\nif (!overview.includes('[Glossary](/reference/glossary)')) { console.error('Missing glossary link in overview'); process.exit(1); }\n\n// Check sub-pages have required content\nconst indexers = fs.readFileSync(files[1], 'utf8');\nif (!indexers.includes('firehose')) { console.error('Indexers page missing firehose content'); process.exit(1); }\n\nconst blockchain = fs.readFileSync(files[2], 'utf8');\nif (!blockchain.includes('Lazy minting')) { console.error('Blockchain page missing Lazy minting'); process.exit(1); }\nif (!blockchain.includes('Batch anchoring')) { console.error('Blockchain page missing Batch anchoring'); process.exit(1); }\n\nconst portability = fs.readFileSync(files[3], 'utf8');\nif (!portability.includes('Switching PDSs')) { console.error('Portability page missing PDS migration'); process.exit(1); }\nif (!portability.includes('Public by default')) { console.error('Portability page missing privacy section'); process.exit(1); }\n\n// Check Keep Reading links in overview\nif (!overview.includes('/getting-started/infrastructure/indexers-and-discovery')) { console.error('Missing indexers link in overview'); process.exit(1); }\nif (!overview.includes('/getting-started/infrastructure/blockchain-integration')) { console.error('Missing blockchain link in overview'); process.exit(1); }\nif (!overview.includes('/getting-started/infrastructure/portability-and-scaling')) { console.error('Missing portability link in overview'); process.exit(1); }\n\nconsole.log('PASS: infrastructure split correctly');\n\"\n```\n\n## Don't\n- Change any content wording (only move content between files)\n- Add new content that wasn't in the original page\n- Remove the frontmatter from the overview page\n- Use H3 (###) headings — use H2 and H4 to match existing site style\n- Create an index.md in the infrastructure/ directory","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-16T11:32:03.659396+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-16T12:01:56.630712+13:00","closed_at":"2026-02-16T12:01:56.630712+13:00","close_reason":"2a1d330 Split infrastructure page into overview + 3 sub-pages","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-vuj.2","depends_on_id":"docs-vuj","type":"parent-child","created_at":"2026-02-16T11:32:03.660787+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-vuj.3","title":"Update navigation.js — make Infrastructure a collapsible sidebar group with sub-pages","description":"## Files\n- documentation/lib/navigation.js (modify)\n\n## What to do\n\nIn the 'Understand' section of the navigation array, replace the flat 'The Hypercerts Infrastructure' entry with a collapsible group that has children — exactly like the existing 'Lexicons' entry in the 'Reference' section.\n\n### Current entry (line 20):\n```js\n{ title: 'The Hypercerts Infrastructure', path: '/getting-started/the-hypercerts-infrastructure' },\n```\n\n### Replace with:\n```js\n{\n  title: 'The Hypercerts Infrastructure',\n  path: '/getting-started/the-hypercerts-infrastructure',\n  children: [\n    { title: 'Indexers \u0026 Discovery', path: '/getting-started/infrastructure/indexers-and-discovery' },\n    { title: 'Blockchain Integration', path: '/getting-started/infrastructure/blockchain-integration' },\n    { title: 'Portability \u0026 Scaling', path: '/getting-started/infrastructure/portability-and-scaling' },\n  ],\n},\n```\n\nThis makes \"The Hypercerts Infrastructure\" clickable (goes to the overview page) AND expandable (shows 3 sub-pages). The Sidebar component already supports this pattern — see the Lexicons entry.\n\n### No other changes to navigation.js\n\nThe rest of the navigation array must remain exactly as-is. Do not reorder, rename, or remove any other entries.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst { navigation } = require('./lib/navigation.js');\n\n// Find the Understand section\nconst understand = navigation.find(n =\u003e n.section === 'Understand');\nif (!understand) { console.error('No Understand section'); process.exit(1); }\n\n// Find the Infrastructure entry\nconst infra = understand.children.find(c =\u003e c.title === 'The Hypercerts Infrastructure');\nif (!infra) { console.error('No Infrastructure entry'); process.exit(1); }\n\n// Check it has the right path\nif (infra.path !== '/getting-started/the-hypercerts-infrastructure') {\n  console.error('Wrong path:', infra.path); process.exit(1);\n}\n\n// Check it has children\nif (!infra.children || infra.children.length !== 3) {\n  console.error('Expected 3 children, got:', infra.children?.length); process.exit(1);\n}\n\n// Check child paths\nconst expectedPaths = [\n  '/getting-started/infrastructure/indexers-and-discovery',\n  '/getting-started/infrastructure/blockchain-integration',\n  '/getting-started/infrastructure/portability-and-scaling',\n];\nconst actualPaths = infra.children.map(c =\u003e c.path);\nfor (const ep of expectedPaths) {\n  if (!actualPaths.includes(ep)) { console.error('Missing child path:', ep); process.exit(1); }\n}\n\n// Check total Understand children count unchanged (still 8 top-level items)\nif (understand.children.length !== 8) {\n  console.error('Understand section should have 8 children, got:', understand.children.length); process.exit(1);\n}\n\n// Check other sections untouched\nconst sections = navigation.filter(n =\u003e n.section).map(n =\u003e n.section);\nconst expected = ['Get Started', 'Understand', 'Guides', 'Tools', 'Reference'];\nif (JSON.stringify(sections) !== JSON.stringify(expected)) {\n  console.error('Sections changed:', sections); process.exit(1);\n}\n\nconsole.log('PASS: navigation updated correctly');\n\"\n```\n\n## Don't\n- Change any other navigation entries\n- Reorder sections or items\n- Remove the path from the Infrastructure entry (it must remain clickable)\n- Add any new exports or functions","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-16T11:32:21.026059+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-16T12:04:41.918664+13:00","closed_at":"2026-02-16T12:04:41.918664+13:00","close_reason":"4f61df1 Make Infrastructure a collapsible sidebar group with 3 sub-pages","labels":["scope:trivial"],"dependencies":[{"issue_id":"docs-vuj.3","depends_on_id":"docs-vuj","type":"parent-child","created_at":"2026-02-16T11:32:21.027769+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-vuj.3","depends_on_id":"docs-vuj.2","type":"blocks","created_at":"2026-02-16T11:32:40.404821+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-vuj.4","title":"Integration: verify build succeeds and no broken internal links after infrastructure split","description":"## Files\n- (no files to modify — verification only)\n\n## What to do\n\nRun the Next.js build and verify:\n1. Build completes without errors\n2. All 3 new infrastructure sub-pages are generated in the output\n3. The glossary page builds\n4. No broken internal links (grep for links to old anchors that no longer exist)\n\n### Steps:\n\n1. Run `npm run build` (or `npx next build`) in the documentation/ directory\n2. Verify the build exits 0\n3. Check that these output files exist in `out/` or `.next/`:\n   - getting-started/infrastructure/indexers-and-discovery\n   - getting-started/infrastructure/blockchain-integration\n   - getting-started/infrastructure/portability-and-scaling\n4. Grep all .md files for any links pointing to anchors that were removed from the infrastructure page:\n   - `#key-concepts-for-developers` should not appear in any file\n   - `#developer-resources` should not appear in any file\n5. If any broken links are found, fix them (update to point to the glossary or the correct sub-page)\n\n## Test\n```bash\ncd documentation \u0026\u0026 npx next build 2\u003e\u00261 | tail -5 \u0026\u0026 echo \"BUILD_OK\"\n```\n\nThe output must contain \"BUILD_OK\" (meaning the build completed and the tail command ran).\n\nAdditionally:\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require('fs');\nconst glob = require('path');\n\n// Recursive file finder\nfunction findMd(dir) {\n  let results = [];\n  for (const entry of fs.readdirSync(dir, { withFileTypes: true })) {\n    const full = dir + '/' + entry.name;\n    if (entry.isDirectory() \u0026\u0026 entry.name !== 'node_modules' \u0026\u0026 entry.name !== '.next') {\n      results = results.concat(findMd(full));\n    } else if (entry.name.endsWith('.md')) {\n      results.push(full);\n    }\n  }\n  return results;\n}\n\nconst files = findMd('pages');\nlet broken = false;\nfor (const f of files) {\n  const content = fs.readFileSync(f, 'utf8');\n  if (content.includes('#key-concepts-for-developers')) {\n    console.error('Broken anchor in', f, ': #key-concepts-for-developers');\n    broken = true;\n  }\n  if (content.includes('#developer-resources')) {\n    console.error('Broken anchor in', f, ': #developer-resources');\n    broken = true;\n  }\n}\nif (broken) process.exit(1);\nconsole.log('PASS: no broken anchors found');\n\"\n```\n\n## Don't\n- Modify any files unless broken links are found (this is primarily a verification task)\n- Skip the build step\n- Ignore build warnings that are actually errors","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-16T11:32:36.383122+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-16T12:06:47.257702+13:00","closed_at":"2026-02-16T12:06:47.257702+13:00","close_reason":"Verification complete: build succeeds, all infrastructure sub-pages generated, no broken anchor links","labels":["scope:small"],"dependencies":[{"issue_id":"docs-vuj.4","depends_on_id":"docs-vuj","type":"parent-child","created_at":"2026-02-16T11:32:36.384409+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-vuj.4","depends_on_id":"docs-vuj.1","type":"blocks","created_at":"2026-02-16T11:32:41.374978+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-vuj.4","depends_on_id":"docs-vuj.2","type":"blocks","created_at":"2026-02-16T11:32:41.519206+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-vuj.4","depends_on_id":"docs-vuj.3","type":"blocks","created_at":"2026-02-16T11:32:41.62861+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-xdq","title":"Epic: Tools \u0026 Ecosystem — Document CLI, Scaffold, and Hyperboard","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:42:31.269164+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:54:18.054321+13:00","closed_at":"2026-02-15T00:54:18.054321+13:00","close_reason":"All 4 tasks completed: nav section added, CLI page (145 lines), Scaffold page (139 lines), Hyperboard page (51 lines). Build passes."}
{"id":"docs-xdq.1","title":"Add 'Tools' section to navigation with CLI, Scaffold, and Hyperboard entries","description":"## Files\n- documentation/lib/navigation.js (modify)\n- documentation/pages/tools/hypercerts-cli.md (create)\n- documentation/pages/tools/scaffold.md (create)\n- documentation/pages/tools/hyperboard.md (create)\n\n## What to do\nAdd a new top-level section called \"Tools\" to the navigation array in `documentation/lib/navigation.js`, positioned between the \"Lexicons\" and \"Tutorials\" sections.\n\nThe section should contain three children:\n```js\n{\n  section: \"Tools\",\n  children: [\n    { title: \"Hypercerts CLI\", path: \"/tools/hypercerts-cli\" },\n    { title: \"Scaffold Starter App\", path: \"/tools/scaffold\" },\n    { title: \"Hyperboard\", path: \"/tools/hyperboard\" },\n  ],\n},\n```\n\nAlso create three stub pages so the build does not break. Each stub must have Markdoc frontmatter with a title and description, plus a one-line placeholder:\n\n**documentation/pages/tools/hypercerts-cli.md:**\n```\n---\ntitle: Hypercerts CLI\ndescription: A Go command-line tool for managing hypercerts on ATProto.\n---\nComing soon.\n```\n\n**documentation/pages/tools/scaffold.md:**\n```\n---\ntitle: Scaffold Starter App\ndescription: A Next.js starter app for building on ATProto with the Hypercerts SDK.\n---\nComing soon.\n```\n\n**documentation/pages/tools/hyperboard.md:**\n```\n---\ntitle: Hyperboard\ndescription: A visual board that showcases the contributors to a hypercert.\n---\nComing soon.\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5\n```\nMust exit 0 and show \"✓ Generating static pages\".\n\n## Dont\n- Do not modify any other navigation sections\n- Do not add content beyond the stub placeholder — other tasks handle that\n- Do not rename or reorder existing sections","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:42:43.269047+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:49:36.320288+13:00","closed_at":"2026-02-15T00:49:36.320288+13:00","close_reason":"a5807b2 Added Tools section to navigation between Lexicons and Tutorials with three stub pages","dependencies":[{"issue_id":"docs-xdq.1","depends_on_id":"docs-xdq","type":"parent-child","created_at":"2026-02-15T00:42:43.270576+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-xdq.2","title":"Write 'Hypercerts CLI' tools page","description":"## Files\n- documentation/pages/tools/hypercerts-cli.md (modify — replace stub)\n\n## Design language — Stripe docs (docs.stripe.com)\nStudy the real Stripe documentation at docs.stripe.com for tone and structure. Key patterns:\n\n1. **One-sentence opener**: The first line tells you what the tool is and what it does. Example from Stripe CLI install page: \"The Stripe CLI lets you build, test, and manage your integration from the command line.\"\n2. **Capability bullet list**: Right after the opener, a short bullet list of what you can do with it. Example: \"You can use the Stripe CLI to: Create, retrieve, update, or delete any of your Stripe resources...\"\n3. **Code first, explain second**: Show the command, then explain what it does — not the other way around.\n4. **Numbered steps** for sequential processes (install, then login, then use).\n5. **Tables for reference data**: Flags, options, record types go in tables.\n6. **Short paragraphs**: 1-3 sentences max per paragraph. Scannable.\n7. **No preamble**: Never start with \"In this page you will learn...\" or \"This guide covers...\"\n8. **No link dumps**: No \"See also\", \"Next steps\", or \"Related pages\" sections at the end.\n9. **Inline prerequisites**: Mention requirements where they are needed, not in a separate section.\n\nAlso study the existing pages in this project for consistency:\n- `documentation/pages/getting-started/quickstart.md`\n- `documentation/pages/tutorials/creating-your-first-hypercert.md`\n\nAvailable Markdoc tags: `{% callout type=\"note\" %}...{% /callout %}`, `{% columns %}`, `{% column %}`.\n\n## What to do\nReplace the stub with a complete documentation page for the Hypercerts CLI (`hc`). Target ~120-160 lines of Markdoc.\n\n### Intro (follow Stripe pattern)\nStart with a one-sentence description, then a capability bullet list:\n\nThe Hypercerts CLI (`hc`) is a command-line tool for managing hypercerts on ATProto. You can use it to:\n\n- Create, read, update, and delete all Hypercerts record types (activities, measurements, evaluations, evidence, and more)\n- Authenticate with any ATProto PDS\n- Run interactively with a terminal UI or non-interactively with flags for CI/CD\n- Resolve identities and inspect any record on the network\n\nThen one sentence: Built in Go on [bluesky-social/indigo](https://github.com/bluesky-social/indigo) with interactive forms powered by [Charm](https://charm.sh) libraries. Source: [github.com/GainForest/hypercerts-cli](https://github.com/GainForest/hypercerts-cli).\n\n### Page structure\n\n1. **Install** section with three numbered options (Stripe uses numbered steps):\n\n   1. Quick install:\n   ```bash\n   curl -sSL https://raw.githubusercontent.com/GainForest/hypercerts-cli/main/install.sh | bash\n   ```\n\n   2. Go install (requires Go 1.25+):\n   ```bash\n   go install github.com/GainForest/hypercerts-cli/cmd/hc@v0.1.1\n   ```\n\n   3. Build from source:\n   ```bash\n   git clone https://github.com/GainForest/hypercerts-cli\n   cd hypercerts-cli\n   make build\n   ```\n\n2. **Authenticate** section:\n   ```bash\n   hc account login -u yourhandle.certified.app -p your-app-password\n   hc account status\n   hc account logout\n   ```\n   Then a short paragraph: For CI/CD, set `HYPER_USERNAME`, `HYPER_PASSWORD`, and optionally `ATP_PDS_HOST` as environment variables.\n\n3. **Core commands** section — show the full CRUD pattern using activities as the primary example:\n   ```bash\n   # Create interactively (launches TUI form)\n   hc activity create\n\n   # Create with flags\n   hc activity create \\\n     --title \"Rainforest Carbon Study\" \\\n     --description \"12-month carbon sequestration measurement\" \\\n     --start-date 2025-01-01 \\\n     --end-date 2025-12-31\n\n   # List\n   hc activity ls\n   hc activity ls --json\n\n   # Get details\n   hc activity get \u003crkey\u003e\n\n   # Edit\n   hc activity edit \u003crkey\u003e --title \"Updated Title\"\n\n   # Delete (cascades to linked measurements and attachments)\n   hc activity delete \u003crkey\u003e -f\n   ```\n\n4. **All record types** — a reference table:\n\n   | Command | Record Type | Alias |\n   |---------|------------|-------|\n   | `hc activity` | `org.hypercerts.claim.activity` | — |\n   | `hc measurement` | `org.hypercerts.claim.measurement` | `hc meas` |\n   | `hc location` | `app.certified.location` | `hc loc` |\n   | `hc attachment` | `org.hypercerts.claim.attachment` | `hc attach` |\n   | `hc rights` | `org.hypercerts.claim.rights` | — |\n   | `hc evaluation` | `org.hypercerts.claim.evaluation` | `hc eval` |\n   | `hc collection` | `org.hypercerts.claim.collection` | `hc coll` |\n   | `hc contributor` | `org.hypercerts.claim.contributorInformation` | `hc contrib` |\n   | `hc funding` | `org.hypercerts.funding.receipt` | `hc fund` |\n   | `hc workscope` | `org.hypercerts.helper.workScopeTag` | `hc ws` |\n\n   One sentence: Every type supports `create`, `ls`, `get`, `edit`, `delete` with the same flag patterns shown above.\n\n5. **Generic operations** section:\n   ```bash\n   hc get at://did:plc:xxx/org.hypercerts.claim.activity/rkey\n   hc ls handle.example.com\n   hc ls handle.example.com --collection org.hypercerts.claim.activity\n   hc resolve handle.example.com\n   ```\n\n6. **Interactive UI** — one short paragraph: When you run commands without flags, the CLI launches interactive forms with keyboard navigation, live preview cards during activity creation, multi-select for bulk deletes, and select-or-create patterns when linking records.\n\n7. `{% callout type=\"note\" %}` for cascading deletes: \"Deleting an activity also removes all linked measurements and attachments. Use the `-f` flag to skip confirmation.\"\n\n## Test\n```bash\ncd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5\n```\nMust exit 0. Page must be \u003e100 lines and \u003c200 lines:\n```bash\nwc -l documentation/pages/tools/hypercerts-cli.md\n```\n\n## Dont\n- Do not copy the entire CLI README verbatim — distill it for a documentation audience\n- Do not document every flag for every command — show the pattern with activities, then reference the table\n- Do not use \"See also\", \"Next steps\", or \"Related pages\" sections\n- Do not create a standalone \"Prerequisites\" section\n- Do not start with \"In this page you will learn...\" or similar preamble\n- Do not modify navigation.js (done in docs-xdq.1)\n- Do not use {% figure %} tags (no images available)","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:43:17.589711+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:51:21.072623+13:00","closed_at":"2026-02-15T00:51:21.072623+13:00","close_reason":"Completed Hypercerts CLI documentation page (145 lines, build passes)","dependencies":[{"issue_id":"docs-xdq.2","depends_on_id":"docs-xdq","type":"parent-child","created_at":"2026-02-15T00:43:17.591208+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-xdq.2","depends_on_id":"docs-xdq.1","type":"blocks","created_at":"2026-02-15T00:44:02.188143+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-xdq.3","title":"Write 'Scaffold Starter App' tools page","description":"## Files\n- documentation/pages/tools/scaffold.md (modify — replace stub)\n\n## Design language — Stripe docs (docs.stripe.com)\nStudy the real Stripe documentation at docs.stripe.com for tone and structure. Key patterns:\n\n1. **One-sentence opener**: The first line tells you what the tool is and what it does. Example from Stripe: \"The Stripe CLI lets you build, test, and manage your integration from the command line.\"\n2. **Capability bullet list**: Right after the opener, a short bullet list of what you can do with it.\n3. **Code first, explain second**: Show the command, then explain what it does.\n4. **Numbered steps** for sequential processes.\n5. **Tables for reference data**: Environment variables, config options go in tables.\n6. **Short paragraphs**: 1-3 sentences max. Scannable.\n7. **No preamble**: Never \"In this page you will learn...\"\n8. **No link dumps**: No \"See also\", \"Next steps\", or \"Related pages\" at the end.\n9. **Inline prerequisites**: Mention requirements where needed, not in a separate section.\n\nAlso study existing pages in this project for consistency:\n- `documentation/pages/getting-started/quickstart.md`\n- `documentation/pages/tutorials/creating-your-first-hypercert.md`\n\nAvailable Markdoc tags: `{% callout type=\"note\" %}...{% /callout %}`, `{% columns %}`, `{% column %}`.\n\n## What to do\nReplace the stub with a complete documentation page for the Hypercerts Scaffold starter app. Target ~100-140 lines of Markdoc.\n\n### Intro (follow Stripe pattern)\nStart with a one-sentence description, then a capability bullet list:\n\nThe Hypercerts Scaffold is a Next.js starter app for building on ATProto with the Hypercerts SDK. Clone it to bootstrap your own application. You get:\n\n- OAuth authentication with ATProto (login, session management, token refresh)\n- Profile management (read and update Certified profiles)\n- Hypercert creation and listing\n- Server-side repository access patterns with React Query on the client\n\nThen one sentence: Live demo at [hypercerts-scaffold.vercel.app](https://hypercerts-scaffold.vercel.app). Source: [github.com/hypercerts-org/hypercerts-scaffold-atproto](https://github.com/hypercerts-org/hypercerts-scaffold-atproto).\n\n### Page structure\n\n1. **Quick start** section with numbered steps:\n\n   1. Clone and install:\n   ```bash\n   git clone https://github.com/hypercerts-org/hypercerts-scaffold-atproto\n   cd hypercerts-scaffold-atproto\n   pnpm install\n   ```\n\n   2. Configure environment:\n   ```bash\n   cp .env.example .env.local\n   pnpm run generate-jwk \u003e\u003e .env.local\n   ```\n\n   3. Start Redis (for session storage):\n   ```bash\n   docker run -d -p 6379:6379 redis:alpine\n   ```\n\n   4. Run the dev server:\n   ```bash\n   pnpm run dev\n   ```\n\n   Open `http://127.0.0.1:3000`. Requires Node.js 20+ and pnpm.\n\n   `{% callout type=\"note\" %}` — \"Use `127.0.0.1` not `localhost` for local development. ATProto OAuth requires IP-based loopback addresses per RFC 8252. The app auto-redirects, but your `.env.local` must use `127.0.0.1`.\"\n\n2. **Environment variables** section — a table:\n\n   | Variable | Description |\n   |----------|-------------|\n   | `NEXT_PUBLIC_BASE_URL` | App URL (`http://127.0.0.1:3000` for local) |\n   | `ATPROTO_JWK_PRIVATE` | OAuth private key (generate with `pnpm run generate-jwk`) |\n   | `REDIS_HOST` | Redis hostname |\n   | `REDIS_PORT` | Redis port |\n   | `REDIS_PASSWORD` | Redis password |\n   | `NEXT_PUBLIC_PDS_URL` | PDS URL (e.g. `https://pds-eu-west4.test.certified.app`) |\n\n3. **Architecture** section — brief text description of the stack:\n   - Browser: OAuthProvider + SessionProvider + React Query\n   - Next.js API routes handle auth callbacks, cert operations, profile management\n   - Hypercerts SDK (`@hypercerts-org/sdk-core`) manages OAuth sessions and repository operations\n   - Redis stores sessions; PDS stores user data\n\n4. **Key patterns** section — show the two main server-side auth patterns with real code:\n\n   **Getting an authenticated repository:**\n   ```typescript\n   import { getRepoContext } from \"@/lib/repo-context\";\n\n   export async function GET() {\n     const ctx = await getRepoContext();\n     if (!ctx) {\n       return Response.json({ error: \"Not authenticated\" }, { status: 401 });\n     }\n\n     const profile = await ctx.scopedRepo.profile.getCertifiedProfile();\n     return Response.json(profile);\n   }\n   ```\n\n   **Creating a hypercert:**\n   ```typescript\n   await ctx.scopedRepo.hypercert.create({\n     title: \"My Hypercert\",\n     description: \"A certificate of impact\",\n   });\n   ```\n\n5. **Project structure** — a brief file tree:\n   ```\n   app/api/auth/     # OAuth endpoints\n   app/api/certs/    # Hypercert CRUD\n   app/api/profile/  # Profile management\n   components/       # React components\n   lib/              # SDK init, repo context, server actions\n   providers/        # React context providers\n   queries/          # TanStack Query hooks\n   ```\n\n6. `{% callout type=\"note\" %}` — \"The scaffold uses a pre-release SDK version (`@hypercerts-org/sdk-core@0.10.0-beta.8`). API changes are expected before 1.0.\"\n\n## Test\n```bash\ncd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5\n```\nMust exit 0. Page must be \u003e80 lines and \u003c180 lines:\n```bash\nwc -l documentation/pages/tools/scaffold.md\n```\n\n## Dont\n- Do not copy the scaffold README verbatim — distill it for a documentation audience\n- Do not include ngrok setup instructions (too niche)\n- Do not start with \"In this page you will learn...\" or similar preamble\n- Do not use \"See also\", \"Next steps\", or \"Related pages\" sections\n- Do not create a standalone \"Prerequisites\" section\n- Do not modify navigation.js (done in docs-xdq.1)\n- Do not use {% figure %} tags","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:43:41.090634+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:52:31.358324+13:00","closed_at":"2026-02-15T00:52:31.358324+13:00","close_reason":"Completed scaffold documentation page with 139 lines following Stripe docs design language","dependencies":[{"issue_id":"docs-xdq.3","depends_on_id":"docs-xdq","type":"parent-child","created_at":"2026-02-15T00:43:41.091874+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-xdq.3","depends_on_id":"docs-xdq.1","type":"blocks","created_at":"2026-02-15T00:44:02.335743+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-xdq.4","title":"Write 'Hyperboard' tools page","description":"## Files\n- documentation/pages/tools/hyperboard.md (modify — replace stub)\n\n## Design language — Stripe docs (docs.stripe.com)\nStudy the real Stripe documentation at docs.stripe.com for tone and structure. Key patterns:\n\n1. **One-sentence opener**: The first line tells you what the tool is and what it does.\n2. **Capability bullet list**: Right after the opener, a short bullet list of what you can do with it.\n3. **Short paragraphs**: 1-3 sentences max. Scannable.\n4. **No preamble**: Never \"In this page you will learn...\"\n5. **No link dumps**: No \"See also\", \"Next steps\", or \"Related pages\" at the end.\n\nAlso study existing pages in this project for consistency:\n- `documentation/pages/getting-started/quickstart.md`\n- `documentation/pages/getting-started/why-atproto.md`\n\nAvailable Markdoc tags: `{% callout type=\"note\" %}...{% /callout %}`, `{% columns %}`, `{% column %}`.\n\n## What to do\nReplace the stub with a documentation page for Hyperboard. Target ~60-90 lines of Markdoc.\n\nHyperboard is a visual board that showcases the contributors to a hypercert. It displays who contributed to an impact claim, making contributions visible and recognizable.\n\n### Intro (follow Stripe pattern)\nStart with a one-sentence description, then a capability bullet list:\n\nHyperboard displays the contributors to a hypercert as a visual, shareable board. Use it to:\n\n- Showcase who did the work behind an impact claim\n- Display contribution weights and roles\n- Embed contributor recognition on project websites\n- Give funders transparency into who their contributions support\n\nThen one sentence: Because the underlying data lives on ATProto, every Hyperboard is backed by cryptographically signed, publicly verifiable records.\n\n### Page structure\n\n1. **What Hyperboard shows** section — explain what information a Hyperboard displays:\n   - The hypercert (activity claim) it is associated with\n   - All contributors listed on that hypercert (via `org.hypercerts.claim.contributorInformation` records)\n   - Contribution weights or roles (if specified in the contribution details)\n   - A visual, shareable representation of impact attribution\n\n2. **How it works** section — explain the data flow in 3-4 short paragraphs:\n   - A hypercert is created with contributors listed\n   - Hyperboard reads the contributor data from the ATProto repository\n   - It renders a visual board showing each contributor and their role\n   - Because the data lives on ATProto, the board is verifiable — anyone can check the underlying records\n\n3. **Use cases** section — brief bullet list with bold labels:\n   - **Project pages**: Embed a Hyperboard on your project website to showcase your team\n   - **Funding transparency**: Show funders exactly who their contributions support\n   - **Portfolio**: Contributors can point to Hyperboards as proof of their impact work\n   - **Recognition**: Publicly acknowledge contributors in a way that is verifiable and portable\n\n4. `{% callout type=\"note\" %}` — \"Hyperboard reads contributor data directly from ATProto repositories. The underlying records are cryptographically signed and publicly verifiable — anyone can independently confirm who contributed to a hypercert.\"\n\n## Test\n```bash\ncd documentation \u0026\u0026 npx next build --webpack 2\u003e\u00261 | tail -5\n```\nMust exit 0. Page must be \u003e40 lines and \u003c120 lines:\n```bash\nwc -l documentation/pages/tools/hyperboard.md\n```\n\n## Dont\n- Do not invent URLs, repos, or API endpoints for Hyperboard — we do not have those details yet\n- Do not claim Hyperboard is open source or link to a repo (we do not know)\n- Do not start with \"In this page you will learn...\" or similar preamble\n- Do not use \"See also\", \"Next steps\", or \"Related pages\" sections\n- Do not create a standalone \"Prerequisites\" section\n- Do not modify navigation.js (done in docs-xdq.1)\n- Do not use {% figure %} tags\n- Do not speculate about features beyond what is described above","status":"closed","priority":1,"issue_type":"task","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-15T00:43:58.12274+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-15T00:51:05.921335+13:00","closed_at":"2026-02-15T00:51:05.921335+13:00","close_reason":"Completed Hyperboard tools page documentation","dependencies":[{"issue_id":"docs-xdq.4","depends_on_id":"docs-xdq","type":"parent-child","created_at":"2026-02-15T00:43:58.123763+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-xdq.4","depends_on_id":"docs-xdq.1","type":"blocks","created_at":"2026-02-15T00:44:02.447475+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-yne","title":"Epic 5: Styling and Visual Design","description":"## Summary\nCreate the complete CSS styling for the documentation site following a design language inspired by Stripe's documentation (docs.stripe.com). The goal is a clean, professional, content-focused documentation site that prioritizes readability and quiet confidence.\n\n## Context\nThis project is a Next.js + Markdoc documentation site in the `documentation/` directory. By the time this epic runs:\n- Epic 1 has scaffolded the project with a minimal `styles/globals.css`\n- Epic 2 has created React components: Callout, Columns, Column, Figure\n- Epic 4 has created Layout, Sidebar, TableOfContents components\n\nAll these components need polished CSS. The styles go in `styles/globals.css` (or can be split into CSS modules if preferred).\n\n## Design Principles\n\nThe Stripe documentation design language follows these core principles:\n1. **Content is the interface** -- every visual decision makes content more scannable, never decorates\n2. **Mostly monochrome, with surgical color** -- the page is 95% grayscale; color appears only for links, callout indicators, and status badges\n3. **Generous but purposeful whitespace** -- everything breathes, nothing floats\n4. **Border, not shadow, for structure** -- 1px light gray borders define regions, not heavy shadows\n5. **Developer-first** -- code blocks are first-class citizens, typography is optimized for technical content\n\n## Typography\n\n### Font stacks\n```css\n--font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';\n--font-mono: 'Source Code Pro', Menlo, Monaco, Consolas, monospace;\n```\nUse the system font stack. It loads instantly, feels native on every OS, and is what Stripe uses.\n\n### Font weights\n- Regular: 400 (body text, descriptions)\n- Semibold: 600 (section headers, emphasis, sidebar labels)\n- Bold: 700 (page titles, H1)\n\n### Type scale\n| Element | Size | Weight | Color | Line Height |\n|---------|------|--------|-------|-------------|\n| H1 | 32px | 700 | #21252c (near-black) | 1.25 |\n| H2 | 24px | 700 | #353a44 (dark charcoal) | 1.3 |\n| H3 | 20px | 600 | #353a44 | 1.4 |\n| H4 | 16px | 600 | #353a44 | 1.5 |\n| Body | 16px | 400 | #414552 (dark gray) | 1.65 |\n| Small/Caption | 13px | 400 | #687385 (medium gray) | 1.5 |\n| Code (inline) | 14px | 400 | #414552 | inherit |\n| Code (block) | 14px | 400 | #414552 | 1.55 |\n\n### Anti-aliasing\n```css\nbody {\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n```\n\n## Color Palette\n\n### Neutrals (the workhorse -- 95% of the page)\n| Token | Value | Usage |\n|-------|-------|-------|\n| --color-bg | #ffffff | Page background, content area |\n| --color-bg-subtle | #f6f8fa | Code block backgrounds, sidebar hover, cards |\n| --color-border | #ebeef1 | Section dividers, sidebar border, card borders |\n| --color-border-strong | #d8dee4 | Table header bottom border, input borders |\n| --color-text-secondary | #687385 | Descriptions, metadata, TOC items, captions |\n| --color-text-primary | #414552 | Body text |\n| --color-text-heading | #353a44 | Headings (H2-H4) |\n| --color-text-title | #21252c | H1 page titles |\n\n### Accent colors (used sparingly -- only for interactive elements and semantic indicators)\n| Token | Value | Usage |\n|-------|-------|-------|\n| --color-link | #0570de | Hyperlinks, interactive text |\n| --color-link-hover | #0055bc | Link hover state (slightly darker) |\n| --color-info | #0570de | Info callout border |\n| --color-info-bg | #f0f7ff | Info callout background |\n| --color-warning | #c84801 | Warning callout border |\n| --color-warning-bg | #fef9f0 | Warning callout background |\n| --color-danger | #df1b41 | Danger callout border |\n| --color-danger-bg | #fef0f4 | Danger callout background |\n| --color-success | #228403 | Success callout border |\n| --color-success-bg | #f0fef0 | Success callout background |\n\n### Focus ring\n```css\n--focus-ring: 0 0 0 4px rgba(5, 112, 222, 0.36);\n```\n\n## Spacing System\n\nUse an 8px base grid. All spacing should be multiples of 8 (with 4px for tight spaces):\n```css\n--space-1: 4px;\n--space-2: 8px;\n--space-3: 12px;\n--space-4: 16px;\n--space-5: 20px;\n--space-6: 24px;\n--space-8: 32px;\n--space-10: 40px;\n--space-12: 48px;\n--space-16: 64px;\n```\n\n### Application:\n- Between paragraphs: 16px\n- Between heading and its first paragraph: 8-12px (tight coupling)\n- Before a new H2 section: 48px (creates visible section breaks)\n- Sidebar item vertical spacing: 4-6px between items, 20-24px between section groups\n- Content area horizontal padding: 32px on each side\n- Content area top padding: 32px below header\n\n## Component Styles\n\n### Layout\n```\nHeader: height 56px, white background, bottom border 1px solid #ebeef1\nSidebar: width 240px, fixed/sticky, right border 1px solid #ebeef1, padding 16px\nContent: max-width 720px, centered, padding 32px\nRight TOC: width 200px, sticky top, padding-left 24px\n```\n\n### Sidebar\n- Section headers: 12px, font-weight 600, color #687385, text-transform uppercase, letter-spacing 0.05em, margin-bottom 8px\n- Nav items: 14px, color #414552, padding 6px 12px, border-radius 6px\n- Active nav item: font-weight 600, background-color #f6f8fa, color #21252c\n- Hover nav item: background-color #f6f8fa\n- Nested items: padding-left +16px\n\n### Table of Contents (right side)\n- Title \"On this page\": 12px, font-weight 600, color #687385, uppercase\n- Items: 13px, color #687385, padding 4px 0\n- Active item: color #0570de (link blue)\n- Left border indicator: 2px solid #0570de on active item (optional)\n\n### Callout boxes (from Epic 2 components)\n```css\n.callout {\n  border-left: 4px solid var(--callout-color);\n  background: var(--callout-bg);\n  border-radius: 0 6px 6px 0;\n  padding: 16px;\n  margin: 16px 0;\n}\n.callout-title {\n  font-weight: 600;\n  margin-bottom: 4px;\n}\n```\n\n### Columns layout (from Epic 2 components)\n```css\n.columns {\n  display: flex;\n  gap: 24px;\n  margin: 16px 0;\n}\n.column {\n  flex: 1;\n  min-width: 0;\n}\n@media (max-width: 768px) {\n  .columns { flex-direction: column; }\n}\n```\n\n### Figure (from Epic 2 components)\n```css\n.figure {\n  text-align: center;\n  margin: 24px 0;\n}\n.figure img {\n  max-width: 100%;\n  height: auto;\n  border-radius: 6px;\n}\n.figure-caption {\n  font-size: 13px;\n  color: #687385;\n  margin-top: 8px;\n}\n```\n\n### Tables\nStripe uses clean, borderless tables with only a header bottom border:\n```css\ntable {\n  width: 100%;\n  border-collapse: collapse;\n  margin: 16px 0;\n  font-size: 14px;\n}\nth {\n  text-align: left;\n  font-weight: 600;\n  color: #353a44;\n  padding: 8px 12px;\n  border-bottom: 1px solid #d8dee4;\n}\ntd {\n  padding: 8px 12px;\n  color: #414552;\n  border-bottom: 1px solid #ebeef1;\n}\ntr:last-child td {\n  border-bottom: none;\n}\n```\nNo zebra striping. No outer borders. Clean and minimal.\n\n### Code blocks\n```css\npre {\n  background: #f6f8fa;\n  border-radius: 6px;\n  padding: 16px;\n  overflow-x: auto;\n  font-family: var(--font-mono);\n  font-size: 14px;\n  line-height: 1.55;\n  margin: 16px 0;\n  color: #414552;\n}\n```\nOptionally install `prism-react-renderer` for syntax highlighting. The current docs only have 2 JSON code blocks, but the SDK docs will grow. If adding syntax highlighting, use a light theme that matches the neutral palette.\n\n### Inline code\n```css\ncode {\n  background: #f6f8fa;\n  border-radius: 4px;\n  padding: 2px 6px;\n  font-family: var(--font-mono);\n  font-size: 0.875em; /* slightly smaller than surrounding text */\n}\n/* Don't style code inside pre blocks */\npre code {\n  background: none;\n  border-radius: 0;\n  padding: 0;\n  font-size: inherit;\n}\n```\n\n### Links\n```css\na {\n  color: #0570de;\n  text-decoration: none;\n}\na:hover {\n  color: #0055bc;\n  text-decoration: underline;\n}\n```\n\n### Headings\n```css\nh1 { font-size: 32px; font-weight: 700; color: #21252c; margin-top: 0; margin-bottom: 16px; line-height: 1.25; }\nh2 { font-size: 24px; font-weight: 700; color: #353a44; margin-top: 48px; margin-bottom: 12px; line-height: 1.3; }\nh3 { font-size: 20px; font-weight: 600; color: #353a44; margin-top: 32px; margin-bottom: 8px; line-height: 1.4; }\nh4 { font-size: 16px; font-weight: 600; color: #353a44; margin-top: 24px; margin-bottom: 8px; line-height: 1.5; }\n```\n\nNote: `h2` has 48px top margin to create strong visual section breaks (the largest gaps on the page). This is a key Stripe pattern.\n\n### Pagination (prev/next)\n```css\n.pagination {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 48px;\n  padding-top: 24px;\n  border-top: 1px solid #ebeef1;\n}\n.pagination a {\n  color: #0570de;\n  font-weight: 500;\n}\n```\n\n### Lists\n```css\nul, ol {\n  padding-left: 24px;\n  margin: 12px 0;\n}\nli {\n  margin: 6px 0;\n  line-height: 1.65;\n}\nli \u003e p { margin: 0; }\n```\n\n### Blockquotes\n```css\nblockquote {\n  border-left: 4px solid #ebeef1;\n  padding: 0 16px;\n  margin: 16px 0;\n  color: #687385;\n}\n```\n\n### Horizontal rules\n```css\nhr {\n  border: none;\n  border-top: 1px solid #ebeef1;\n  margin: 32px 0;\n}\n```\n\n## Responsive Breakpoints\n```css\n/* Mobile: \u003c 768px - sidebar and TOC hidden, content full width */\n/* Tablet: 768px - 1040px - sidebar visible, TOC hidden */\n/* Desktop: \u003e 1040px - full three-column layout */\n```\n\nOn mobile:\n- Sidebar hidden behind hamburger menu\n- Right TOC hidden entirely\n- Content goes full-width with 16px horizontal padding\n- Tables get `overflow-x: auto` wrapper\n\n## Shadow System\nShadows are used very sparingly -- almost never on the docs site:\n- Most elements: no shadow (flat)\n- Card hover: `0px 2px 5px rgba(48, 49, 61, 0.08)` (barely perceptible)\n- Dropdown/overlay: `0px 5px 15px rgba(0, 0, 0, 0.12), 0px 15px 35px rgba(48, 49, 61, 0.08)`\n\n## Border Radius\n- Inline code: 4px\n- Code blocks, callouts, cards: 6px\n- Buttons, tags, pills: 6px or rounded (9999em for pill shape)\n\n## Acceptance Criteria\n- All CSS is in `styles/globals.css` (or organized into CSS modules)\n- CSS custom properties are defined for colors, fonts, and spacing\n- System font stack is used (no custom font downloads)\n- Anti-aliased text rendering is enabled\n- All headings (H1-H4) follow the type scale with proper size, weight, color, and spacing\n- Body text is 16px, dark gray (#414552), line-height 1.65\n- Links are blue (#0570de), darken on hover, no underline by default\n- Tables are clean: no outer borders, header has bottom border only, proper padding\n- Code blocks have light gray background, rounded corners, monospace font\n- Inline code has subtle gray background pill\n- Callout boxes have colored left border and tinted background per type\n- Columns stack on mobile, flex row on desktop\n- Layout uses three columns on desktop (sidebar 240px, content ~720px, TOC ~200px)\n- Sidebar has 1px right border, section headers in uppercase small text\n- Active nav item has bold text and subtle background\n- Right TOC has scroll spy highlighting in blue\n- Responsive: sidebar/TOC collapse below 768px/1040px breakpoints\n- Pagination has top border separator and blue link text\n- The overall feel is clean, white, professional, content-focused -- no decorative elements, no gradients, no heavy shadows\n- The page looks like it could belong to the same family as docs.stripe.com\n","status":"closed","priority":2,"issue_type":"epic","owner":"sharfy.adamantine@gmail.com","created_at":"2026-02-13T13:43:24.486687+13:00","created_by":"Sharfy Adamantine","updated_at":"2026-02-14T13:18:01.287139+13:00","closed_at":"2026-02-14T13:18:01.287141+13:00","dependencies":[{"issue_id":"docs-yne","depends_on_id":"docs-c34","type":"blocks","created_at":"2026-02-13T13:43:24.48892+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-yne","depends_on_id":"docs-vbw","type":"blocks","created_at":"2026-02-13T13:43:24.490264+13:00","created_by":"Sharfy Adamantine"},{"issue_id":"docs-yne","depends_on_id":"docs-7dv","type":"blocks","created_at":"2026-02-13T13:43:24.491023+13:00","created_by":"Sharfy Adamantine"}]}
{"id":"docs-yzy","title":"Epic: Separate planned funding/tokenization content into dedicated page","description":"Move all planned/TBD content about freeze-then-fund, tokenization, on-chain mechanisms, multi-chain support, and funding patterns out of the main documentation pages and into a single dedicated page. Main docs should describe what exists today (ATProto data layer) and briefly mention that on-chain funding is planned, linking to the dedicated page for details.","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T17:11:36.619138+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T19:52:57.591064+13:00","closed_at":"2026-02-16T19:52:57.591064+13:00","close_reason":"Closed"}
{"id":"docs-yzy.1","title":"Create architecture/planned-funding-and-tokenization.md — the dedicated page for all planned on-chain content","description":"## Files\n- documentation/pages/architecture/planned-funding-and-tokenization.md (create)\n\n## What to do\n\nCreate a new page that consolidates ALL planned/TBD content about the on-chain funding and tokenization layer. This page is the single source of truth for what's planned but not yet built.\n\nThe page should have this structure:\n\n### Frontmatter\n```\n---\ntitle: \"Planned: Funding \u0026 Tokenization\"\ndescription: How hypercerts will be frozen, anchored on-chain, and funded. This layer is not yet implemented.\n---\n```\n\n### Page content (write this in full):\n\n**Opening paragraph:** The on-chain funding and tokenization layer is not yet implemented. This page describes the planned design. The theory and architecture are sound — the implementation is in progress. For what exists today (the ATProto data layer), see [Architecture Overview](/architecture/overview).\n\n**Section: The Freeze-Then-Fund Model**\nThe core concept: before a hypercert can be funded, its ATProto records must be frozen. Freezing means taking a cryptographic snapshot (CID) of the activity claim and all its associated records at a point in time. This snapshot is then anchored on-chain.\n\nWhy freezing is necessary: a funder must know exactly what they are funding. If the cert's contents could change after funding, the funder might end up paying for a different cert than what they committed to. A hypercert cannot be funded if its contents are still changing.\n\nWhat freezing preserves: the core activity claim — who did what, when, where. The frozen state is what funders commit to.\n\nWhat continues after freezing: evaluations and evidence can still accumulate. These are separate records that reference the frozen claim. The claim's reputation can evolve while its core content remains fixed.\n\n**Section: On-Chain Anchoring**\nWhen a hypercert is frozen, its snapshot CID will be anchored on-chain via a smart contract. The contract stores the AT-URI and the frozen snapshot CID, creating a verifiable link between the data layer and the ownership layer.\n\nThis creates an immutable reference point. Anyone can verify that the on-chain record matches the ATProto data by comparing CIDs.\n\n**Section: Tokenization**\nOnce frozen and anchored, the hypercert can be represented as a transferable token on-chain. A token could represent full ownership or fractional shares. Token holders would have rights defined in the hypercert's org.hypercerts.claim.rights record.\n\nThe specific token standard (ERC-1155, ERC-721, or a custom standard) is being designed. The protocol intends to support multiple token standards for different use cases — from non-transferable recognition to fully tradable certificates.\n\n**Section: Funding Mechanisms**\nOnce frozen and anchored, various funding models can operate on the ownership layer:\n- Direct funding — funders acquire shares directly from the contributor\n- Retroactive funding — rewarding past work based on demonstrated outcomes\n- Impact certificates — creating markets for outcomes\n- Quadratic funding — amplifying small donations through matching pools\n- Milestone-based payouts — releasing funds as work progresses\n\nSmart contracts will enforce rules and distribute payments. The specific implementations are being designed.\n\n**Section: Funding Readiness Patterns**\nDifferent applications may use different patterns for when to freeze:\n\nPattern 1: Freeze-on-create — the claim is frozen immediately upon creation. Simple but means the claim can't be enriched before funding.\n\nPattern 2: Freeze-when-ready — the claim exists on ATProto, accumulates evidence and evaluations, and is frozen only when a funder expresses interest or the contributor decides it's ready. This is the expected default pattern.\n\nPattern 3: Batch freezing — multiple claims are frozen and anchored together periodically. Cost-efficient for high-volume use cases.\n\nPattern 4: Partial freezing — some aspects of the claim are frozen (e.g., the core activity and rights) while others remain mutable (e.g., ongoing measurements). The frozen portion is what funders commit to.\n\n**Section: Multi-Chain Support**\nThe protocol is designed to be chain-agnostic. Different communities may use different chains. The ATProto data layer remains the same regardless of which chain anchors the frozen snapshot. The specific multi-chain architecture is being designed.\n\n**Section: Cross-Layer Example**\nWalk through the full planned flow:\n1. Alice creates an activity claim on her PDS → gets AT-URI\n2. Bob evaluates Alice's claim from his PDS\n3. Alice decides the claim is ready for funding → freezes it\n4. An application anchors the frozen snapshot on-chain → gets token ID\n5. Carol funds the frozen cert on-chain\n6. New evaluations continue accumulating on ATProto, referencing the frozen claim\n7. Carol can verify her funded cert matches the frozen snapshot by comparing CIDs\n\nInclude the ASCII diagram:\n```\nATProto (exists today)              On-chain (planned)\n──────────────────────              ──────────────────\nActivity Claim                      Frozen Snapshot\nat://did:alice/...                  CID: bafyrei...\n  ↓                                    ↓\nEvidence, Evaluations               Ownership Record\nMeasurements, Rights                Funder: 0xCarol...\n                                    Metadata: { uri, cid }\n```\n\n**Section: What This Will Enable**\n- Retroactive funding of past contributions\n- Composable funding mechanisms across platforms\n- Portable proof of funding (funders can prove what they funded)\n- Independent evolution of data and ownership layers\n\n**Closing:** For the current architecture (what exists today), see [Architecture Overview](/architecture/overview). For the data lifecycle, see [Data Flow \u0026 Lifecycle](/architecture/data-flow-and-lifecycle).\n\n## Test\ntest -f documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\ngrep -q 'not yet implemented' documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\ngrep -q 'Freeze-Then-Fund' documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\ngrep -q 'cannot.*funded.*chang\\|can.t.*funded.*chang\\|exactly what' documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\ngrep -q 'Funding Readiness Patterns\\|Funding.*Pattern' documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\ngrep -q 'Multi-Chain' documentation/pages/architecture/planned-funding-and-tokenization.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Present any of this as implemented/live\n- Invent specific contract addresses or deployed details\n- Make it too short — this is THE comprehensive reference for all planned on-chain work\n- Forget the cross-layer example with the ASCII diagram","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T17:12:25.547762+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T17:16:00.16776+13:00","closed_at":"2026-02-16T17:16:00.16776+13:00","close_reason":"d937d10 Created comprehensive planned funding and tokenization architecture page","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-yzy.1","depends_on_id":"docs-yzy","type":"parent-child","created_at":"2026-02-16T17:12:25.549901+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-yzy.2","title":"Update navigation and rewrite blockchain-integration.md to redirect to planned page","description":"## Files\n- documentation/lib/navigation.js (modify)\n- documentation/pages/getting-started/infrastructure/blockchain-integration.md (modify)\n- documentation/pages/getting-started/infrastructure/portability-and-scaling.md (modify)\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify — just the link on line 78)\n\n## What to do\n\n### 1. Update navigation.js\n\nChange line 25 from:\n```js\n{ title: 'Blockchain Integration', path: '/getting-started/infrastructure/blockchain-integration' },\n```\nto:\n```js\n{ title: 'Funding \u0026 Tokenization (Planned)', path: '/architecture/planned-funding-and-tokenization' },\n```\n\nAlso add the new page to the Understand section, after \"Data Flow \u0026 Lifecycle\" (line 30). Add:\n```js\n{ title: 'Planned: Funding \u0026 Tokenization', path: '/architecture/planned-funding-and-tokenization' },\n```\n\nWait — actually, since it's already linked as a child of \"The Hypercerts Infrastructure\", just update that child entry. Don't add a duplicate. So the only change is line 25.\n\n### 2. Rewrite blockchain-integration.md\n\nThis file currently has the old mint-on-create / lazy minting / batch anchoring / hybrid ownership patterns. Replace the entire content with a redirect notice:\n\n```markdown\n---\ntitle: Funding \u0026 Tokenization\n---\n\n# Funding \u0026 Tokenization\n\nThis content has moved to [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\n```\n\n### 3. Update portability-and-scaling.md\n\nLines 36-38 have \"Blockchain scalability\" section that says \"On-chain operations (minting, transfers, sales) are expensive...\" — this is planned content. Replace with:\n\n```markdown\n#### On-chain scalability (planned)\n\nThe on-chain funding and tokenization layer is not yet implemented. When built, on-chain operations will be expensive, so hypercerts will minimize on-chain activity by keeping rich data on ATProto. Only frozen snapshots and funding flows will touch the blockchain. For details on the planned on-chain design, see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\n```\n\nAlso lines 50-52 have \"Access control via smart contracts\" with token-gated data. Replace with:\n\n```markdown\n#### Access control via smart contracts (planned)\n\nIn the planned design, on-chain tokens could have access control logic — for example, granting read access to private ATProto records only to token holders. This is a potential future feature. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for details.\n```\n\n### 4. Update the-hypercerts-infrastructure.md line 78\n\nChange:\n```\n- [Blockchain Integration](/getting-started/infrastructure/blockchain-integration) — minting patterns and on-chain ownership\n```\nto:\n```\n- [Funding \u0026 Tokenization (Planned)](/architecture/planned-funding-and-tokenization) — freeze-then-fund model and on-chain ownership design\n```\n\n## Test\ngrep -q 'planned-funding-and-tokenization' documentation/lib/navigation.js \u0026\u0026 \\\ngrep -q 'moved to' documentation/pages/getting-started/infrastructure/blockchain-integration.md \u0026\u0026 \\\ngrep -q 'planned-funding-and-tokenization' documentation/pages/getting-started/the-hypercerts-infrastructure.md \u0026\u0026 \\\ngrep -q 'not yet implemented' documentation/pages/getting-started/infrastructure/portability-and-scaling.md \u0026\u0026 \\\n! grep -q 'mints an NFT\\|Mint-on-create\\|Lazy minting' documentation/pages/getting-started/infrastructure/blockchain-integration.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Add duplicate nav entries\n- Delete blockchain-integration.md (keep it as a redirect so old links work)\n- Change anything else in navigation.js\n- Change anything else in the-hypercerts-infrastructure.md besides line 78\n- Change anything else in portability-and-scaling.md besides the blockchain scalability and token-gated sections","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T17:12:50.318417+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T17:18:08.762614+13:00","closed_at":"2026-02-16T17:18:08.762614+13:00","close_reason":"e8dd74d Update navigation and redirect blockchain-integration to planned funding page","labels":["scope:small"],"dependencies":[{"issue_id":"docs-yzy.2","depends_on_id":"docs-yzy","type":"parent-child","created_at":"2026-02-16T17:12:50.31972+13:00","created_by":"sharfy-test.climateai.org"},{"issue_id":"docs-yzy.2","depends_on_id":"docs-yzy.1","type":"blocks","created_at":"2026-02-16T17:14:24.044876+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-yzy.3","title":"Strip planned content from architecture/overview.md and architecture/data-flow-and-lifecycle.md — link to planned page","description":"## Files\n- documentation/pages/architecture/overview.md (modify)\n- documentation/pages/architecture/data-flow-and-lifecycle.md (modify)\n\n## What to do\n\nRemove detailed planned/TBD content from these two architecture pages. Replace with brief mentions and links to /architecture/planned-funding-and-tokenization. The main docs should describe what EXISTS TODAY (ATProto data layer) and only briefly note that on-chain funding is planned.\n\n### architecture/overview.md\n\n**Line 8:** Change to: \"The Hypercerts Protocol uses AT Protocol for data portability. On-chain anchoring for ownership and funding is [planned](/architecture/planned-funding-and-tokenization).\"\n\n**Line 18 (Ownership Layer):** Condense to 1-2 sentences max: \"The **Ownership Layer** is planned but not yet implemented. The intended design uses a freeze-then-fund model where hypercerts are frozen and anchored on-chain before funding — ensuring funders know exactly what they are paying for. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for details.\"\n\n**Lines 48-70 (Ownership Layer Deep Dive):** DELETE this entire section (Anchoring, Tokenization, Funding Mechanisms, Multi-Chain Support). Replace with a single short paragraph:\n\n\"## Ownership Layer (Planned)\n\nThe ownership layer is not yet implemented. The planned design freezes ATProto records and anchors them on-chain before funding, ensuring funders know exactly what they are paying for. For the full planned design — including anchoring, tokenization, funding mechanisms, and multi-chain support — see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\"\n\n**Lines 72-95 (How the Layers Connect):** Keep the first paragraph about content living on ATProto (line 76). Remove lines 78-80 (detailed planned flow) and the cross-layer example (lines 86-95). Replace with:\n\n\"A hypercert's **ownership and funding state** will live on-chain once the tokenization layer is built. The planned bridge is a freeze-then-fund mechanism. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for the full cross-layer design.\"\n\nKeep the callout (lines 82-84) but simplify: \"The separation matters. ATProto provides data portability — users can switch servers, applications can read across the network, and records outlive any single platform. On-chain anchoring will provide ownership and funding guarantees. Neither layer can provide both properties alone.\"\n\n**Lines 105-107 (Why Not Fully Off-Chain?):** Condense. Keep the core point (mutable records are fine for collaboration but funding requires immutability) but remove the detailed freeze-then-fund explanation. Add link.\n\n**Lines 115-119 (Why This Separation):** Simplify. Remove \"through the planned freeze-then-fund mechanism\" and \"Once the tokenization layer is built\". Just say: \"Each layer does what it does best. ATProto handles identity, data portability, and schemas. On-chain anchoring will handle ownership, funding, and immutability. This separation reduces costs, increases flexibility, and maintains portability.\"\n\n**Lines 121-131 (What This Enables):** Remove \"(Planned)\" labels and the detailed planned descriptions. Keep the 4 bullet points but make them concise. For the two that work today, keep as-is. For the two that are planned, just say \"planned\" in one phrase and link to the planned page.\n\n**Add to Next Steps:** Add a link: \"For the planned on-chain funding and tokenization design, see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\"\n\n### architecture/data-flow-and-lifecycle.md\n\n**Line 22 (Funding summary):** Condense to: \"**Funding** connects ownership to the claim. The on-chain funding layer is [planned but not yet implemented](/architecture/planned-funding-and-tokenization). The intended design freezes ATProto records before funding to ensure funders know exactly what they are paying for.\"\n\n**Line 24 (Accumulation):** Simplify to: \"**Accumulation** continues indefinitely. More evaluations arrive. Additional evidence gets attached. The data layer continues evolving.\"\n\n**Line 29 (diagram):** Change \"On-chain (planned)\" to just \"On-chain*\" and add a footnote: \"*On-chain layer is planned. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\"\n\n**Lines 146-187 (Stage 5: Funding \u0026 Ownership):** DELETE the detailed content. Replace with a short section:\n\n\"## Stage 5: Funding \u0026 Ownership (Planned)\n\nThe on-chain funding layer is not yet implemented. The planned design: before a hypercert can be funded, its ATProto records are frozen and the snapshot is anchored on-chain. This ensures funders know exactly what they are paying for — the cert's contents cannot change after freezing.\n\nFor the full planned design — including anchoring, tokenization, funding mechanisms, funding readiness patterns, and multi-chain support — see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\"\n\n**Lines 205-218 (Ownership Transfers, Long-Term Value in Stage 6):** Remove the \"Ownership Transfers\" subsection entirely (it's all planned content). Keep \"Long-Term Value\" but simplify: \"The separation of data and ownership enables long-term value accumulation. A hypercert's reputation can grow as evaluations accumulate. The data remains portable and accessible regardless of future ownership changes.\"\n\nRemove the timeline diagram (lines 213-218) or simplify it to only show what exists today:\n```\nTime →\n─────────────────────────────────────────────────────────\nCreation  Evaluation 1  Discovery  Evaluation 2  Evidence  Evaluation 3\n   ↓          ↓           ↓           ↓            ↓          ↓\n  PDS      PDS-Eva1     Indexer    PDS-Eva2      PDS       PDS-Eva3\n```\n\n## Test\n! grep -q 'Multi-Chain Support' documentation/pages/architecture/overview.md \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/architecture/overview.md | grep -qv '^0$' \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/architecture/data-flow-and-lifecycle.md | grep -qv '^0$' \u0026\u0026 \\\n! grep -q 'Anchoring (Planned)' documentation/pages/architecture/overview.md \u0026\u0026 \\\n! grep -q 'Tokenization (Planned)' documentation/pages/architecture/overview.md \u0026\u0026 \\\n! grep -q 'Funding Mechanisms (Planned)' documentation/pages/architecture/overview.md \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Remove the Data Layer sections — those describe what exists today\n- Remove the Key Design Decisions section entirely — just simplify it\n- Remove the \"What This Enables\" section — just simplify it\n- Add new planned content — we're REMOVING it and linking to the dedicated page\n- Change Stages 1-4 in data-flow-and-lifecycle.md\n- Change the Cross-PDS References or \"What This Flow Enables\" sections in data-flow-and-lifecycle.md","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T17:13:45.724521+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T17:19:22.582072+13:00","closed_at":"2026-02-16T17:19:22.582072+13:00","close_reason":"4ed89bd Strip planned content from architecture docs and link to planned page","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-yzy.3","depends_on_id":"docs-yzy","type":"parent-child","created_at":"2026-02-16T17:13:45.725402+13:00","created_by":"sharfy-test.climateai.org"},{"issue_id":"docs-yzy.3","depends_on_id":"docs-yzy.1","type":"blocks","created_at":"2026-02-16T17:14:24.15891+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-yzy.4","title":"Strip planned content from 5 getting-started and reference pages — link to planned page","description":"## Files\n- documentation/pages/getting-started/the-hypercerts-infrastructure.md (modify)\n- documentation/pages/getting-started/why-atproto.md (modify)\n- documentation/pages/getting-started/why-were-building-hypercerts.md (modify)\n- documentation/pages/getting-started/introduction-to-impact-claims.md (modify)\n- documentation/pages/reference/faq.md (modify)\n\n## What to do\n\nRemove detailed planned/TBD content from these 5 pages. Replace with brief mentions and links to /architecture/planned-funding-and-tokenization.\n\n### the-hypercerts-infrastructure.md\n\n**Line 7:** Change to: \"Hypercerts runs on AT Protocol for data. On-chain anchoring for ownership and funding is [planned](/architecture/planned-funding-and-tokenization).\"\n\n**Lines 19-23 (The funding layer section):** Condense to 2-3 sentences max:\n\n\"#### The funding layer: on-chain anchoring (planned)\n\nThe on-chain funding layer is not yet implemented. The planned design uses a freeze-then-fund model: before a hypercert can be funded, its ATProto records are frozen and anchored on-chain, ensuring funders know exactly what they are paying for. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for the full design.\"\n\n**Lines 25-29 (How the layers connect):** Condense. Keep the AT-URI example. Remove the detailed planned flow. Just say: \"A claim can exist on ATProto without ever being frozen for funding. The two layers are loosely coupled and complement each other.\"\n\n**Lines 53-57 (Step 4):** Condense to:\n\n\"#### 4. The hypercert is frozen and funded (planned)\n\nIn the planned design, Carol's funding app will freeze Alice's hypercert and anchor the snapshot on-chain. Carol knows exactly what she is paying for because the frozen claim cannot change. The tokenization layer is not yet implemented — see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for details.\"\n\n### why-atproto.md\n\n**Lines 49-51 (ATProto + Blockchain section):** Condense to:\n\n\"ATProto handles the data layer — claims, evidence, evaluations, trust signals. On-chain anchoring is planned to handle the funding layer. The intended design: hypercerts are frozen and anchored on-chain before funding, ensuring funders know exactly what they're paying for. The tokenization layer is not yet implemented — see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for the full design.\"\n\n### why-were-building-hypercerts.md\n\n**Line 182:** Keep as-is: \"That's where onchain anchoring comes in — and eventually, tokenization.\"\n\n**Lines 184-192 (The Ownership \u0026 Funding Layer):** Condense to:\n\n\"#### The Funding Layer: On-chain Anchoring (Planned)\n\nATProto provides the data layer. But funding requires a stronger guarantee: funders need to know that what they're paying for won't change after the fact. The planned approach is freeze-then-fund — before a hypercert can be funded, its ATProto records are frozen and anchored on-chain. The tokenization layer is not yet implemented. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for the full design.\"\n\n### introduction-to-impact-claims.md\n\n**Line 21:** Condense to: \"Hypercerts can exist as a standalone activity claim, or they can be [frozen and funded](/architecture/planned-funding-and-tokenization) on-chain (planned).\"\n\n### faq.md\n\n**Line 18 (How is this different):** Condense to: \"The new protocol is built on AT Protocol instead of purely on-chain. This gives data portability, richer schemas, and lower costs. On-chain anchoring for funding is [planned](/architecture/planned-funding-and-tokenization) but not yet implemented.\"\n\n**Lines 20-22 (Do I need a blockchain wallet?):** Condense to: \"Not to create or evaluate hypercerts — you only need an ATProto account (DID). A blockchain wallet will be needed for on-chain funding once the [tokenization layer](/architecture/planned-funding-and-tokenization) is built.\"\n\n**Lines 37-38 (How do I fund?):** Condense to: \"The on-chain funding layer is not yet implemented. The planned design freezes ATProto records before funding to ensure funders know exactly what they are paying for. See [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization) for details.\"\n\n**Lines 44-46 (What chains?):** Condense to: \"The protocol intends to be chain-agnostic. The on-chain layer is not yet implemented — see [Planned: Funding \u0026 Tokenization](/architecture/planned-funding-and-tokenization).\"\n\n## Test\ngrep -c 'planned-funding-and-tokenization' documentation/pages/getting-started/the-hypercerts-infrastructure.md | grep -qv '^0$' \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/getting-started/why-atproto.md | grep -qv '^0$' \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/getting-started/why-were-building-hypercerts.md | grep -qv '^0$' \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/getting-started/introduction-to-impact-claims.md | grep -qv '^0$' \u0026\u0026 \\\ngrep -c 'planned-funding-and-tokenization' documentation/pages/reference/faq.md | grep -qv '^0$' \u0026\u0026 \\\necho \"PASS\" || echo \"FAIL\"\n\n## Don't\n- Remove the data layer sections — those describe what exists today\n- Remove the data flow walkthrough (Steps 1-3 in infrastructure) — those are accurate\n- Remove the Data Integrity and Trust section in infrastructure — accurate\n- Change anything in why-were-building-hypercerts.md before line 172\n- Add new planned content — we're condensing and linking\n- Change the \"Keep Reading\" links in infrastructure (except the blockchain-integration link which is handled by another task)","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T17:14:18.331984+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-17T05:24:43.922182+13:00","closed_at":"2026-02-17T05:24:43.922182+13:00","close_reason":"Superseded by PR #4 merge — all planned-funding-and-tokenization references updated to funding-and-tokenization","labels":["scope:medium"],"dependencies":[{"issue_id":"docs-yzy.4","depends_on_id":"docs-yzy","type":"parent-child","created_at":"2026-02-16T17:14:18.333338+13:00","created_by":"sharfy-test.climateai.org"},{"issue_id":"docs-yzy.4","depends_on_id":"docs-yzy.1","type":"blocks","created_at":"2026-02-16T17:14:24.250458+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-z6h","title":"Epic: Mobile Responsiveness Fixes","status":"closed","priority":1,"issue_type":"epic","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:33:01.220879+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:41:13.491601+13:00","closed_at":"2026-02-16T23:41:13.491601+13:00","close_reason":"b2ca35e All 5 mobile responsiveness tasks complete"}
{"id":"docs-z6h.1","title":"Add mobile typography scaling — reduce heading sizes below 768px","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd mobile-specific font size reductions inside the existing `@media (max-width: 768px)` block (line 990-1034).\n\nAdd these rules before the closing `}` of the mobile media query (before line 1034):\n\n```css\n/* Typography scaling for mobile */\n.layout-content h1 {\n  font-size: 26px;\n  margin-bottom: var(--space-4);\n}\n\n.layout-content h2 {\n  font-size: 20px;\n  line-height: 28px;\n  margin-top: var(--space-8);\n}\n\n.layout-content h3 {\n  font-size: 15px;\n}\n```\n\nContext: Currently h1 is 32px (line 580), h2 is 24px (line 589), h3 is 16px (line 598) on all screen sizes. 32px h1 is too large on a 375px-wide phone screen.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst mobileBlock = css.split(\\\"@media (max-width: 768px)\\\").slice(1).join(\\\"\\\");\nconst hasH1 = /\\\\.layout-content\\\\s+h1[^}]*font-size:\\\\s*2[4-8]px/.test(mobileBlock);\nconst hasH2 = /\\\\.layout-content\\\\s+h2[^}]*font-size:\\\\s*(1[8-9]|2[0-2])px/.test(mobileBlock);\nif (!hasH1) { console.error(\\\"FAIL: no mobile h1 scaling\\\"); process.exit(1); }\nif (!hasH2) { console.error(\\\"FAIL: no mobile h2 scaling\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not change the desktop font sizes (lines 579-613)\n- Do not create a new media query — add to the existing one at line 990\n- Do not change any other CSS rules\n- Do not modify any JS files","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:33:25.213288+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:39:28.347708+13:00","closed_at":"2026-02-16T23:39:28.347708+13:00","close_reason":"67d28e0 Add mobile typography scaling — reduce heading sizes below 768px","labels":["scope:small"],"dependencies":[{"issue_id":"docs-z6h.1","depends_on_id":"docs-z6h","type":"parent-child","created_at":"2026-02-16T23:33:25.215354+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-z6h.2","title":"Increase touch target sizes for sidebar and TOC links on mobile","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nSidebar links (line 400-411) have `padding: 6px var(--space-3)` with `line-height: 20px`, giving a total height of ~32px. The minimum touch target for mobile is 44px per WCAG guidelines.\n\nAdd these rules inside the existing `@media (max-width: 768px)` block (line 990-1034), before the closing `}`:\n\n```css\n/* Increase touch targets for mobile */\n.sidebar-link {\n  padding: 10px var(--space-3);\n  min-height: 44px;\n  display: flex;\n  align-items: center;\n}\n```\n\nNote: TOC links (line 502-510) have `padding: var(--space-1) 0` (~28px total height), but the TOC is already hidden on mobile via `@media (max-width: 1200px)` at line 983-987, so no fix needed there.\n\nAlso increase the hamburger button touch target (line 215-225). It currently has `padding: var(--space-1)` (4px). Change the hamburger button padding to ensure 44px minimum:\n\n```css\n.hamburger-btn {\n  padding: var(--space-2);\n  min-width: 44px;\n  min-height: 44px;\n}\n```\n\nThis hamburger rule goes inside the mobile media query since the button is only visible on mobile anyway.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst mobileBlock = css.split(\\\"@media (max-width: 768px)\\\").slice(1).join(\\\"\\\");\nconst hasSidebarPadding = /\\\\.sidebar-link[^}]*min-height:\\\\s*44px/.test(mobileBlock);\nconst hasHamburger = /\\\\.hamburger-btn[^}]*min-height:\\\\s*44px/.test(mobileBlock);\nif (!hasSidebarPadding) { console.error(\\\"FAIL: sidebar links not 44px\\\"); process.exit(1); }\nif (!hasHamburger) { console.error(\\\"FAIL: hamburger not 44px\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not change the desktop sidebar link styles (lines 400-411)\n- Do not change TOC link styles (TOC is already hidden on mobile)\n- Do not create a new media query — add to the existing one at line 990\n- Do not modify any JS files","status":"closed","priority":1,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:33:38.128986+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:39:06.53761+13:00","closed_at":"2026-02-16T23:39:06.53761+13:00","close_reason":"ac33796 Increase touch target sizes for sidebar and TOC links on mobile","labels":["scope:small"],"dependencies":[{"issue_id":"docs-z6h.2","depends_on_id":"docs-z6h","type":"parent-child","created_at":"2026-02-16T23:33:38.130326+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-z6h.3","title":"Add tablet breakpoint (768-1024px) with content padding adjustment","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nCurrently there are only 3 breakpoints:\n- `@media (min-width: 1400px)` — line 138 (wider sidebar)\n- `@media (max-width: 1200px)` — line 983 (hides TOC)\n- `@media (max-width: 768px)` — line 990 (mobile layout)\n\nThe 768-1024px range (tablet) has no specific styles. The sidebar takes 250px and the content area has large padding, leaving cramped content on tablets.\n\nAdd a new media query between the TOC-hiding rule (line 987) and the mobile rule (line 990):\n\n```css\n/* Tablet: reduce content padding, narrow sidebar */\n@media (min-width: 769px) and (max-width: 1024px) {\n  :root {\n    --sidebar-width: 220px;\n  }\n\n  .layout-content {\n    padding: var(--space-6) var(--space-6);\n  }\n\n  .layout-content h1 {\n    font-size: 28px;\n  }\n}\n```\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst hasTablet = css.includes(\\\"max-width: 1024px\\\") \u0026\u0026 css.includes(\\\"min-width: 769px\\\");\nconst hasSidebarWidth = /--sidebar-width:\\s*220px/.test(css);\nif (!hasTablet) { console.error(\\\"FAIL: no tablet breakpoint\\\"); process.exit(1); }\nif (!hasSidebarWidth) { console.error(\\\"FAIL: no tablet sidebar width\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not modify the existing breakpoints at lines 138, 983, or 990\n- Do not change any desktop styles\n- Do not modify any JS files","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:33:49.225736+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:40:14.781069+13:00","closed_at":"2026-02-16T23:40:14.781069+13:00","close_reason":"ac33796 Already implemented in docs-z6h.2 commit - tablet breakpoint exists and test passes","labels":["scope:small"],"dependencies":[{"issue_id":"docs-z6h.3","depends_on_id":"docs-z6h","type":"parent-child","created_at":"2026-02-16T23:33:49.227103+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-z6h.4","title":"Reduce header height on mobile and optimize breadcrumbs","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nThe header is 64px tall on all screen sizes (line 111: `--header-height: 64px`). On mobile, this takes significant vertical space. Breadcrumbs can also wrap to multiple lines on narrow screens.\n\nAdd these rules inside the existing `@media (max-width: 768px)` block (line 990-1034), before the closing `}`:\n\n```css\n/* Reduce header height on mobile */\n:root {\n  --header-height: 56px;\n}\n\n.layout-logo-img {\n  height: 24px;\n}\n\n/* Compact breadcrumbs on mobile */\n.breadcrumbs {\n  margin-bottom: var(--space-3);\n}\n\n.breadcrumbs-list {\n  flex-wrap: nowrap;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.breadcrumbs-item {\n  white-space: nowrap;\n}\n```\n\nContext:\n- Header height is set via CSS variable `--header-height` (line 111), used by the header (line 186), sidebar top offset (line 997), and overlay top offset (line 1015). Overriding the variable in the mobile block cascades to all of these.\n- Logo image is 28px tall (line 211). Reducing to 24px keeps proportion with the shorter header.\n- Breadcrumbs currently use `flex-wrap: wrap` (line 239). On mobile, long breadcrumb trails should scroll horizontally instead of wrapping.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst mobileBlock = css.split(\\\"@media (max-width: 768px)\\\").slice(1).join(\\\"\\\");\nconst hasHeader = /--header-height:\\s*5[2-8]px/.test(mobileBlock);\nconst hasBreadcrumbs = /\\\\.breadcrumbs-list[^}]*flex-wrap:\\s*nowrap/.test(mobileBlock);\nif (!hasHeader) { console.error(\\\"FAIL: no mobile header height\\\"); process.exit(1); }\nif (!hasBreadcrumbs) { console.error(\\\"FAIL: no breadcrumb nowrap\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not change the desktop header height (line 111)\n- Do not change the desktop breadcrumb styles (lines 232-268)\n- Do not create a new media query — add to the existing one at line 990\n- Do not modify any JS files","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:34:02.999673+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:40:29.109311+13:00","closed_at":"2026-02-16T23:40:29.109311+13:00","close_reason":"b2ca35e Reduce header height on mobile and optimize breadcrumbs","labels":["scope:small"],"dependencies":[{"issue_id":"docs-z6h.4","depends_on_id":"docs-z6h","type":"parent-child","created_at":"2026-02-16T23:34:03.001195+13:00","created_by":"sharfy-test.climateai.org"}]}
{"id":"docs-z6h.5","title":"Add small mobile breakpoint (\u003c 480px) and pagination stacking","description":"## Files\n- documentation/styles/globals.css (modify)\n\n## What to do\nAdd a small mobile breakpoint for very narrow screens (iPhone SE at 375px, older Android at 360px). Also stack pagination cards vertically on mobile.\n\nAdd a new media query AFTER the existing mobile block (after line 1034):\n\n```css\n/* Small mobile: extra narrow screens */\n@media (max-width: 480px) {\n  .sidebar {\n    width: 85vw;\n    min-width: 85vw;\n  }\n\n  .layout-header-inner {\n    padding: 0 var(--space-3);\n  }\n\n  .layout-content {\n    padding: var(--space-4) var(--space-3);\n  }\n}\n```\n\nAlso add pagination stacking inside the existing `@media (max-width: 768px)` block (before line 1034):\n\n```css\n/* Stack pagination on mobile */\n.pagination {\n  flex-direction: column;\n}\n\n.pagination-link {\n  width: 100%;\n}\n\n.pagination-link-next {\n  text-align: left;\n}\n```\n\nContext:\n- The sidebar is fixed at 250px width (line 108). On a 375px screen, that leaves only 125px visible content — too cramped. Using 85vw gives ~319px sidebar with some visible background.\n- Header inner padding is `0 var(--space-8)` (32px, line 195). On tiny screens, reduce to 12px.\n- Pagination uses `display: flex` with `justify-content: space-between` (lines 527-534). On mobile, prev/next cards should stack vertically.\n\n## Test\n```bash\ncd documentation \u0026\u0026 node -e \"\nconst fs = require(\\\"fs\\\");\nconst css = fs.readFileSync(\\\"styles/globals.css\\\", \\\"utf8\\\");\nconst hasSmallMobile = css.includes(\\\"max-width: 480px\\\");\nconst has85vw = /\\\\.sidebar[^}]*width:\\\\s*85vw/.test(css);\nconst mobileBlock = css.split(\\\"@media (max-width: 768px)\\\").slice(1).join(\\\"\\\");\nconst hasPaginationStack = /\\\\.pagination[^}]*flex-direction:\\\\s*column/.test(mobileBlock);\nif (!hasSmallMobile) { console.error(\\\"FAIL: no 480px breakpoint\\\"); process.exit(1); }\nif (!has85vw) { console.error(\\\"FAIL: no 85vw sidebar\\\"); process.exit(1); }\nif (!hasPaginationStack) { console.error(\\\"FAIL: no pagination stacking\\\"); process.exit(1); }\nconsole.log(\\\"PASS\\\");\n\"\n```\n\n## Dont\n- Do not modify the existing breakpoints\n- Do not change desktop styles\n- Do not modify any JS files\n- Do not change the sidebar width CSS variable — override the width directly on .sidebar","status":"closed","priority":2,"issue_type":"task","assignee":"sharfy-test.climateai.org","owner":"sharfy-test.climateai.org","created_at":"2026-02-16T23:34:17.12088+13:00","created_by":"sharfy-test.climateai.org","updated_at":"2026-02-16T23:39:44.212351+13:00","closed_at":"2026-02-16T23:39:44.212351+13:00","close_reason":"b2ca35e Add small mobile breakpoint (\u003c480px) and pagination stacking","labels":["scope:small"],"dependencies":[{"issue_id":"docs-z6h.5","depends_on_id":"docs-z6h","type":"parent-child","created_at":"2026-02-16T23:34:17.122179+13:00","created_by":"sharfy-test.climateai.org"}]}
